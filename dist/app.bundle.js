!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=170)}([function(e,t,n){"use strict";e.exports=n(212)},function(e,t,n){"use strict";t.__esModule=!0,t.useWindowDimensions=t.useColorScheme=t.DeviceEventEmitter=t.TVEventHandler=t.Systrace=t.Settings=t.PermissionsAndroid=t.ToastAndroid=t.InputAccessoryView=t.DrawerLayoutAndroid=t.LogBox=t.YellowBox=t.VirtualizedList=t.View=t.TouchableWithoutFeedback=t.TouchableOpacity=t.TouchableNativeFeedback=t.TouchableHighlight=t.Touchable=t.TextInput=t.Text=t.Switch=t.StatusBar=t.SectionList=t.ScrollView=t.SafeAreaView=t.RefreshControl=t.ProgressBar=t.Pressable=t.Picker=t.Modal=t.KeyboardAvoidingView=t.ImageBackground=t.Image=t.FlatList=t.CheckBox=t.Button=t.ActivityIndicator=t.Vibration=t.UIManager=t.StyleSheet=t.Share=t.Platform=t.PixelRatio=t.PanResponder=t.NativeEventEmitter=t.Linking=t.LayoutAnimation=t.InteractionManager=t.Keyboard=t.I18nManager=t.Easing=t.Dimensions=t.DeviceInfo=t.Clipboard=t.BackHandler=t.AppState=t.AppRegistry=t.Appearance=t.Animated=t.Alert=t.AccessibilityInfo=t.NativeModules=t.unmountComponentAtNode=t.render=t.processColor=t.findNodeHandle=t.unstable_createElement=void 0;var r=_e(n(16));t.unstable_createElement=r.default;var i=_e(n(29));t.findNodeHandle=i.default;var o=_e(n(101));t.processColor=o.default;var a=_e(n(108));t.render=a.default;var s=_e(n(109));t.unmountComponentAtNode=s.default;var l=_e(n(216));t.NativeModules=l.default;var u=_e(n(219));t.AccessibilityInfo=u.default;var c=_e(n(220));t.Alert=c.default;var d=_e(n(221));t.Animated=d.default;var h=_e(n(126));t.Appearance=h.default;var f=_e(n(267));t.AppRegistry=f.default;var p=_e(n(270));t.AppState=p.default;var m=_e(n(272));t.BackHandler=m.default;var g=_e(n(273));t.Clipboard=g.default;var _=_e(n(274));t.DeviceInfo=_.default;var y=_e(n(38));t.Dimensions=y.default;var v=_e(n(275));t.Easing=v.default;var b=_e(n(78));t.I18nManager=b.default;var x=_e(n(276));t.Keyboard=x.default;var w=_e(n(45));t.InteractionManager=w.default;var S=_e(n(277));t.LayoutAnimation=S.default;var E=_e(n(279));t.Linking=E.default;var T=_e(n(280));t.NativeEventEmitter=T.default;var k=_e(n(281));t.PanResponder=k.default;var C=_e(n(124));t.PixelRatio=C.default;var P=_e(n(51));t.Platform=P.default;var R=_e(n(284));t.Share=R.default;var O=_e(n(3));t.StyleSheet=O.default;var M=_e(n(20));t.UIManager=M.default;var A=_e(n(285));t.Vibration=A.default;var I=_e(n(286));t.ActivityIndicator=I.default;var D=_e(n(287));t.Button=D.default;var L=_e(n(289));t.CheckBox=L.default;var z=_e(n(117));t.FlatList=z.default;var N=_e(n(91));t.Image=N.default;var F=_e(n(290));t.ImageBackground=F.default;var B=_e(n(291));t.KeyboardAvoidingView=B.default;var j=_e(n(292));t.Modal=j.default;var V=_e(n(297));t.Picker=V.default;var U=_e(n(299));t.Pressable=U.default;var W=_e(n(303));t.ProgressBar=W.default;var G=_e(n(121));t.RefreshControl=G.default;var H=_e(n(304));t.SafeAreaView=H.default;var q=_e(n(50));t.ScrollView=q.default;var $=_e(n(125));t.SectionList=$.default;var Z=_e(n(305));t.StatusBar=Z.default;var K=_e(n(306));t.Switch=K.default;var X=_e(n(92));t.Text=X.default;var Y=_e(n(307));t.TextInput=Y.default;var Q=_e(n(308));t.Touchable=Q.default;var J=_e(n(311));t.TouchableHighlight=J.default;var ee=_e(n(312));t.TouchableNativeFeedback=ee.default;var te=_e(n(127));t.TouchableOpacity=te.default;var ne=_e(n(313));t.TouchableWithoutFeedback=ne.default;var re=_e(n(5));t.View=re.default;var ie=_e(n(314));t.VirtualizedList=ie.default;var oe=_e(n(315));t.YellowBox=oe.default;var ae=_e(n(316));t.LogBox=ae.default;var se=_e(n(317));t.DrawerLayoutAndroid=se.default;var le=_e(n(318));t.InputAccessoryView=le.default;var ue=_e(n(319));t.ToastAndroid=ue.default;var ce=_e(n(320));t.PermissionsAndroid=ce.default;var de=_e(n(321));t.Settings=de.default;var he=_e(n(322));t.Systrace=he.default;var fe=_e(n(323));t.TVEventHandler=fe.default;var pe=_e(n(324));t.DeviceEventEmitter=pe.default;var me=_e(n(325));t.useColorScheme=me.default;var ge=_e(n(326));function _e(e){return e&&e.__esModule?e:{default:e}}t.useWindowDimensions=ge.default},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(r(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(t.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=n(6),o=(r=n(209))&&r.__esModule?r:{default:r};i.canUseDOM&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=o.default.flatten);var a=o.default;t.default=a,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));let r=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=g(n(0)),i=p(n(16)),o=p(n(36)),a=g(n(85)),s=p(n(47)),l=p(n(86)),u=p(n(22)),c=p(n(49)),d=p(n(87)),h=p(n(3)),f=p(n(88));function p(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=y(y(y(y(y(y(y(y(y({},a.defaultProps),a.accessibilityProps),a.clickProps),a.focusProps),a.keyboardProps),a.mouseProps),a.touchProps),a.styleProps),{},{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),x=(0,r.forwardRef)((function(e,t){var n=e.hrefAttrs,o=e.onLayout,a=e.onMoveShouldSetResponder,p=e.onMoveShouldSetResponderCapture,m=e.onResponderEnd,g=e.onResponderGrant,_=e.onResponderMove,y=e.onResponderReject,v=e.onResponderRelease,x=e.onResponderStart,E=e.onResponderTerminate,T=e.onResponderTerminationRequest,k=e.onScrollShouldSetResponder,C=e.onScrollShouldSetResponderCapture,P=e.onSelectionChangeShouldSetResponder,R=e.onSelectionChangeShouldSetResponderCapture,O=e.onStartShouldSetResponder,M=e.onStartShouldSetResponderCapture;var A=(0,r.useContext)(f.default),I=(0,r.useRef)(null);(0,l.default)(I,o),(0,d.default)(I,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:p,onResponderEnd:m,onResponderGrant:g,onResponderMove:_,onResponderReject:y,onResponderRelease:v,onResponderStart:x,onResponderTerminate:E,onResponderTerminationRequest:T,onScrollShouldSetResponder:k,onScrollShouldSetResponderCapture:C,onSelectionChangeShouldSetResponder:P,onSelectionChangeShouldSetResponderCapture:R,onStartShouldSetResponder:O,onStartShouldSetResponderCapture:M});var D=h.default.compose(A&&S.inline,e.style),L=function(e){return(0,s.default)(e,b)}(e);if(L.classList=w,L.style=D,null!=e.href&&null!=n){var z=n.download,N=n.rel,F=n.target;null!=z&&(L.download=z),null!=N&&(L.rel=N),"string"==typeof F&&(L.target="_"!==F.charAt(0)?"_"+F:F)}var B=(0,c.default)(L),j=(0,u.default)(I,B,t);return L.ref=j,(0,i.default)("div",L)}));x.displayName="View";var w=[o.default.create({view:{alignItems:"stretch",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",zIndex:0}}).view],S=h.default.create({inline:{display:"inline-flex"}}),E=x;t.default=E,e.exports=t.default},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";n.r(t);var r=n(12);for(var i in r)["default","BaseNavigationContainer","createNavigatorFactory","NavigationHelpersContext","NavigationContext","NavigationRouteContext","CurrentRenderContext","useNavigationBuilder","useNavigation","useRoute","useFocusEffect","useIsFocused","useNavigationState","getStateFromPath","getPathFromState","getActionFromState","getFocusedRouteNameFromRoute"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var o=n(132);n.d(t,"BaseNavigationContainer",(function(){return o.a}));var a=n(133);n.d(t,"createNavigatorFactory",(function(){return a.a}));var s=n(134);n.d(t,"NavigationHelpersContext",(function(){return s.a}));var l=n(15);n.d(t,"NavigationContext",(function(){return l.a}));var u=n(11);n.d(t,"NavigationRouteContext",(function(){return u.a}));var c=n(58);n.d(t,"CurrentRenderContext",(function(){return c.a}));var d=n(164);n.d(t,"useNavigationBuilder",(function(){return d.a}));var h=n(26);n.d(t,"useNavigation",(function(){return h.a}));var f=n(135);n.d(t,"useRoute",(function(){return f.a}));var p=n(136);n.d(t,"useFocusEffect",(function(){return p.a}));var m=n(137);n.d(t,"useIsFocused",(function(){return m.a}));var g=n(138);n.d(t,"useNavigationState",(function(){return g.a}));var _=n(139);n.d(t,"getStateFromPath",(function(){return _.a}));var y=n(140);n.d(t,"getPathFromState",(function(){return y.a}));var v=n(141);n.d(t,"getActionFromState",(function(){return v.a}));var b=n(142);n.d(t,"getFocusedRouteNameFromRoute",(function(){return b.a}));var x=n(32);n.d(t,"PrivateValueStore",(function(){return x.a}))},function(e,t,n){"use strict";n.r(t);var r=n(7);for(var i in r)["default","NavigationContainer","useBackButton","useScrollToTop","DefaultTheme","DarkTheme","ThemeProvider","useTheme","Link","useLinking","useLinkTo","useLinkProps","useLinkBuilder","ServerContainer"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var o=n(165);n.d(t,"NavigationContainer",(function(){return o.a}));var a=n(59);n.d(t,"useBackButton",(function(){return a.a}));var s=n(143);n.d(t,"useScrollToTop",(function(){return s.a}));var l=n(33);n.d(t,"DefaultTheme",(function(){return l.a}));var u=n(144);n.d(t,"DarkTheme",(function(){return u.a}));var c=n(61);n.d(t,"ThemeProvider",(function(){return c.a}));var d=n(145);n.d(t,"useTheme",(function(){return d.a}));var h=n(146);n.d(t,"Link",(function(){return h.a}));var f=n(60);n.d(t,"useLinking",(function(){return f.a}));var p=n(63);n.d(t,"useLinkTo",(function(){return p.a}));var m=n(62);n.d(t,"useLinkProps",(function(){return m.a}));var g=n(147);n.d(t,"useLinkBuilder",(function(){return g.a}));var _=n(148);n.d(t,"ServerContainer",(function(){return _.a}));var y=n(149);for(var i in y)["default","NavigationContainer","useBackButton","useScrollToTop","DefaultTheme","DarkTheme","ThemeProvider","useTheme","Link","useLinking","useLinkTo","useLinkProps","useLinkBuilder","ServerContainer"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return y[e]}))}(i)},function(e,t,n){"use strict";var r=n(0);const i=r.createContext({onDispatchAction:()=>{},onOptionsChange:()=>{}});t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areaConversion=t.timeConversion=t.distanceConversion=t.altitudeKeys=t.latitudeKeys=t.longitudeKeys=t.MAXLON=t.MINLON=t.MAXLAT=t.MINLAT=t.earthRadius=t.sexagesimalPattern=void 0;t.sexagesimalPattern=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;t.earthRadius=6378137;t.MINLAT=-90;t.MAXLAT=90;t.MINLON=-180;t.MAXLON=180;t.longitudeKeys=["lng","lon","longitude",0];t.latitudeKeys=["lat","latitude",1];t.altitudeKeys=["alt","altitude","elevation","elev",2];t.distanceConversion={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};t.timeConversion={m:60,h:3600,d:86400};var r={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};t.areaConversion=r,r.sqm=r.m2,r.sqkm=r.km2,r.sqft=r.ft2,r.sqyd=r.yd2,r.sqin=r.in2},function(e,t,n){"use strict";var r=n(0);const i=r.createContext(void 0);t.a=i},function(e,t,n){"use strict";n.r(t);var r=n(130);n.d(t,"CommonActions",(function(){return r}));var i=n(27);n.d(t,"BaseRouter",(function(){return i.a}));var o=n(93);n.d(t,"StackRouter",(function(){return o.b})),n.d(t,"StackActions",(function(){return o.a}));var a=n(31);n.d(t,"TabRouter",(function(){return a.b})),n.d(t,"TabActions",(function(){return a.a}));var s=n(94);n.d(t,"DrawerRouter",(function(){return s.b})),n.d(t,"DrawerActions",(function(){return s.a}));var l=n(131);for(var u in l)["default","CommonActions","BaseRouter","StackRouter","StackActions","TabRouter","TabActions","DrawerRouter","DrawerActions"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return l[e]}))}(u)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(14)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var a=r.default.API,s=1,l=function(){var e=t.prototype;function t(){this._listeners={}}return e.__attach=function(){},e.__detach=function(){this.__isNative&&null!=this.__nativeTag&&(r.default.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)},e.__getValue=function(){},e.__getAnimatedValue=function(){return this.__getValue()},e.__addChild=function(e){},e.__removeChild=function(e){},e.__getChildren=function(){return[]},e.__makeNative=function(){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this.hasListeners()&&this._startListeningToNativeValueUpdates()},e.addListener=function(e){var t=String(s++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t},e.removeListener=function(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()},e.removeAllListeners=function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()},e.hasListeners=function(){return!!Object.keys(this._listeners).length},e._startListeningToNativeValueUpdates=function(){var e=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),a.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=r.default.nativeEventEmitter.addListener("onAnimatedValueUpdate",(function(t){t.tag===e.__getNativeTag()&&e._onAnimatedValueUpdateReceived(t.value)})))},e._onAnimatedValueUpdateReceived=function(e){this.__callListeners(e)},e.__callListeners=function(e){for(var t in this._listeners)this._listeners[t]({value:e})},e._stopListeningForNativeValueUpdates=function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,a.stopListeningToAnimatedNodeValue(this.__getNativeTag()))},e.__getNativeTag=function(){if(r.default.assertNativeAnimatedModule(),(0,i.default)(this.__isNative,'Attempt to get native tag from node not marked as "native"'),null==this.__nativeTag){var e=r.default.generateNewNodeTag();this.__nativeTag=e,r.default.API.createAnimatedNode(e,this.__getNativeConfig()),this.__shouldUpdateListenersForNewNativeTag=!0}return this.__nativeTag},e.__getNativeConfig=function(){throw new Error("This JS animated node type cannot be used as native animated node")},e.toJSON=function(){return this.__getValue()},t}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.addWhitelistedStyleProp=g,t.addWhitelistedTransformProp=_,t.addWhitelistedInterpolationParam=y,t.validateStyles=b,t.validateTransform=v,t.validateInterpolation=x,t.generateNewNodeTag=w,t.generateNewAnimationId=S,t.assertNativeAnimatedModule=E,t.shouldUseNativeDriver=T,t.transformDataType=k,t.default=t.API=void 0;var r=a(n(111)),i=a(n(225)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var s,l=1,u=1,c=!1,d=[],h={enableQueue:function(){c=!0},disableQueue:function(){(0,o.default)(i.default,"Native animated module is not available"),c=!1;for(var e=0,t=d.length;e<t;e++){var n=d[e];i.default.connectAnimatedNodes(n[0],n[1])}d.length=0},createAnimatedNode:function(e,t){(0,o.default)(i.default,"Native animated module is not available"),i.default.createAnimatedNode(e,t)},startListeningToAnimatedNodeValue:function(e){(0,o.default)(i.default,"Native animated module is not available"),i.default.startListeningToAnimatedNodeValue(e)},stopListeningToAnimatedNodeValue:function(e){(0,o.default)(i.default,"Native animated module is not available"),i.default.stopListeningToAnimatedNodeValue(e)},connectAnimatedNodes:function(e,t){(0,o.default)(i.default,"Native animated module is not available"),c?d.push([e,t]):i.default.connectAnimatedNodes(e,t)},disconnectAnimatedNodes:function(e,t){(0,o.default)(i.default,"Native animated module is not available"),i.default.disconnectAnimatedNodes(e,t)},startAnimatingNode:function(e,t,n,r){(0,o.default)(i.default,"Native animated module is not available"),i.default.startAnimatingNode(e,t,n,r)},stopAnimation:function(e){(0,o.default)(i.default,"Native animated module is not available"),i.default.stopAnimation(e)},setAnimatedNodeValue:function(e,t){(0,o.default)(i.default,"Native animated module is not available"),i.default.setAnimatedNodeValue(e,t)},setAnimatedNodeOffset:function(e,t){(0,o.default)(i.default,"Native animated module is not available"),i.default.setAnimatedNodeOffset(e,t)},flattenAnimatedNodeOffset:function(e){(0,o.default)(i.default,"Native animated module is not available"),i.default.flattenAnimatedNodeOffset(e)},extractAnimatedNodeOffset:function(e){(0,o.default)(i.default,"Native animated module is not available"),i.default.extractAnimatedNodeOffset(e)},connectAnimatedNodeToView:function(e,t){(0,o.default)(i.default,"Native animated module is not available"),i.default.connectAnimatedNodeToView(e,t)},disconnectAnimatedNodeFromView:function(e,t){(0,o.default)(i.default,"Native animated module is not available"),i.default.disconnectAnimatedNodeFromView(e,t)},dropAnimatedNode:function(e){(0,o.default)(i.default,"Native animated module is not available"),i.default.dropAnimatedNode(e)},addAnimatedEventToView:function(e,t,n){(0,o.default)(i.default,"Native animated module is not available"),i.default.addAnimatedEventToView(e,t,n)},removeAnimatedEventFromView:function(e,t,n){(0,o.default)(i.default,"Native animated module is not available"),i.default.removeAnimatedEventFromView(e,t,n)}};t.API=h;var f={opacity:!0,transform:!0,borderRadius:!0,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},p={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,perspective:!0},m={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function g(e){f[e]=!0}function _(e){p[e]=!0}function y(e){m[e]=!0}function v(e){e.forEach((function(e){if(!p.hasOwnProperty(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")}))}function b(e){for(var t in e)if(!f.hasOwnProperty(t))throw new Error("Style property '"+t+"' is not supported by native animated module")}function x(e){for(var t in e)if(!m.hasOwnProperty(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")}function w(){return l++}function S(){return u++}function E(){(0,o.default)(i.default,"Native animated module is not available")}function T(e){return(!0!==e.useNativeDriver||i.default)&&e.useNativeDriver||!1}function k(e){return"string"!=typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e}var C={API:h,addWhitelistedStyleProp:g,addWhitelistedTransformProp:_,addWhitelistedInterpolationParam:y,validateStyles:b,validateTransform:v,validateInterpolation:x,generateNewNodeTag:w,generateNewAnimationId:S,assertNativeAnimatedModule:E,shouldUseNativeDriver:T,transformDataType:k,get nativeEventEmitter(){return s||(s=new r.default(i.default)),s}};t.default=C},function(e,t,n){"use strict";var r=n(0);const i=r.createContext(void 0);t.a=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(75)),i=a(n(98)),o=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n;e&&e.constructor===String&&(n=r.default.propsToAccessibilityComponent(t));for(var a=n||e,s=(0,i.default)(a,t),l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];return o.default.createElement.apply(o.default,[a,s].concat(u))};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(13)),i=o(n(14));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){var t,n;function r(){var t;return(t=e.call(this)||this)._children=[],t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var o=r.prototype;return o.__makeNative=function(){if(!this.__isNative){this.__isNative=!0;for(var t,n=a(this._children);!(t=n()).done;){var r=t.value;r.__makeNative(),i.default.API.connectAnimatedNodes(this.__getNativeTag(),r.__getNativeTag())}}e.prototype.__makeNative.call(this)},o.__addChild=function(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(),i.default.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))},o.__removeChild=function(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&i.default.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")},o.__getChildren=function(){return this._children},o.__callListeners=function(t){if(e.prototype.__callListeners.call(this,t),!this.__isNative)for(var n,r=a(this._children);!(n=r()).done;){var i=n.value;i.__getValue&&i.__callListeners(i.__getValue())}},r}(r.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10),i=a(n(54)),o=a(n(95));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=(0,i.default)(e,r.latitudeKeys);if(null!=n){var a=e[n];return!0===t?a:(0,o.default)(a)}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10),i=a(n(54)),o=a(n(95));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=(0,i.default)(e,r.longitudeKeys);if(null!=n){var a=e[n];return!0===t?a:(0,o.default)(a)}};t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(110)),i=o(n(217));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=(0,r.default)(e),n=t.x,i=t.y,o=t.top,a=t.left;return{x:n,y:i,width:e.offsetWidth,height:e.offsetHeight,top:o,left:a}},s=function(e,t,n){var i=t||e&&e.parentNode;e&&i&&setTimeout((function(){var t=(0,r.default)(i),o=a(e),s=o.height,l=o.left,u=o.top,c=o.width,d=l-t.left,h=u-t.top;n(d,h,c,s,l,u)}),0)},l={A:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},u={blur:function(e){try{e.blur()}catch(e){}},focus:function(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&null==l[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(e){}},measure:function(e,t){s(e,null,t)},measureInWindow:function(e,t){e&&setTimeout((function(){var n=a(e),r=n.height,i=n.left,o=n.top,s=n.width;t(i,o,s,r)}),0)},measureLayout:function(e,t,n,r){s(e,t,r)},updateView:function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":(0,i.default)(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation:function(e,t){t()},setLayoutAnimationEnabledExperimental:function(){}};t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(25)),i=a(n(17)),o=a(n(45));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=a(n(14)).default.API;var u=function(e){var t,n;function i(t){var n;return(n=e.call(this)||this)._startingValue=n._value=t,n._offset=0,n._animation=null,n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var a=i.prototype;return a.__detach=function(){this.stopAnimation(),e.prototype.__detach.call(this)},a.__getValue=function(){return this._value+this._offset},a.setValue=function(e){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&l.setAnimatedNodeValue(this.__getNativeTag(),e)},a.setOffset=function(e){this._offset=e,this.__isNative&&l.setAnimatedNodeOffset(this.__getNativeTag(),e)},a.flattenOffset=function(){this._value+=this._offset,this._offset=0,this.__isNative&&l.flattenAnimatedNodeOffset(this.__getNativeTag())},a.extractOffset=function(){this._offset+=this._value,this._value=0,this.__isNative&&l.extractAnimatedNodeOffset(this.__getNativeTag())},a.stopAnimation=function(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&e(this.__getValue())},a.resetAnimation=function(e){this.stopAnimation(e),this._value=this._startingValue},a._onAnimatedValueUpdateReceived=function(e){this._updateValue(e,!1)},a.interpolate=function(e){return new r.default(this,e)},a.animate=function(e,t){var n=this,r=null;e.__isInteraction&&(r=o.default.createInteractionHandle());var i=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,(function(e){n._updateValue(e,!0)}),(function(e){n._animation=null,null!==r&&o.default.clearInteractionHandle(r),t&&t(e)}),i,this)},a.stopTracking=function(){this._tracking&&this._tracking.__detach(),this._tracking=null},a.track=function(e){this.stopTracking(),this._tracking=e},a._updateValue=function(t,n){var r,i;this._value=t,n&&(r=this,i=new Set,function e(t){"function"==typeof t.update?i.add(t):t.__getChildren().forEach(e)}(r),i.forEach((function(e){return e.update()}))),e.prototype.__callListeners.call(this,this.__getValue())},a.__getNativeConfig=function(){return{type:"value",value:this._value,offset:this._offset}},i}(i.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((function(){return o.default.apply(void 0,t)}),[].concat(t))};var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=(r=n(84))&&r.__esModule?r:{default:r};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e*Math.PI/180};t.default=r},function(e,t,n){"use strict";var r=n(0);const i="Couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'? See https://reactnavigation.org/docs/getting-started for setup instructions.";t.a=r.createContext({isDefault:!0,get getKey(){throw new Error(i)},get setKey(){throw new Error(i)},get getState(){throw new Error(i)},get setState(){throw new Error(i)},get getIsInitial(){throw new Error(i)}})},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n(13));var r=s(n(17)),i=s(n(14)),o=s(n(2)),a=s(n(77));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){return e};function f(e){if(e.outputRange&&"string"==typeof e.outputRange[0])return function(e){var t=e.outputRange;(0,o.default)(t.length>=2,"Bad output range"),function(e){for(var t=e[0].replace(m,""),n=1;n<e.length;++n)(0,o.default)(t===e[n].replace(m,""),"invalid pattern "+e[0]+" and "+e[n])}(t=t.map(p));var n=t[0].match(m).map((function(){return[]}));t.forEach((function(e){e.match(m).forEach((function(e,t){n[t].push(+e)}))}));var r=t[0].match(m).map((function(t,r){return f(c(c({},e),{},{outputRange:n[r]}))})),i=(a=t[0],"string"==typeof a&&a.startsWith("rgb"));var a;return function(e){var n=0;return t[0].replace(m,(function(){var t=+r[n++](e);return i&&(t=n<4?Math.round(t):Math.round(1e3*t)/1e3),String(t)}))}}(e);var t=e.outputRange;g("outputRange",t);var n=e.inputRange;g("inputRange",n),function(e){(0,o.default)(e.length>=2,"inputRange must have at least 2 elements");for(var t=1;t<e.length;++t)(0,o.default)(e[t]>=e[t-1],"inputRange must be monotonically non-decreasing "+e)}(n),(0,o.default)(n.length===t.length,"inputRange ("+n.length+") and outputRange ("+t.length+") must have the same length");var r=e.easing||h,i="extend";void 0!==e.extrapolateLeft?i=e.extrapolateLeft:void 0!==e.extrapolate&&(i=e.extrapolate);var a="extend";return void 0!==e.extrapolateRight?a=e.extrapolateRight:void 0!==e.extrapolate&&(a=e.extrapolate),function(e){(0,o.default)("number"==typeof e,"Cannot interpolation an input which is not a number");var s=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,i,o,a,s){var l=e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,n[s],n[s+1],t[s],t[s+1],r,i,a)}}function p(e){var t=(0,a.default)(e);return null===t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var m=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function g(e,t){(0,o.default)(t.length>=2,e+" must have at least 2 elements"),(0,o.default)(2!==t.length||t[0]!==-1/0||t[1]!==1/0,e+"cannot be ]-infinity;+infinity[ "+t)}var _=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._parent=t,r._config=n,r._interpolation=f(n),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var a=r.prototype;return a.__makeNative=function(){this._parent.__makeNative(),e.prototype.__makeNative.call(this)},a.__getValue=function(){var e=this._parent.__getValue();return(0,o.default)("number"==typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)},a.interpolate=function(e){return new r(this,e)},a.__attach=function(){this._parent.__addChild(this)},a.__detach=function(){this._parent.__removeChild(this),e.prototype.__detach.call(this)},a.__transformDataType=function(e){return e.map(i.default.transformDataType)},a.__getNativeConfig=function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}},r}(r.default);_.__createInterpolation=f;var y=_;t.default=y,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(15);function o(){const e=r.useContext(i.a);if(void 0===e)throw new Error("Couldn't find a navigation object. Is your component inside a screen in a navigator?");return e}},function(e,t,n){"use strict";var r=n(4);const i={getStateForAction(e,t){switch(t.type){case"SET_PARAMS":{const n=t.source?e.routes.findIndex(e=>e.key===t.source):e.index;return-1===n?null:{...e,routes:e.routes.map((e,r)=>r===n?{...e,params:{...e.params,...t.payload.params}}:e)}}case"RESET":{const n=t.payload;return 0===n.routes.length||n.routes.some(t=>!e.routeNames.includes(t.name))?null:!1===n.stale?e.routeNames.length!==n.routeNames.length||n.routeNames.some(t=>!e.routeNames.includes(t))?null:{...n,routes:n.routes.map(e=>e.key?e:{...e,key:"".concat(e.name,"-").concat(Object(r.a)())})}:n}default:return null}},shouldActionChangeFocus:e=>"NAVIGATE"===e.type};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(18)),i=l(n(19)),o=l(n(23)),a=l(n(160)),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n=void 0===n||isNaN(n)?1:n;var l=(0,r.default)(e),u=(0,i.default)(e),c=(0,r.default)(t),d=(0,i.default)(t),h=Math.acos((0,a.default)(Math.sin((0,o.default)(c))*Math.sin((0,o.default)(l))+Math.cos((0,o.default)(c))*Math.cos((0,o.default)(l))*Math.cos((0,o.default)(u)-(0,o.default)(d))))*s.earthRadius;return Math.round(h/n)*n};t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(44),i=function(e){var t;try{t=(0,r.findDOMNode)(e)}catch(e){}return t};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return 180*e/Math.PI};t.default=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var r=n(4),i=n(27);const o={jumpTo:(e,t)=>({type:"JUMP_TO",payload:{name:e,params:t}})},a=(e,t,n,r)=>{const i=[{type:"route",key:e[t].key}];let o;switch(n){case"order":for(let n=t;n>0;n--)i.unshift({type:"route",key:e[n-1].key});break;case"firstRoute":0!==t&&i.unshift({type:"route",key:e[0].key});break;case"initialRoute":o=e.findIndex(e=>e.name===r),o=-1===o?0:o,t!==o&&i.unshift({type:"route",key:e[o].key})}return i},s=(e,t,n,r)=>{let i;if("history"===n){const n=e.routes[t].key;i=e.history.filter(e=>"route"===e.type&&e.key!==n).concat({type:"route",key:n})}else i=a(e.routes,t,n,r);return{...e,index:t,history:i}};function l({initialRouteName:e,backBehavior:t="history"}){return{...i.a,type:"tab",getInitialState({routeNames:n,routeParamList:i}){const o=void 0!==e&&n.includes(e)?n.indexOf(e):0,s=n.map(e=>({name:e,key:"".concat(e,"-").concat(Object(r.a)()),params:i[e]})),l=a(s,o,t,e);return{stale:!1,type:"tab",key:"tab-".concat(Object(r.a)()),index:o,routeNames:n,history:l,routes:s}},getRehydratedState(n,{routeNames:i,routeParamList:o}){var a,l,u,c;let d=n;if(!1===d.stale)return d;const h=i.map(e=>{const t=d.routes.find(t=>t.name===e);return{...t,name:e,key:t&&t.name===e&&t.key?t.key:"".concat(e,"-").concat(Object(r.a)()),params:void 0!==o[e]?{...o[e],...t?t.params:void 0}:t?t.params:void 0}}),f=Math.min(Math.max(i.indexOf(null===(a=d.routes[null!==(l=null==d?void 0:d.index)&&void 0!==l?l:0])||void 0===a?void 0:a.name),0),h.length-1),p=null!==(u=null===(c=d.history)||void 0===c?void 0:c.filter(e=>h.find(t=>t.key===e.key)))&&void 0!==u?u:[];return s({stale:!1,type:"tab",key:"tab-".concat(Object(r.a)()),index:f,routeNames:i,history:p,routes:h},f,t,e)},getStateForRouteNamesChange(n,{routeNames:i,routeParamList:o}){const s=i.map(e=>n.routes.find(t=>t.name===e)||{name:e,key:"".concat(e,"-").concat(Object(r.a)()),params:o[e]}),l=Math.max(0,i.indexOf(n.routes[n.index].name));let u=n.history.filter(e=>"route"!==e.type||s.find(t=>t.key===e.key));return u.length||(u=a(s,l,t,e)),{...n,history:u,routeNames:i,routes:s,index:l}},getStateForRouteFocus(n,r){const i=n.routes.findIndex(e=>e.key===r);return-1===i||i===n.index?n:s(n,i,t,e)},getStateForAction(n,r,{routeParamList:o}){switch(r.type){case"JUMP_TO":case"NAVIGATE":{let i=-1;return i="NAVIGATE"===r.type&&r.payload.key?n.routes.findIndex(e=>e.key===r.payload.key):n.routes.findIndex(e=>e.name===r.payload.name),-1===i?null:s({...n,routes:void 0!==r.payload.params?n.routes.map((e,t)=>{if(t!==i)return e;let n;return n="NAVIGATE"===r.type&&!1===r.payload.merge?void 0!==o[e.name]?{...o[e.name],...r.payload.params}:r.payload.params:r.payload.params?{...e.params,...r.payload.params}:e.params,n!==e.params?{...e,params:n}:e}):n.routes},i,t,e)}case"GO_BACK":{if(1===n.history.length)return null;const e=n.history[n.history.length-2].key,t=n.routes.findIndex(t=>t.key===e);return-1===t?null:{...n,history:n.history.slice(0,-1),index:t}}default:return i.a.getStateForAction(n,r)}},shouldActionChangeFocus:e=>"NAVIGATE"===e.type,actionCreators:o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){var e,t,n;n=void 0,(t="")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}}},function(e,t,n){"use strict";t.a={dark:!1,colors:{primary:"rgb(0, 122, 255)",background:"rgb(242, 242, 242)",card:"rgb(255, 255, 255)",text:"rgb(28, 28, 30)",border:"rgb(216, 216, 216)",notification:"rgb(255, 59, 48)"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(0);const i=r.createContext(void 0);function o({children:e}){const t=r.useRef(),n=r.useMemo(()=>({register(e){const n=t.current;if(void 0!==n&&e!==n)throw new Error('Another navigator is already registered for this container. You likely have multiple navigators under a single "NavigationContainer" or "Screen". Make sure each navigator is under a separate "Screen" container. See https://reactnavigation.org/docs/nesting-navigators for a guide on nesting.');t.current=e},unregister(e){e===t.current&&(t.current=void 0)}}),[]);return r.createElement(i.Provider,{value:n},e)}},function(e,t,n){"use strict";var r=n(0);const i=r.createContext({options:void 0});i.displayName="LinkingContext",t.a=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(76))&&r.__esModule?r:{default:r};var o={create:function(e,t){return i.default.createCSS(e,t)}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=n(6),o=(r=n(2))&&r.__esModule?r:{default:r};var a=i.canUseDOM?window:{devicePixelRatio:void 0,innerHeight:void 0,innerWidth:void 0,screen:{height:void 0,width:void 0}},s={},l={},u=function(){function e(){}return e.get=function(e){return(0,o.default)(s[e],"No dimension set for key "+e),s[e]},e.set=function(e){e&&(i.canUseDOM?(0,o.default)(!1,"Dimensions cannot be set in the browser"):(s.screen=e.screen,s.window=e.window))},e._update=function(){s.window={fontScale:1,height:a.innerHeight,scale:a.devicePixelRatio||1,width:a.innerWidth},s.screen={fontScale:1,height:a.screen.height,scale:a.devicePixelRatio||1,width:a.screen.width},Array.isArray(l.change)&&l.change.forEach((function(e){return e(s)}))},e.addEventListener=function(e,t){l[e]=l[e]||[],l[e].push(t)},e.removeEventListener=function(e,t){Array.isArray(l[e])&&(l[e]=l[e].filter((function(e){return e!==t})))},e}();t.default=u,u._update(),i.canUseDOM&&window.addEventListener("resize",u._update,!1),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(5)),i=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var s=o.prototype;return s.setNativeProps=function(){},s.render=function(){return i.default.createElement(r.default,{style:[l,this.props.style]},this.props.children)},o}(i.default.Component),l={},u=s;t.default=u,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(0);const i={value:!1};function o(e){r.useMemo(()=>({current:new Map}),[]);return e}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e;null!=t&&r.default[t]||"number"!=typeof e?null!=t&&a[t]&&(n=(0,i.default)(e)):n=e+"px";return n};var r=o(n(99)),i=o(n(100));function o(e){return e&&e.__esModule?e:{default:e}}var a={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};e.exports=t.default},function(e,t,n){"use strict";var r=n(211);e.exports=r},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(213)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(227));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var s={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t,n=new Promise((function(n){t=(0,o.default)((function(){e?n(e()):n()}))}));return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){(0,o.cancelIdleCallback)(t)}}},createInteractionHandle:function(){return 1},clearInteractionHandle:function(e){(0,i.default)(!!e,"Must provide a handle to clear.")},addListener:function(){}};t.default=s,e.exports=t.default},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(!0!==t[r]&&0!==r.indexOf("aria-")||(n[r]=e[r]));return n},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(6),i=n(0),o=r.canUseDOM?i.useLayoutEffect:i.useEffect;t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.classList,n=e.pointerEvents,s=e.style,l=(0,a.useRef)(null),c=(0,a.useRef)(null);return c.current={classList:t,pointerEvents:n,style:s},(0,o.default)((function(){return function(e){null!=e&&(e.measure=function(t){return r.default.measure(e,t)},e.measureLayout=function(t,n,i){return r.default.measureLayout(e,t,i,n)},e.measureInWindow=function(t){return r.default.measureInWindow(e,t)},e.setNativeProps=function(t){var n=c.current||d,o=n.classList,a=n.style,s=n.pointerEvents;!function(e,t,n,o,a,s){if(null!=e&&t){var l=s?s.current:{},c=(0,i.default)(null,u(u({pointerEvents:o},t),{},{classList:[n,t.className],style:[a,l,t.style]})),d=c.style;if(null!=s.current)for(var h in null==c.style&&(c.style={}),s.current)null==c.style[h]&&(c.style[h]="");s.current=d,r.default.updateView(e,c)}}(e,t,o,s,a,l)})}}))};var r=s(n(20)),i=s(n(98)),o=s(n(118)),a=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(256)),i=h(n(122)),o=h(n(2)),a=h(n(84)),s=h(n(258)),l=h(n(259)),u=h(n(3)),c=h(n(5)),d=h(n(0));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _={},y=(0,r.default)({displayName:"ScrollView",mixins:[s.default.Mixin],getInitialState:function(){return this.scrollResponderMixinGetInitialState()},flashScrollIndicators:function(){this.scrollResponderFlashScrollIndicators()},getScrollResponder:function(){return this},getScrollableNode:function(){return this._scrollNodeRef},getInnerViewRef:function(){return this._innerViewRef},getInnerViewNode:function(){return this._innerViewRef},getNativeScrollRef:function(){return this._scrollNodeRef},scrollTo:function(e,t,n){if("number"==typeof e)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||_;t=r.x,e=r.y,n=r.animated}this.getScrollResponder().scrollResponderScrollTo({x:t||0,y:e||0,animated:!1!==n})},scrollToEnd:function(e){var t=!1!==(e&&e.animated),n=this.props.horizontal,r=this.getScrollResponder(),i=r.scrollResponderGetScrollableNode(),o=n?i.scrollWidth:0,a=n?0:i.scrollHeight;r.scrollResponderScrollTo({x:o,y:a,animated:t})},render:function(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,r=e.onContentSizeChange,i=e.refreshControl,a=e.stickyHeaderIndices,s=e.pagingEnabled,h=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll"])),f={};r&&(f={onLayout:this._handleContentOnLayout});var m=!n&&Array.isArray(a),_=m||s?d.default.Children.map(this.props.children,(function(e,t){var n=m&&a.indexOf(t)>-1;return null!=e&&(n||s)?d.default.createElement(c.default,{style:u.default.compose(n&&b.stickyHeader,s&&b.pagingEnabledChild)},e):e})):this.props.children,y=d.default.createElement(c.default,g({},f,{children:_,collapsable:!1,ref:this._setInnerViewRef,style:u.default.compose(n&&b.contentContainerHorizontal,t)})),v=n?b.baseHorizontal:b.baseVertical,x=n?b.pagingEnabledHorizontal:b.pagingEnabledVertical,w=p(p({},h),{},{style:[v,s&&x,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),S=l.default;return(0,o.default)(void 0!==S,"ScrollViewClass must not be undefined"),i?d.default.cloneElement(i,{style:w.style},d.default.createElement(S,g({},w,{ref:this._setScrollNodeRef,style:v}),y)):d.default.createElement(S,g({},w,{ref:this._setScrollNodeRef}),y)},_handleContentOnLayout:function(e){var t=e.nativeEvent.layout,n=t.width,r=t.height;this.props.onContentSizeChange(n,r)},_handleScroll:function(e){"on-drag"===this.props.keyboardDismissMode&&(0,i.default)(),this.scrollResponderHandleScroll(e)},_setInnerViewRef:function(e){this._innerViewRef=e},_setScrollNodeRef:function(e){this._scrollNodeRef=e,null!=e&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),(0,a.default)(this.props.forwardedRef)(e)}}),v={flexGrow:1,flexShrink:1,transform:[{translateZ:0}],WebkitOverflowScrolling:"touch"},b=u.default.create({baseVertical:p(p({},v),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:p(p({},v),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),x=d.default.forwardRef((function(e,t){return d.default.createElement(y,g({},e,{forwardedRef:t}))}));x.displayName="ScrollView";var w=x;t.default=w,e.exports=t.default},function(e,t,n){"use strict";(function(n){t.__esModule=!0,t.default=void 0;var r={OS:"web",select:function(e){return"web"in e?e.web:e.default},get isTesting(){return"test"===n.env.NODE_DEV}};t.default=r,e.exports=t.default}).call(this,n(123))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=(0,o.useRef)(null);null==n.current&&(n.current=new i.default(t));var r=n.current;return(0,o.useEffect)((function(){r.configure(t)}),[t,r]),(0,o.useEffect)((function(){return function(){r.reset()}}),[r]),(0,o.useDebugValue)(t),r.getEventHandlers()};var r,i=(r=n(288))&&r.__esModule?r:{default:r},o=n(0);e.exports=t.default},function(e,t,n){var r=n(328).default;function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){return t.reduce((function(t,n){if(null==e)throw new Error("'".concat(e,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(e,n)&&void 0!==n&&void 0===t?(t=n,n):t}),void 0)};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){var t=e.toString().trim();return!isNaN(parseFloat(t))&&parseFloat(t)===Number(t)};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10),i=function(e){return r.sexagesimalPattern.test(e.toString().trim())};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10),i=function(e){var t=new RegExp(r.sexagesimalPattern).exec(e);if(null==t)throw new Error("Given value is not in sexagesimal format");var n=Number(t[2])/60||0,i=Number(t[4])/3600||0,o=parseFloat(t[1])+n+i;return["S","W"].includes(t[7])?-o:o};t.default=i},function(e,t,n){"use strict";var r=n(0);const i=r.createContext(void 0);t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(1);function o(e){r.useEffect(()=>{const t=i.BackHandler.addEventListener("hardwareBackPress",()=>{const t=e.current;return null!=t&&(!!t.canGoBack()&&(t.goBack(),!0))});return()=>t.remove()},[e])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n(7),o=n(4),a=n(73);const s=()=>{let e=0,t=[];const n=[],r=()=>{n.forEach(e=>{const t=e.cb;e.cb=()=>t(!0)})};return{get index(){var e;const n=null===(e=window.history.state)||void 0===e?void 0:e.id;if(n){const e=t.findIndex(e=>e.id===n);return e>-1?e:0}return 0},get:e=>t[e],backIndex({path:n}){for(let r=e-1;r>=0;r--){if(t[r].path===n)return r}return-1},push({path:n,state:i}){r();const a=Object(o.a)();t=t.slice(0,e+1),t.push({path:n,state:i,id:a}),e=t.length-1,window.history.pushState({id:a},"",n)},replace({path:n,state:i}){var a,s;r();const l=null!==(a=null===(s=window.history.state)||void 0===s?void 0:s.id)&&void 0!==a?a:Object(o.a)();t.length?t[e]={path:n,state:i,id:l}:t.push({path:n,state:i,id:l}),window.history.replaceState({id:l},"",n)},go(i){if(r(),i>0?i=Math.min(i,t.length-1):i<0&&(i=e+i<0?-e:i),0!==i)return e+=i,new Promise((e,t)=>{const r=n=>{if(clearTimeout(o),n)return void t(new Error("History was changed during navigation."));const{title:r}=window.document;window.document.title="",window.document.title=r,e()};n.push({ref:r,cb:r});const o=setTimeout(()=>{const e=n.findIndex(e=>e.ref===r);e>-1&&(n[e].cb(),n.splice(e,1))},100),a=()=>{const e=n.pop();window.removeEventListener("popstate",a),null==e||e.cb()};window.addEventListener("popstate",a),window.history.go(i)})},listen(e){const t=()=>{n.length||e()};return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)}}},l=(e,t)=>{if(void 0===e||void 0===t||e.key!==t.key)return[void 0,void 0];const n=e.history?e.history.length:e.routes.length,r=t.history?t.history.length:t.routes.length,i=e.routes[e.index],o=t.routes[t.index],a=i.state,s=o.state;return n!==r||i.key!==o.key||void 0===a||void 0===s||a.key!==s.key?[e,t]:l(a,s)};let u=!1;function c(e,{enabled:t=!0,config:n,getStateFromPath:o=i.getStateFromPath,getPathFromState:c=i.getPathFromState,getActionFromState:d=i.getActionFromState}){r.useEffect(()=>{if(!1!==t&&u)throw new Error(["Looks like you have configured linking in multiple places. This is likely an error since URL integration should only be handled in one place to avoid conflicts. Make sure that:","- You are not using both 'linking' prop and 'useLinking'","- You don't have 'useLinking' in multiple components"].join("\n").trim());return u=!1!==t,()=>{u=!1}});const[h]=r.useState(s),f=r.useRef(t),p=r.useRef(n),m=r.useRef(o),g=r.useRef(d),_=r.useRef(c);r.useEffect(()=>{f.current=t,p.current=n,m.current=o,g.current=d,_.current=c});const y=r.useContext(a.a),v=r.useCallback(()=>{let e;if(f.current){var t;const n=null!==(t=null==y?void 0:y.location)&&void 0!==t?t:"undefined"!=typeof window?window.location:void 0,r=n?n.pathname+n.search:void 0;r&&(e=m.current(r,p.current))}const n={then:t=>Promise.resolve(t?t(e):e),catch:()=>n};return n},[]),b=r.useRef(void 0),x=r.useRef(void 0),w=r.useRef(void 0);return r.useEffect(()=>(b.current=h.index,h.listen(()=>{var n;const r=e.current;if(!r||!t)return;const i=location.pathname+location.search,o=h.index,a=null!==(n=b.current)&&void 0!==n?n:0;b.current=o,w.current=i;const s=h.get(o);if((null==s?void 0:s.path)===i&&null!=s&&s.state)return void r.resetRoot(s.state);const l=m.current(i,p.current);if(l){const e=r.getRootState();if(l.routes.some(t=>!(null!=e&&e.routeNames.includes(t.name))))return void console.warn("The navigation state parsed from the URL contains routes not present in the root navigator. This usually means that the linking configuration doesn't match the navigation structure. See https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.");if(o>a){const e=g.current(l,p.current);if(void 0!==e)try{r.dispatch(e)}catch(e){console.warn("An error occurred when trying to handle the link '".concat(i,"': ").concat(e.message))}else r.resetRoot(l)}else r.resetRoot(l)}else r.resetRoot(l)})),[t,h,e]),r.useEffect(()=>{var n;if(!t)return;if(e.current){const t=e.current.getRootState();if(t){const e=_.current(t,p.current);void 0===x.current&&(x.current=t),h.replace({path:e,state:t})}}return null===(n=e.current)||void 0===n?void 0:n.addListener("state",(e=>{let t=!1,n=[];const r=async()=>{try{if(t)return void n.unshift(r);t=!0,await e()}finally{if(t=!1,n.length){const e=n.pop();null==e||e()}}};return r})(async()=>{const n=e.current;if(!n||!t)return;const r=x.current,i=n.getRootState(),o=w.current,a=_.current(i,p.current);x.current=i,w.current=void 0;const[s,u]=l(r,i);if(s&&u&&a!==o){const e=(u.history?u.history.length:u.routes.length)-(s.history?s.history.length:s.routes.length);if(e>0)h.push({path:a,state:i});else if(e<0){const t=h.backIndex({path:a}),n=h.index;try{-1!==t&&t<n?await h.go(t-n):await h.go(e),h.replace({path:a,state:i})}catch(e){}}else h.replace({path:a,state:i})}else h.replace({path:a,state:i})}))}),{getInitialState:v}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(74);function o({value:e,children:t}){return r.createElement(i.a.Provider,{value:e},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),i=n(1),o=n(7),a=n(63);function s({to:e,action:t}){const n=r.useContext(o.NavigationHelpersContext),s=Object(a.a)();return{href:e,accessibilityRole:"link",onPress:r=>{var o;let a=!1;if("web"===i.Platform.OS&&r?r.defaultPrevented||r.metaKey||r.altKey||r.ctrlKey||r.shiftKey||null!=r.button&&0!==r.button||![void 0,null,"","self"].includes(null===(o=r.currentTarget)||void 0===o?void 0:o.target)||(r.preventDefault(),a=!0):a=!r||!r.defaultPrevented,a)if(t){if(!n)throw new Error("Couldn't find a navigation object.");n.dispatch(t)}else{if("string"!=typeof e)throw new Error("To 'to' option is invalid (found '".concat(String(e),"'. It must be a valid string for navigation."));s(e)}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(7),o=n(35);function a(){const e=r.useContext(i.NavigationContext),t=r.useContext(o.a);return r.useCallback(n=>{if(!n.startsWith("/"))throw new Error("The path must start with '/' (".concat(n,")."));if(void 0===e)throw new Error("Couldn't find a navigation object. Is your component inside a screen in a navigator?");const{options:r}=t,o=null!=r&&r.getStateFromPath?r.getStateFromPath(n,r.config):Object(i.getStateFromPath)(n,null==r?void 0:r.config);if(!o)throw new Error("Failed to parse the path to a navigation state.");{let t,n=e;for(;t=n.dangerouslyGetParent();)n=t;const a=Object(i.getActionFromState)(o,null==r?void 0:r.config);void 0!==a?n.dispatch(a):n.reset(o)}},[t,e])}},function(e,t,n){"use strict";var r=n(0);const i=r.createContext(void 0);t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(0);const i=r.createContext({scheduleUpdate(){throw new Error("Couldn't find a schedule context.")},flushUpdates(){throw new Error("Couldn't find a schedule context.")}});function o(e){const{scheduleUpdate:t,flushUpdates:n}=r.useContext(i);t(e),r.useEffect(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(){const{current:e}=r.useRef({action:[],focus:[]}),t=r.useCallback((t,n)=>(e[t].push(n),()=>{const r=e[t].indexOf(n);e[t].splice(r,1)}),[e]);return{listeners:e,addListener:t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(){const{current:e}=r.useRef({getState:{},beforeRemove:{}}),t=r.useCallback((t,n,r)=>(e[t][n]=r,()=>{e[t][n]=void 0}),[e]);return{keyedListeners:e,addKeyedListener:t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(24),o=n(9);function a({key:e,options:t,navigation:n}){const a=r.useRef(t),s=r.useRef({}),{onOptionsChange:l}=r.useContext(o.a),{addOptionsGetter:u}=r.useContext(i.a),c=r.useCallback(()=>{var e;const t=null===(e=null==n?void 0:n.isFocused())||void 0===e||e,r=Object.keys(s.current).length;var i;t&&!r&&l(null!==(i=a.current)&&void 0!==i?i:{})},[n,l]);r.useEffect(()=>(a.current=t,c(),null==n?void 0:n.addListener("focus",c)),[n,t,c]);const d=r.useCallback(()=>{for(let n in s.current)if(s.current.hasOwnProperty(n)){var e,t;const r=null===(e=(t=s.current)[n])||void 0===e?void 0:e.call(t);if(null!==r)return r}return null},[]),h=r.useCallback(()=>{var e;if(!(null===(e=null==n?void 0:n.isFocused())||void 0===e||e))return null;const t=d();return null!==t?t:a.current},[n,d]);r.useEffect(()=>null==u?void 0:u(e,h),[h,u,e]);return{addOptionsGetter:r.useCallback((e,t)=>(s.current[e]=t,c(),()=>{delete s.current[e],c()}),[c]),getCurrentOptions:h}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){const t=r.useRef(e);r.useEffect(()=>{t.current=e});const n=r.useRef({}),i=r.useCallback(e=>{const t=(t,r)=>{const i=n.current[t]?n.current[t][e]:void 0;if(!i)return;const o=i.indexOf(r);i.splice(o,1)};return{addListener:(r,i)=>(n.current[r]=n.current[r]||{},n.current[r][e]=n.current[r][e]||[],n.current[r][e].push(i),()=>t(r,i)),removeListener:t}},[]),o=r.useCallback(({type:e,data:r,target:i,canPreventDefault:o})=>{var a,s;const l=n.current[e]||{},u=void 0!==i?null===(a=l[i])||void 0===a?void 0:a.slice():[].concat(...Object.keys(l).map(e=>l[e])).filter((e,t,n)=>n.lastIndexOf(e)===t),c={get type(){return e}};if(void 0!==i&&Object.defineProperty(c,"target",{enumerable:!0,get:()=>i}),void 0!==r&&Object.defineProperty(c,"data",{enumerable:!0,get:()=>r}),o){let e=!1;Object.defineProperties(c,{defaultPrevented:{enumerable:!0,get:()=>e},preventDefault:{enumerable:!0,value(){e=!0}}})}return null===(s=t.current)||void 0===s||s.call(t,c),null==u||u.forEach(e=>e(c)),c},[]);return r.useMemo(()=>({create:i,emit:o}),[i,o])}},function(e,t,n){"use strict";function r(e){return null}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";const r=n(332),i=n(333),o=n(334),a=n(335);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&u(n,e).includes(e.arrayFormatSeparator);n=o?u(n,e):n;const a=i||o?n.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===n?n:u(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){if(""===i)continue;let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:u(a,t),n(u(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=h(n[e],t);else r[e]=h(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=d,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[l(t,e),"[",i,"]"].join("")]:[...n,[l(t,e),"[",l(i,e),"]=",l(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[l(t,e),"[]"].join("")]:[...n,[l(t,e),"[]=",l(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[l(t,e),"=",l(r,e)].join("")]:[[n,l(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,l(t,e)]:[...n,[l(t,e),"=",l(r,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?l(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):l(n,t)+"="+l(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let s=t.stringify(a,n);s&&(s="?"+s);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#"+l(e.fragmentIdentifier,n)),`${r}${s}${u}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:i,query:o,fragmentIdentifier:s}=t.parseUrl(e,r);return t.stringifyUrl({url:i,query:a(o,n),fragmentIdentifier:s},r)},t.exclude=(e,n,r)=>{const i=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,i,r)}},function(e,t,n){"use strict";function r(e){let t=!1;if(e&&(t=Object.keys(e).some(e=>"screens"!==e&&"initialRouteName"!==e),t&&(e.hasOwnProperty("screens")||e.hasOwnProperty("initialRouteName"))))throw new Error("Found invalid keys in the configuration object. See https://reactnavigation.org/docs/configuring-links/ for more details on the shape of the configuration object.");return t?[t,{screens:e}]:[t,e]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0);const i=r.createContext(void 0);t.a=i},function(e,t,n){"use strict";var r=n(0),i=n(33);const o=r.createContext(i.a);o.displayName="ThemeContext",t.a=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(172)),i=s(n(173)),o=s(n(174)),a=s(n(97));function s(e){return e&&e.__esModule?e:{default:e}}var l={buttonLikeRoles:r.default,isDisabled:i.default,propsToAccessibilityComponent:o.default,propsToAriaRole:a.default};t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=(0,((r=n(175))&&r.__esModule?r:{default:r}).default)();t.default=i,e.exports=t.default},function(e,t){function n(e){var t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=l.hex6.exec(e))?parseInt(t[1]+"ff",16)>>>0:f.hasOwnProperty(e)?f[e]:(t=l.rgb.exec(e))?(u(t[1])<<24|u(t[2])<<16|u(t[3])<<8|255)>>>0:(t=l.rgba.exec(e))?(u(t[1])<<24|u(t[2])<<16|u(t[3])<<8|d(t[4]))>>>0:(t=l.hex3.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=l.hex8.exec(e))?parseInt(t[1],16)>>>0:(t=l.hex4.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=l.hsl.exec(e))?(255|i(c(t[1]),h(t[2]),h(t[3])))>>>0:(t=l.hsla.exec(e))?(i(c(t[1]),h(t[2]),h(t[3]))|d(t[4]))>>>0:null}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function i(e,t,n){var i=n<.5?n*(1+t):n+t-n*t,o=2*n-i,a=r(o,i,e+1/3),s=r(o,i,e),l=r(o,i,e-1/3);return Math.round(255*a)<<24|Math.round(255*s)<<16|Math.round(255*l)<<8}var o="[-+]?\\d*\\.?\\d+";function a(e){return Array.prototype.slice.call(e,0)}function s(){return"\\(\\s*("+a(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var l={rgb:new RegExp("rgb"+s(o,o,o)),rgba:new RegExp("rgba"+s(o,o,o,o)),hsl:new RegExp("hsl"+s(o,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),hsla:new RegExp("hsla"+s(o,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",o)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};function u(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function c(e){return(parseFloat(e)%360+360)%360/360}function d(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function h(e){var t=parseFloat(e,10);return t<0?0:t>100?1:t/100}var f={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};n.rgba=function(e){return{r:Math.round((4278190080&e)>>>24),g:Math.round((16711680&e)>>>16),b:Math.round((65280&e)>>>8),a:((255&e)>>>0)/255}},e.exports=n},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(6))&&r.__esModule?r:{default:r};var o=!0,a=!1,s=!0,l=!1,u=function(){return!!l||s&&a},c=function(){i.default.canUseDOM&&document.documentElement&&document.documentElement.setAttribute&&document.documentElement.setAttribute("dir",u()?"rtl":"ltr")},d={allowRTL:function(e){s=e,c()},forceRTL:function(e){l=e,c()},getConstants:function(){return{doLeftAndRightSwapInRTL:o,isRTL:u()}},setPreferredLanguageRTL:function(e){a=e,c()},swapLeftAndRightInRTL:function(e){o=e}};t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.SYSTEM_FONT_STACK=t.MONOSPACE_FONT_STACK=t.STYLE_SHORT_FORM_EXPANSIONS=t.STYLE_GROUPS=t.STYLE_ELEMENT_ID=void 0;t.STYLE_ELEMENT_ID="react-native-stylesheet";t.STYLE_GROUPS={reset:0,modality:.1,classicReset:.5,classic:1,atomic:2.2,custom:{borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,marginHorizontal:2.1,marginVertical:2.1,paddingHorizontal:2.1,paddingVertical:2.1}};t.STYLE_SHORT_FORM_EXPANSIONS={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],margin:["marginTop","marginRight","marginBottom","marginLeft"],marginHorizontal:["marginRight","marginLeft"],marginVertical:["marginTop","marginBottom"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"],paddingHorizontal:["paddingRight","paddingLeft"],paddingVertical:["paddingTop","paddingBottom"]};t.MONOSPACE_FONT_STACK="monospace,monospace";t.SYSTEM_FONT_STACK='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif'},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";t.__esModule=!0,t.attachNativeEvent=u,t.default=t.AnimatedEvent=void 0;var r=s(n(21)),i=s(n(14)),o=s(n(29)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var l=i.default.shouldUseNativeDriver;function u(e,t,n){var s=[];(0,a.default)(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),function e(t,n){if(t instanceof r.default)t.__makeNative(),s.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if("object"==typeof t)for(var i in t)e(t[i],n.concat(i))}(n[0].nativeEvent,[]);var l=(0,o.default)(e);return s.forEach((function(e){i.default.API.addAnimatedEventToView(l,t,e)})),{detach:function(){s.forEach((function(e){i.default.API.removeAnimatedEventFromView(l,t,e.animatedValueTag)}))}}}var c=function(){function e(e,t){void 0===t&&(t={}),this._listeners=[],this._argMapping=e,t.listener&&this.__addListener(t.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=l(t)}var t=e.prototype;return t.__addListener=function(e){this._listeners.push(e)},t.__removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},t.__attach=function(e,t){(0,a.default)(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=u(e,t,this._argMapping)},t.__detach=function(e,t){(0,a.default)(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()},t.__getHandler=function(){var e=this;return this.__isNative?this._callListeners:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=function e(t,n,i){if("number"==typeof n&&t instanceof r.default)t.setValue(n);else if("object"==typeof t)for(var o in t)e(t[o],n[o],o)};e.__isNative||e._argMapping.forEach((function(e,t){o(e,n[t],"arg"+t)})),e._callListeners.apply(e,n)}},t._callListeners=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach((function(e){return e.apply(void 0,t)}))},t._validateMapping=function(){},e}();t.AnimatedEvent=c;var d={AnimatedEvent:c,attachNativeEvent:u};t.default=d},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(21)),i=a(n(17)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=1,u=function(e){var t,n;function i(t){var n;n=e.call(this)||this;var i=t||{x:0,y:0};return"number"==typeof i.x&&"number"==typeof i.y?(n.x=new r.default(i.x),n.y=new r.default(i.y)):((0,o.default)(i.x instanceof r.default&&i.y instanceof r.default,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),n.x=i.x,n.y=i.y),n._listeners={},n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var a=i.prototype;return a.setValue=function(e){this.x.setValue(e.x),this.y.setValue(e.y)},a.setOffset=function(e){this.x.setOffset(e.x),this.y.setOffset(e.y)},a.flattenOffset=function(){this.x.flattenOffset(),this.y.flattenOffset()},a.extractOffset=function(){this.x.extractOffset(),this.y.extractOffset()},a.__getValue=function(){return{x:this.x.__getValue(),y:this.y.__getValue()}},a.resetAnimation=function(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())},a.stopAnimation=function(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())},a.addListener=function(e){var t=this,n=String(l++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={x:this.x.addListener(r),y:this.y.addListener(r)},n},a.removeListener=function(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]},a.removeAllListeners=function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}},a.getLayout=function(){return{left:this.x,top:this.y}},a.getTranslateTransform=function(){return[{translateX:this.x},{translateY:this.y}]},i}(i.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(14))&&r.__esModule?r:{default:r};var o=function(){function e(){}var t=e.prototype;return t.start=function(e,t,n,r,i){},t.stop=function(){this.__nativeId&&i.default.API.stopAnimation(this.__nativeId)},t.__getNativeAnimationConfig=function(){throw new Error("This animation type cannot be offloaded to native")},t.__debouncedOnEnd=function(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)},t.__startNativeAnimation=function(e){i.default.API.enableQueue(),e.__makeNative(),i.default.API.disableQueue(),this.__nativeId=i.default.generateNewAnimationId(),i.default.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),this.__getNativeAnimationConfig(),this.__debouncedOnEnd.bind(this))},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){null!=t&&("function"!=typeof t?"object"!=typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}};!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n)}(n(0));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.styleProps=t.touchProps=t.mouseProps=t.keyboardProps=t.focusProps=t.clickProps=t.accessibilityProps=t.defaultProps=void 0;t.defaultProps={children:!0,dataSet:!0,nativeID:!0,ref:!0,suppressHydrationWarning:!0,testID:!0};t.accessibilityProps={accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0,dir:!0,focusable:!0,accessible:!0,accessibilityState:!0,accessibilityValue:!0};t.clickProps={onClick:!0,onClickCapture:!0,onContextMenu:!0};t.focusProps={onBlur:!0,onFocus:!0};t.keyboardProps={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0};t.mouseProps={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0};t.touchProps={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0};t.styleProps={classList:!0,style:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=function(){r.canUseDOM&&void 0!==window.ResizeObserver&&null==s&&(s=new window.ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=t.__reactLayoutHandler;"function"==typeof n&&o.default.measure(t,(function(t,r,i,o,a,s){var l={nativeEvent:{layout:{x:t,y:r,width:i,height:o,left:a,top:s}},timeStamp:Date.now()};Object.defineProperty(l.nativeEvent,"target",{enumerable:!0,get:function(){return e.target}}),n(l)}))}))})));return s}();(0,i.default)((function(){var n=e.current;null!=n&&(n.__reactLayoutHandler=t)}),[e,t]),(0,i.default)((function(){var t=e.current;return null!=t&&null!=n&&("function"==typeof t.__reactLayoutHandler?n.observe(t):n.unobserve(t)),function(){null!=t&&null!=n&&n.unobserve(t)}}),[e,n])};var r=n(6),i=a(n(48)),o=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}r.canUseDOM;var s=null;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){void 0===t&&(t=s);var n=function(e){var t=r.useRef(null);null==t.current&&(t.current=e());return t.current}((function(){return l++})),o=r.useRef(!1);r.useEffect((function(){return i.attachListeners(),function(){i.removeNode(n)}}),[n]),r.useEffect((function(){var r=t,a=r.onMoveShouldSetResponder,s=r.onMoveShouldSetResponderCapture,l=r.onScrollShouldSetResponder,u=r.onScrollShouldSetResponderCapture,c=r.onSelectionChangeShouldSetResponder,d=r.onSelectionChangeShouldSetResponderCapture,h=r.onStartShouldSetResponder,f=r.onStartShouldSetResponderCapture,p=null!=a||null!=s||null!=l||null!=u||null!=c||null!=d||null!=h||null!=f,m=e.current;p?(i.addNode(n,m,t),o.current=!0):o.current&&(i.removeNode(n),o.current=!1)}),[t,e,n]),r.useDebugValue({isResponder:e.current===i.getResponderNode()}),r.useDebugValue(t)};var r=a(n(0)),i=a(n(245));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var s={},l=0;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=(0,n(0).createContext)(!1);t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=_(n(249)),i=_(n(250)),o=_(n(253)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),s=_(n(121)),l=_(n(50)),u=_(n(3)),c=(_(n(20)),_(n(5))),d=_(n(260)),h=_(n(29)),f=_(n(261)),p=_(n(2)),m=(_(n(43)),n(262));function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}u.default.flatten;var k=!1,C="",P=function(e){E(n,e);var t=n.prototype;function n(t,n){var o;(o=e.call(this,t,n)||this)._getScrollMetrics=function(){return o._scrollMetrics},o._getOutermostParentListRef=function(){return o._isNestedWithSameOrientation()?o.context.virtualizedList.getOutermostParentListRef():function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o)},o._getNestedChildState=function(e){var t=o._nestedChildLists.get(e);return t&&t.state},o._registerAsNestedChild=function(e){var t=o._cellKeysToChildListKeys.get(e.cellKey)||new Set;t.add(e.key),o._cellKeysToChildListKeys.set(e.cellKey,t);var n=o._nestedChildLists.get(e.key);n&&null!==n.ref&&console.error("A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list."),o._nestedChildLists.set(e.key,{ref:e.ref,state:null}),o._hasInteracted&&e.ref.recordInteraction()},o._unregisterAsNestedChild=function(e){o._nestedChildLists.set(e.key,{ref:null,state:e.state})},o._onUpdateSeparators=function(e,t){e.forEach((function(e){var n=null!=e&&o._cellRefs[e];n&&n.updateSeparatorProps(t)}))},o._averageCellLength=0,o._cellKeysToChildListKeys=new Map,o._cellRefs={},o._frames={},o._footerLength=0,o._hasDataChangedSinceEndReached=!0,o._hasDoneInitialScroll=!1,o._hasInteracted=!1,o._hasMore=!1,o._hasWarned={},o._headerLength=0,o._hiPriInProgress=!1,o._highestMeasuredFrameIndex=0,o._indicesToKeys=new Map,o._nestedChildLists=new Map,o._offsetFromParentVirtualizedList=0,o._prevParentOffset=0,o._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},o._scrollRef=null,o._sentEndForContentLength=0,o._totalCellLength=0,o._totalCellsMeasured=0,o._viewabilityTuples=[],o._captureScrollRef=function(e){o._scrollRef=e},o._defaultRenderScrollComponent=function(e){var t=e.onRefresh;return o._isNestedWithSameOrientation()?a.createElement(c.default,e):t?((0,p.default)("boolean"==typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(e.refreshing)+"`"),a.createElement(l.default,b({},e,{refreshControl:null==e.refreshControl?a.createElement(s.default,{refreshing:e.refreshing,onRefresh:t,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):a.createElement(l.default,e)},o._onCellUnmount=function(e){var t=o._frames[e];t&&(o._frames[e]=w(w({},t),{},{inLayout:!1}))},o._onLayout=function(e){o._isNestedWithSameOrientation()?o.measureLayoutRelativeToContainingList():o._scrollMetrics.visibleLength=o._selectLength(e.nativeEvent.layout),o.props.onLayout&&o.props.onLayout(e),o._scheduleCellsToRenderUpdate(),o._maybeCallOnEndReached()},o._onLayoutEmpty=function(e){o.props.onLayout&&o.props.onLayout(e)},o._onLayoutFooter=function(e){o._footerLength=o._selectLength(e.nativeEvent.layout)},o._onLayoutHeader=function(e){o._headerLength=o._selectLength(e.nativeEvent.layout)},o._onContentSizeChange=function(e,t){e>0&&t>0&&null!=o.props.initialScrollIndex&&o.props.initialScrollIndex>0&&!o._hasDoneInitialScroll&&(o.scrollToIndex({animated:!1,index:o.props.initialScrollIndex}),o._hasDoneInitialScroll=!0),o.props.onContentSizeChange&&o.props.onContentSizeChange(e,t),o._scrollMetrics.contentLength=o._selectLength({height:t,width:e}),o._scheduleCellsToRenderUpdate(),o._maybeCallOnEndReached()},o._convertParentScrollMetrics=function(e){var t=e.offset-o._offsetFromParentVirtualizedList,n=e.visibleLength,r=t-o._scrollMetrics.offset;return{visibleLength:n,contentLength:o._scrollMetrics.contentLength,offset:t,dOffset:r}},o._onScroll=function(e){o._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScroll(e)})),o.props.onScroll&&o.props.onScroll(e);var t=e.timeStamp,n=o._selectLength(e.nativeEvent.layoutMeasurement),r=o._selectLength(e.nativeEvent.contentSize),i=o._selectOffset(e.nativeEvent.contentOffset),a=i-o._scrollMetrics.offset;if(o._isNestedWithSameOrientation()){if(0===o._scrollMetrics.contentLength)return;var s=o._convertParentScrollMetrics({visibleLength:n,offset:i});n=s.visibleLength,r=s.contentLength,i=s.offset,a=s.dOffset}var l=o._scrollMetrics.timestamp?Math.max(1,t-o._scrollMetrics.timestamp):1,u=a/l;l>500&&o._scrollMetrics.dt>500&&r>5*n&&!o._hasWarned.perf&&((0,f.default)("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:l,prevDt:o._scrollMetrics.dt,contentLength:r}),o._hasWarned.perf=!0),o._scrollMetrics={contentLength:r,dt:l,dOffset:a,offset:i,timestamp:t,velocity:u,visibleLength:n},o._updateViewableItems(o.props.data),o.props&&(o._maybeCallOnEndReached(),0!==u&&o._fillRateHelper.activate(),o._computeBlankness(),o._scheduleCellsToRenderUpdate())},o._onScrollBeginDrag=function(e){o._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScrollBeginDrag(e)})),o._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),o._hasInteracted=!0,o.props.onScrollBeginDrag&&o.props.onScrollBeginDrag(e)},o._onScrollEndDrag=function(e){var t=e.nativeEvent.velocity;t&&(o._scrollMetrics.velocity=o._selectOffset(t)),o._computeBlankness(),o.props.onScrollEndDrag&&o.props.onScrollEndDrag(e)},o._onMomentumScrollEnd=function(e){o._scrollMetrics.velocity=0,o._computeBlankness(),o.props.onMomentumScrollEnd&&o.props.onMomentumScrollEnd(e)},o._updateCellsToRender=function(){var e=o.props,t=e.data,n=e.getItemCount,r=e.onEndReachedThreshold,i=o._isVirtualizationDisabled();o._updateViewableItems(t),t&&o.setState((function(e){var a;if(i){var s=o._scrollMetrics,l=s.contentLength,u=s.offset,c=s.visibleLength,d=l-c-u<r*c?o.props.maxToRenderPerBatch:0;a={first:0,last:Math.min(e.last+d,n(t)-1)}}else o._scrollMetrics.visibleLength&&(o.props.initialScrollIndex&&!o._scrollMetrics.offset||(a=(0,m.computeWindowedRenderLimits)(o.props,e,o._getFrameMetricsApprox,o._scrollMetrics)));if(a&&o._nestedChildLists.size>0)for(var h=a.first,f=a.last,p=h;p<=f;p++){var g=o._indicesToKeys.get(p),_=g&&o._cellKeysToChildListKeys.get(g);if(_){for(var v,b=!1,x=y(_);!(v=x()).done;){var w=v.value,S=o._nestedChildLists.get(w);if(S&&S.ref&&S.ref.hasMore()){b=!0;break}}if(b){a.last=p;break}}}return a}))},o._createViewToken=function(e,t){var n=o.props,r=n.data,i=n.getItem,a=n.keyExtractor,s=i(r,e);return{index:e,item:s,key:a(s,e),isViewable:t}},o._getFrameMetricsApprox=function(e){var t=o._getFrameMetrics(e);if(t&&t.index===e)return t;var n=o.props.getItemLayout;return(0,p.default)(!n,"Should not have to estimate frames when a measurement metrics function is provided"),{length:o._averageCellLength,offset:o._averageCellLength*e}},o._getFrameMetrics=function(e){var t=o.props,n=t.data,r=t.getItem,i=t.getItemCount,a=t.getItemLayout,s=t.keyExtractor;(0,p.default)(i(n)>e,"Tried to get frame for out of range index "+e);var l=r(n,e),u=l&&o._frames[s(l,e)];u&&u.index===e||a&&(u=a(n,e));return u},(0,p.default)(!t.onScroll||!t.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),(0,p.default)(t.windowSize>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),o._fillRateHelper=new i.default(o._getFrameMetrics),o._updateCellsToRenderBatcher=new r.default(o._updateCellsToRender,o.props.updateCellsBatchingPeriod),o.props.viewabilityConfigCallbackPairs?o._viewabilityTuples=o.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityHelper:new d.default(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}})):o.props.onViewableItemsChanged&&o._viewabilityTuples.push({viewabilityHelper:new d.default(o.props.viewabilityConfig),onViewableItemsChanged:o.props.onViewableItemsChanged});var u={first:o.props.initialScrollIndex||0,last:Math.min(o.props.getItemCount(o.props.data),(o.props.initialScrollIndex||0)+o.props.initialNumToRender)-1};if(o._isNestedWithSameOrientation()){var h=o.context.virtualizedList.getNestedChildState(o.props.listKey||o._getCellKey());h&&(u=h,o.state=h,o._frames=h.frames)}return o.state=u,o}return t.scrollToEnd=function(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1,r=this._getFrameMetricsApprox(n),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);this._scrollRef.scrollTo(this.props.horizontal?{x:i,animated:t}:{y:i,animated:t})},t.scrollToIndex=function(e){var t=this.props,n=t.data,r=t.horizontal,i=t.getItemCount,o=t.getItemLayout,a=t.onScrollToIndexFailed,s=e.animated,l=e.index,u=e.viewOffset,c=e.viewPosition;if((0,p.default)(l>=0&&l<i(n),"scrollToIndex out of range: "+l+" vs "+(i(n)-1)),!o&&l>this._highestMeasuredFrameIndex)return(0,p.default)(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:l});var d=this._getFrameMetricsApprox(l),h=Math.max(0,d.offset-(c||0)*(this._scrollMetrics.visibleLength-d.length))-(u||0);this._scrollRef.scrollTo(r?{x:h,animated:s}:{y:h,animated:s})},t.scrollToItem=function(e){for(var t=e.item,n=this.props,r=n.data,i=n.getItem,o=(0,n.getItemCount)(r),a=0;a<o;a++)if(i(r,a)===t){this.scrollToIndex(w(w({},e),{},{index:a}));break}},t.scrollToOffset=function(e){var t=e.animated,n=e.offset;this._scrollRef.scrollTo(this.props.horizontal?{x:n,animated:t}:{y:n,animated:t})},t.recordInteraction=function(){this._nestedChildLists.forEach((function(e){e.ref&&e.ref.recordInteraction()})),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props.data)},t.flashScrollIndicators=function(){this._scrollRef.flashScrollIndicators()},t.getScrollResponder=function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()},t.getScrollableNode=function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():(0,h.default)(this._scrollRef)},t.getScrollRef=function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef},t.setNativeProps=function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)},t.getChildContext=function(){return{virtualizedList:{getScrollMetrics:this._getScrollMetrics,horizontal:this.props.horizontal,getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}}},t._getCellKey=function(){return this.context.virtualizedCell&&this.context.virtualizedCell.cellKey||"rootList"},t.hasMore=function(){return this._hasMore},t.componentDidMount=function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.registerAsNestedChild({cellKey:this._getCellKey(),key:this.props.listKey||this._getCellKey(),ref:this})},t.componentWillUnmount=function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.unregisterAsNestedChild({key:this.props.listKey||this._getCellKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush()},n.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.getItemCount,i=e.maxToRenderPerBatch;return{first:Math.max(0,Math.min(t.first,r(n)-1-i)),last:Math.max(0,Math.min(t.last,r(n)-1))}},t._pushCells=function(e,t,n,r,i,o){var s,l=this,u=this.props,c=u.CellRendererComponent,d=u.ItemSeparatorComponent,h=u.data,f=u.getItem,p=u.getItemCount,m=u.horizontal,g=u.keyExtractor,_=this.props.ListHeaderComponent?1:0,y=p(h)-1;i=Math.min(y,i);for(var v=function(r){var i=f(h,r),u=g(i,r);l._indicesToKeys.set(r,u),n.has(r+_)&&t.push(e.length),e.push(a.createElement(R,{CellRendererComponent:c,ItemSeparatorComponent:r<y?d:void 0,cellKey:u,fillRateHelper:l._fillRateHelper,horizontal:m,index:r,inversionStyle:o,item:i,key:u,prevCellKey:s,onUpdateSeparators:l._onUpdateSeparators,onLayout:function(e){return l._onCellLayout(e,u,r)},onUnmount:l._onCellUnmount,parentProps:l.props,ref:function(e){l._cellRefs[u]=e}})),s=u},b=r;b<=i;b++)v(b)},t._isVirtualizationDisabled=function(){return this.props.disableVirtualization||!1},t._isNestedWithSameOrientation=function(){var e=this.context.virtualizedList;return!(!e||!!e.horizontal!=!!this.props.horizontal)},t.render=function(){var e=this,t=this.props,n=t.ListEmptyComponent,r=t.ListFooterComponent,i=t.ListHeaderComponent,o=this.props,s=o.data,l=o.horizontal,d=this._isVirtualizationDisabled(),h=this.props.inverted?this.props.horizontal?M.horizontallyInverted:M.verticallyInverted:null,f=[],p=new Set(this.props.stickyHeaderIndices),m=[];if(i){p.has(0)&&m.push(0);var g=a.isValidElement(i)?i:a.createElement(i,null);f.push(a.createElement(O,{cellKey:this._getCellKey()+"-header",key:"$header"},a.createElement(c.default,{onLayout:this._onLayoutHeader,style:u.default.compose(h,this.props.ListHeaderComponentStyle)},g)))}var _=this.props.getItemCount(s);if(_>0){k=!1,C="";var y=l?"width":"height",v=this.props.initialScrollIndex?-1:this.props.initialNumToRender-1,b=this.state,x=b.first,S=b.last;this._pushCells(f,m,p,0,v,h);var E=Math.max(v+1,x);if(!d&&x>v+1){var T=!1;if(p.size>0)for(var P=i?1:0,R=E-1;R>v;R--)if(p.has(R+P)){var A,I,D=this._getFrameMetricsApprox(v),L=this._getFrameMetricsApprox(R),z=L.offset-D.offset-(this.props.initialScrollIndex?0:D.length);f.push(a.createElement(c.default,{key:"$sticky_lead",style:(A={},A[y]=z,A)})),this._pushCells(f,m,p,R,R,h);var N=this._getFrameMetricsApprox(x).offset-(L.offset+L.length);f.push(a.createElement(c.default,{key:"$sticky_trail",style:(I={},I[y]=N,I)})),T=!0;break}if(!T){var F,B=this._getFrameMetricsApprox(v),j=this._getFrameMetricsApprox(x).offset-(B.offset+B.length);f.push(a.createElement(c.default,{key:"$lead_spacer",style:(F={},F[y]=j,F)}))}}if(this._pushCells(f,m,p,E,S,h),!this._hasWarned.keys&&k&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",C),this._hasWarned.keys=!0),!d&&S<_-1){var V,U=this._getFrameMetricsApprox(S),W=this.props.getItemLayout?_-1:Math.min(_-1,this._highestMeasuredFrameIndex),G=this._getFrameMetricsApprox(W),H=G.offset+G.length-(U.offset+U.length);f.push(a.createElement(c.default,{key:"$tail_spacer",style:(V={},V[y]=H,V)}))}}else if(n){var q=a.isValidElement(n)?n:a.createElement(n,null);f.push(a.cloneElement(q,{key:"$empty",onLayout:function(t){e._onLayoutEmpty(t),q.props.onLayout&&q.props.onLayout(t)},style:u.default.compose(h,q.props.style)}))}if(r){var $=a.isValidElement(r)?r:a.createElement(r,null);f.push(a.createElement(O,{cellKey:this._getCellKey()+"-footer",key:"$footer"},a.createElement(c.default,{onLayout:this._onLayoutFooter,style:u.default.compose(h,this.props.ListFooterComponentStyle)},$)))}var Z=w(w({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:this.props.scrollEventThrottle,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:m});h&&(Z.style=[h,this.props.style]),this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var K=a.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(Z),{ref:this._captureScrollRef},f);return this.props.debug?a.createElement(c.default,{style:M.debug},K,this._renderDebugOverlay()):K},t.componentDidUpdate=function(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||(this._hasDataChangedSinceEndReached=!0,this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.resetViewableIndices()})));var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)},t._computeBlankness=function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)},t._onCellLayout=function(e,t,n){var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:n,inLayout:!0},o=this._frames[t];o&&i.offset===o.offset&&i.length===o.length&&n===o.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(o?o.length:0),this._totalCellsMeasured+=o?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,n),this._scheduleCellsToRenderUpdate());var a=this._cellKeysToChildListKeys.get(t);if(a)for(var s,l=y(a);!(s=l()).done;){var u=s.value,c=this._nestedChildLists.get(u);c&&c.ref&&c.ref.measureLayoutRelativeToContainingList()}this._computeBlankness(),this._updateViewableItems(this.props.data)},t.measureLayoutRelativeToContainingList=function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.virtualizedList.getOutermostParentListRef().getScrollRef().getNativeScrollRef(),(function(t,n,r,i){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:n}),e._scrollMetrics.contentLength=e._selectLength({width:r,height:i});var o=e._convertParentScrollMetrics(e.context.virtualizedList.getScrollMetrics());e._scrollMetrics.visibleLength=o.visibleLength,e._scrollMetrics.offset=o.offset}),(function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")}))}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}},t._renderDebugOverlay=function(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],n=this.props.getItemCount(this.props.data),r=0;r<n;r++){var i=this._getFrameMetricsApprox(r);i.inLayout&&t.push(i)}var o=this._getFrameMetricsApprox(this.state.first).offset,s=this._getFrameMetricsApprox(this.state.last),l=s.offset+s.length-o,u=this._scrollMetrics.offset,d=this._scrollMetrics.visibleLength;return a.createElement(c.default,{style:[M.debugOverlayBase,M.debugOverlay]},t.map((function(t,n){return a.createElement(c.default,{key:"f"+n,style:[M.debugOverlayBase,M.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})})),a.createElement(c.default,{style:[M.debugOverlayBase,M.debugOverlayFrameLast,{top:o*e,height:l*e}]}),a.createElement(c.default,{style:[M.debugOverlayBase,M.debugOverlayFrameVis,{top:u*e,height:d*e}]}))},t._selectLength=function(e){return this.props.horizontal?e.width:e.height},t._selectOffset=function(e){return this.props.horizontal?e.x:e.y},t._maybeCallOnEndReached=function(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onEndReached,i=e.onEndReachedThreshold,o=this._scrollMetrics,a=o.contentLength,s=o.visibleLength,l=a-s-o.offset;r&&this.state.last===n(t)-1&&l<i*s&&(this._hasDataChangedSinceEndReached||this._scrollMetrics.contentLength!==this._sentEndForContentLength)&&(this._hasDataChangedSinceEndReached=!1,this._sentEndForContentLength=this._scrollMetrics.contentLength,r({distanceFromEnd:l}))},t._scheduleCellsToRenderUpdate=function(){var e=this.state,t=e.first,n=e.last,r=this._scrollMetrics,i=r.offset,o=r.visibleLength,a=r.velocity,s=this.props.getItemCount(this.props.data),l=!1,u=this.props.onEndReachedThreshold*o/2;if(t>0){var c=i-this._getFrameMetricsApprox(t).offset;l=l||c<0||a<-2&&c<u}if(n<s-1){var d=this._getFrameMetricsApprox(n).offset-(i+o);l=l||d<0||a>2&&d<u}if(l&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()},t._updateViewableItems=function(e){var t=this,n=this.props.getItemCount;this._viewabilityTuples.forEach((function(r){r.viewabilityHelper.onUpdate(n(e),t._scrollMetrics.offset,t._scrollMetrics.visibleLength,t._getFrameMetrics,t._createViewToken,r.onViewableItemsChanged,t.state)}))},n}(a.PureComponent);P.defaultProps={disableVirtualization:!1,horizontal:!1,initialNumToRender:10,keyExtractor:function(e,t){return null!=e.key?e.key:null!=e.id?e.id:(k=!0,e.type&&e.type.displayName&&(C=e.type.displayName),String(t))},maxToRenderPerBatch:10,onEndReachedThreshold:2,scrollEventThrottle:50,updateCellsBatchingPeriod:50,windowSize:21},P.contextTypes={virtualizedCell:o.default.shape({cellKey:o.default.string}),virtualizedList:o.default.shape({getScrollMetrics:o.default.func,horizontal:o.default.bool,getOutermostParentListRef:o.default.func,getNestedChildState:o.default.func,registerAsNestedChild:o.default.func,unregisterAsNestedChild:o.default.func})},P.childContextTypes={virtualizedList:o.default.shape({getScrollMetrics:o.default.func,horizontal:o.default.bool,getOutermostParentListRef:o.default.func,getNestedChildState:o.default.func,registerAsNestedChild:o.default.func,unregisterAsNestedChild:o.default.func})};var R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={separatorProps:{highlighted:!1,leadingItem:t.props.item}},t._separators={highlight:function(){var e=t.props,n=e.cellKey,r=e.prevCellKey;t.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:function(){var e=t.props,n=e.cellKey,r=e.prevCellKey;t.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:function(e,n){var r=t.props,i=r.cellKey,o=r.prevCellKey;t.props.onUpdateSeparators(["leading"===e?o:i],n)}},t}E(t,e);var n=t.prototype;return n.getChildContext=function(){return{virtualizedCell:{cellKey:this.props.cellKey}}},n.updateSeparatorProps=function(e){this.setState((function(t){return{separatorProps:w(w({},t.separatorProps),e)}}))},n.componentWillUnmount=function(){this.props.onUnmount(this.props.cellKey)},n.render=function(){var e=this.props,t=e.CellRendererComponent,n=e.ItemSeparatorComponent,r=e.fillRateHelper,i=e.horizontal,o=e.item,s=e.index,l=e.inversionStyle,u=e.parentProps,d=u.renderItem,h=u.getItemLayout;(0,p.default)(d,"no renderItem!");var f=d({item:o,index:s,separators:this._separators}),m=!h||u.debug||r.enabled()?this.props.onLayout:void 0,g=n&&a.createElement(n,this.state.separatorProps),_=l?i?[M.rowReverse,l]:[M.columnReverse,l]:i?[M.row,l]:l;return t?a.createElement(t,b({},this.props,{style:_,onLayout:m}),f,g):a.createElement(c.default,{style:_,onLayout:m},f,g)},t}(a.Component);R.childContextTypes={virtualizedCell:o.default.shape({cellKey:o.default.string})};var O=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.getChildContext=function(){return{virtualizedCell:{cellKey:this.props.cellKey}}},n.render=function(){return this.props.children},t}(a.Component);O.childContextTypes={virtualizedCell:o.default.shape({cellKey:o.default.string})};var M=u.default.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}}),A=P;t.default=A,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(20))&&r.__esModule?r:{default:r};var o={_currentlyFocusedNode:null,currentlyFocusedField:function(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput:function(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&i.default.focus(e))},blurTextInput:function(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&i.default.blur(e))}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(16)),i=p(n(36)),o=n(263),a=p(n(102)),s=p(n(264)),l=p(n(124)),u=p(n(3)),c=p(n(88)),d=p(n(5)),h=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=0,b=/^(data:image\/svg\+xml;utf8,)(.*)/;function x(e){var t=null;if("number"==typeof e){var n=(0,o.getAssetByID)(e),r=n.scales[0];if(n.scales.length>1){var i=l.default.get();r=n.scales.reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}))}var a=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+a+"."+n.type:""}else"string"==typeof e?t=e:e&&"string"==typeof e.uri&&(t=e.uri);if(t){var s=t.match(b);if(s){var u=s[1],c=s[2];return""+u+encodeURIComponent(c)}}return t}var w=(0,h.forwardRef)((function(e,t){var n=e.accessibilityLabel,i=e.blurRadius,l=e.defaultSource,f=e.draggable,p=e.onError,g=e.onLayout,y=e.onLoad,b=e.onLoadEnd,w=e.onLoadStart,k=e.pointerEvents,C=e.source,P=e.style,R=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"]);var O=(0,h.useState)((function(){var e=x(C);if(null!=e&&s.default.has(e))return"LOADED";return"IDLE"})),M=O[0],A=O[1],I=(0,h.useState)({}),D=I[0],L=I[1],z=(0,h.useContext)(c.default),N=(0,h.useRef)(null),F=(0,h.useRef)(v++),B=(0,h.useRef)(null),j="LOADED"===M||"LOADING"===M&&null==l,V=function(e,t,n){var r=_({},u.default.flatten(e)),i=r.filter,o=r.resizeMode,s=r.shadowOffset,l=r.tintColor,c=[],d=null;if(i&&c.push(i),t&&c.push("blur("+t+"px)"),s){var h=(0,a.default)(r);h&&c.push("drop-shadow("+h+")")}return l&&null!=n&&c.push("url(#tint-"+n+")"),c.length>0&&(d=c.join(" ")),delete r.blurRadius,delete r.shadowColor,delete r.shadowOpacity,delete r.shadowOffset,delete r.shadowRadius,delete r.tintColor,delete r.overlayColor,delete r.resizeMode,[r,o,d,l]}(P,i,F.current),U=V[0],W=V[1],G=V[2],H=V[3],q=e.resizeMode||W||"cover",$=j?C:l,Z=x($),K=function(e){if("number"==typeof e){var t=(0,o.getAssetByID)(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"==typeof e)return{height:e.height,width:e.width}}($),X=Z?'url("'+Z+'")':null,Y=function(){if(null!=N.current&&("center"===q||"repeat"===q)){var e=N.current,t=e.naturalHeight,n=e.naturalWidth,r=D.height,i=D.width;if(t&&n&&r&&i){var o=Math.min(1,i/n,r/t),a=Math.ceil(o*n),s=Math.ceil(o*t);return a+"px "+s+"px"}}}(),Q=Z?(0,r.default)("img",{alt:n||"",classList:[S.accessibilityImage],draggable:f||!1,ref:N,src:Z}):null;var J=x(C);return(0,h.useEffect)((function(){function e(){null!=B.current&&(s.default.abort(B.current),B.current=null)}return e(),null!=J&&(A("LOADING"),w&&w(),B.current=s.default.load(J,(function(e){A("LOADED"),y&&y(e),b&&b()}),(function(){A("ERRORED"),p&&p({nativeEvent:{error:"Failed to load resource "+J+" (404)"}}),b&&b()}))),e}),[J,B,A,p,y,b,w]),h.default.createElement(d.default,m({},R,{accessibilityLabel:n,onLayout:function(e){if("center"===q||"repeat"===q||g){var t=e.nativeEvent.layout;g&&g(e),L(t)}},pointerEvents:k,ref:t,style:[E.root,z&&E.inline,K,U]}),h.default.createElement(d.default,{style:[E.image,T[q],{backgroundImage:X,filter:G},null!=Y&&{backgroundSize:Y}],suppressHydrationWarning:!0}),Q,function(e,t){return e&&null!=t?h.default.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},h.default.createElement("defs",null,h.default.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},h.default.createElement("feFlood",{floodColor:""+e,key:e}),h.default.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null}(H,F.current))}));w.displayName="Image",w.getSize=function(e,t,n){s.default.getSize(e,t,n)},w.prefetch=function(e){return s.default.prefetch(e)},w.queryCache=function(e){return s.default.queryCache(e)};var S=i.default.create({accessibilityImage:_(_({},u.default.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),E=u.default.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},image:_(_({},u.default.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1})}),T=u.default.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0 0",backgroundSize:"auto"},repeat:{backgroundPosition:"0 0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}}),k=w;t.default=k,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=g(n(0)),i=p(n(16)),o=p(n(36)),a=g(n(85)),s=p(n(47)),l=p(n(86)),u=p(n(22)),c=p(n(49)),d=p(n(87)),h=p(n(3)),f=p(n(88));function p(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=y(y(y(y(y(y(y(y(y({},a.defaultProps),a.accessibilityProps),a.clickProps),a.focusProps),a.keyboardProps),a.mouseProps),a.touchProps),a.styleProps),{},{href:!0,lang:!0,pointerEvents:!0}),x=(0,r.forwardRef)((function(e,t){var n=e.dir,o=e.hrefAttrs,a=e.numberOfLines,h=e.onClick,p=e.onLayout,m=e.onPress,g=e.onMoveShouldSetResponder,_=e.onMoveShouldSetResponderCapture,y=e.onResponderEnd,v=e.onResponderGrant,x=e.onResponderMove,E=e.onResponderReject,T=e.onResponderRelease,k=e.onResponderStart,C=e.onResponderTerminate,P=e.onResponderTerminationRequest,R=e.onScrollShouldSetResponder,O=e.onScrollShouldSetResponderCapture,M=e.onSelectionChangeShouldSetResponder,A=e.onSelectionChangeShouldSetResponderCapture,I=e.onStartShouldSetResponder,D=e.onStartShouldSetResponderCapture,L=e.selectable,z=(0,r.useContext)(f.default),N=(0,r.useRef)(null),F=[w.text,!0===z&&w.textHasAncestor,1===a&&w.textOneLine,null!=a&&a>1&&w.textMultiLine],B=[e.style,null!=a&&a>1&&{WebkitLineClamp:a},!0===L&&S.selectable,!1===L&&S.notSelectable,m&&S.pressable];(0,l.default)(N,p),(0,d.default)(N,{onMoveShouldSetResponder:g,onMoveShouldSetResponderCapture:_,onResponderEnd:y,onResponderGrant:v,onResponderMove:x,onResponderReject:E,onResponderRelease:T,onResponderStart:k,onResponderTerminate:C,onResponderTerminationRequest:P,onScrollShouldSetResponder:R,onScrollShouldSetResponderCapture:O,onSelectionChangeShouldSetResponder:M,onSelectionChangeShouldSetResponderCapture:A,onStartShouldSetResponder:I,onStartShouldSetResponderCapture:D});var j=z?"span":"div",V=function(e){return(0,s.default)(e,b)}(e);if(V.classList=F,V.dir=n,z||(V.dir=null!=n?n:"auto"),V.onClick=function(e){null!=h&&h(e),null==h&&null!=m&&(e.stopPropagation(),m(e))},V.style=B,null!=e.href&&null!=o){var U=o.download,W=o.rel,G=o.target;null!=U&&(V.download=U),null!=W&&(V.rel=W),"string"==typeof G&&(V.target="_"!==G.charAt(0)?"_"+G:G)}var H=(0,c.default)(V),q=(0,u.default)(N,H,t);V.ref=q;var $=(0,i.default)(j,V);return z?$:r.createElement(f.default.Provider,{value:!0},$)}));x.displayName="Text";var w=o.default.create({text:{border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",margin:0,padding:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},textHasAncestor:{color:"inherit",font:"inherit",whiteSpace:"inherit"},textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"}}),S=h.default.create({notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),E=x;t.default=E,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(4),i=n(27);const o={replace:(e,t)=>({type:"REPLACE",payload:{name:e,params:t}}),push:(e,t)=>({type:"PUSH",payload:{name:e,params:t}}),pop:(e=1)=>({type:"POP",payload:{count:e}}),popToTop:()=>({type:"POP_TO_TOP"})};function a(e){const t={...i.a,type:"stack",getInitialState({routeNames:t,routeParamList:n}){const i=void 0!==e.initialRouteName&&t.includes(e.initialRouteName)?e.initialRouteName:t[0];return{stale:!1,type:"stack",key:"stack-".concat(Object(r.a)()),index:0,routeNames:t,routes:[{key:"".concat(i,"-").concat(Object(r.a)()),name:i,params:n[i]}]}},getRehydratedState(t,{routeNames:n,routeParamList:i}){let o=t;if(!1===o.stale)return o;const a=o.routes.filter(e=>n.includes(e.name)).map(e=>({...e,key:e.key||"".concat(e.name,"-").concat(Object(r.a)()),params:void 0!==i[e.name]?{...i[e.name],...e.params}:e.params}));if(0===a.length){const t=void 0!==e.initialRouteName?e.initialRouteName:n[0];a.push({key:"".concat(t,"-").concat(Object(r.a)()),name:t,params:i[t]})}return{stale:!1,type:"stack",key:"stack-".concat(Object(r.a)()),index:a.length-1,routeNames:n,routes:a}},getStateForRouteNamesChange(t,{routeNames:n,routeParamList:i}){const o=t.routes.filter(e=>n.includes(e.name));if(0===o.length){const t=void 0!==e.initialRouteName&&n.includes(e.initialRouteName)?e.initialRouteName:n[0];o.push({key:"".concat(t,"-").concat(Object(r.a)()),name:t,params:i[t]})}return{...t,routeNames:n,routes:o,index:Math.min(t.index,o.length-1)}},getStateForRouteFocus(e,t){const n=e.routes.findIndex(e=>e.key===t);return-1===n||n===e.index?e:{...e,index:n,routes:e.routes.slice(0,n+1)}},getStateForAction(e,n,o){const{routeParamList:a}=o;switch(n.type){case"REPLACE":{const t=n.target===e.key&&n.source?e.routes.findIndex(e=>e.key===n.source):e.index;if(-1===t)return null;const{name:i,key:o,params:s}=n.payload;return e.routeNames.includes(i)?{...e,routes:e.routes.map((e,n)=>n===t?{key:void 0!==o?o:"".concat(i,"-").concat(Object(r.a)()),name:i,params:void 0!==a[i]?{...a[i],...s}:s}:e)}:null}case"PUSH":if(e.routeNames.includes(n.payload.name)){const t=o.routeGetIdList[n.payload.name],i=null==t?void 0:t({params:n.payload.params}),l=n.payload.name&&n.payload.key?e.routes.find(e=>e.name===n.payload.name&&e.key===n.payload.key):i?e.routes.find(e=>e.name===n.payload.name&&i===(null==t?void 0:t({params:e.params}))):void 0;let u;var s;if(l)u=e.routes.filter(e=>e.key!==l.key),u.push({...l,params:void 0!==n.payload.params?{...l.params,...n.payload.params}:l.params});else u=[...e.routes,{key:null!==(s=n.payload.key)&&void 0!==s?s:"".concat(n.payload.name,"-").concat(Object(r.a)()),name:n.payload.name,params:void 0!==a[n.payload.name]?{...a[n.payload.name],...n.payload.params}:n.payload.params}];return{...e,index:u.length-1,routes:u}}return null;case"POP":{const t=n.target===e.key&&n.source?e.routes.findIndex(e=>e.key===n.source):e.index;if(t>0){const r=Math.max(t-n.payload.count+1,1),i=e.routes.slice(0,r).concat(e.routes.slice(t+1));return{...e,index:i.length-1,routes:i}}return null}case"POP_TO_TOP":return t.getStateForAction(e,{type:"POP",payload:{count:e.routes.length-1}},o);case"NAVIGATE":if(void 0!==n.payload.name&&!e.routeNames.includes(n.payload.name))return null;if(n.payload.key||n.payload.name){let t=-1;const i=void 0===n.payload.key&&void 0!==n.payload.name?o.routeGetIdList[n.payload.name]:void 0,s=null==i?void 0:i({params:n.payload.params});if(s)t=e.routes.findIndex(e=>e.name===n.payload.name&&s===(null==i?void 0:i({params:e.params})));else if(e.routes[e.index].name===n.payload.name&&void 0===n.payload.key||e.routes[e.index].key===n.payload.key)t=e.index;else for(let r=e.routes.length-1;r>=0;r--)if(e.routes[r].name===n.payload.name&&void 0===n.payload.key||e.routes[r].key===n.payload.key){t=r;break}if(-1===t&&n.payload.key&&void 0===n.payload.name)return null;if(-1===t&&void 0!==n.payload.name){var l;const t=[...e.routes,{key:null!==(l=n.payload.key)&&void 0!==l?l:"".concat(n.payload.name,"-").concat(Object(r.a)()),name:n.payload.name,params:void 0!==a[n.payload.name]?{...a[n.payload.name],...n.payload.params}:n.payload.params}];return{...e,routes:t,index:t.length-1}}const u=e.routes[t];let c;return c=!1===n.payload.merge?void 0!==a[u.name]?{...a[u.name],...n.payload.params}:n.payload.params:n.payload.params?{...u.params,...n.payload.params}:u.params,{...e,index:t,routes:[...e.routes.slice(0,t),c!==u.params?{...u,params:c}:e.routes[t]]}}return null;case"GO_BACK":return e.index>0?t.getStateForAction(e,{type:"POP",payload:{count:1},target:n.target,source:n.source},o):null;default:return i.a.getStateForAction(e,n)}},actionCreators:o};return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(4),i=n(31);const o={...i.a,openDrawer:()=>({type:"OPEN_DRAWER"}),closeDrawer:()=>({type:"CLOSE_DRAWER"}),toggleDrawer:()=>({type:"TOGGLE_DRAWER"})},a=e=>{var t;return Boolean(null===(t=e.history)||void 0===t?void 0:t.some(e=>"drawer"===e.type))},s=e=>a(e)?e:{...e,history:[...e.history,{type:"drawer"}]},l=e=>a(e)?{...e,history:e.history.filter(e=>"drawer"!==e.type)}:e;function u({openByDefault:e,...t}){const n=Object(i.b)(t);return{...n,type:"drawer",getInitialState({routeNames:t,routeParamList:i,routeGetIdList:o}){let a=n.getInitialState({routeNames:t,routeParamList:i,routeGetIdList:o});return e&&(a=s(a)),{...a,stale:!1,type:"drawer",key:"drawer-".concat(Object(r.a)())}},getRehydratedState(t,{routeNames:i,routeParamList:o,routeGetIdList:l}){if(!1===t.stale)return t;let u=n.getRehydratedState(t,{routeNames:i,routeParamList:o,routeGetIdList:l});return(t.history?a(t):e)&&(u=s(u)),{...u,type:"drawer",key:"drawer-".concat(Object(r.a)())}},getStateForRouteFocus(t,r){const i=n.getStateForRouteFocus(t,r);return e?s(i):l(i)},getStateForAction(t,r,i){switch(r.type){case"OPEN_DRAWER":return s(t);case"CLOSE_DRAWER":return l(t);case"TOGGLE_DRAWER":return a(t)?l(t):s(t);case"GO_BACK":if(e){if(!a(t))return s(t)}else if(a(t))return l(t);return n.getStateForAction(t,r,i);default:return n.getStateForAction(t,r,i)}},actionCreators:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(55)),i=l(n(56)),o=l(n(57)),a=l(n(156)),s=l(n(96));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function e(t){if((0,r.default)(t))return Number(t);if((0,i.default)(t))return(0,o.default)(t);if((0,a.default)(t)){var n=(0,s.default)(t);return Array.isArray(t)?t.map((function(t,n){return[0,1].includes(n)?e(t):t})):c(c(c({},t),n.latitude&&d({},n.latitude,e(t[n.latitude]))),n.longitude&&d({},n.longitude,e(t[n.longitude])))}return Array.isArray(t)?t.map((function(t){return(0,a.default)(t)?e(t):t})):t};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(10),o=(r=n(54))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{longitude:i.longitudeKeys,latitude:i.latitudeKeys,altitude:i.altitudeKeys},n=(0,o.default)(e,t.longitude),r=(0,o.default)(e,t.latitude),a=(0,o.default)(e,t.altitude);return s({latitude:r,longitude:n},a?{altitude:a}:{})};t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},i=function(e){var t=e.accessibilityRole;if(t){var n=r[t];if(null!==n)return n||t}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(75)),i=l(n(36)),o=l(n(3)),a=l(n(76)),s=n(79);function l(e){return e&&e.__esModule?e:{default:e}}var u={},c=Object.prototype.hasOwnProperty,d=/[A-Z]/g;function h(e){return"-"+e.toLowerCase()}var f=i.default.create({reset:{backgroundColor:"transparent",color:"inherit",font:"inherit",listStyle:"none",margin:0,textAlign:"inherit",textDecoration:"none"},cursor:{cursor:"pointer"}},s.STYLE_GROUPS.classicReset),p=o.default.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),m=function(e,t){t||(t=u);var n=t,i=n.accessibilityActiveDescendant,s=n.accessibilityAtomic,l=n.accessibilityAutoComplete,m=n.accessibilityBusy,g=n.accessibilityChecked,_=n.accessibilityColumnCount,y=n.accessibilityColumnIndex,v=n.accessibilityColumnSpan,b=n.accessibilityControls,x=n.accessibilityCurrent,w=n.accessibilityDescribedBy,S=n.accessibilityDetails,E=n.accessibilityDisabled,T=n.accessibilityErrorMessage,k=n.accessibilityExpanded,C=n.accessibilityFlowTo,P=n.accessibilityHasPopup,R=n.accessibilityHidden,O=n.accessibilityInvalid,M=n.accessibilityKeyShortcuts,A=n.accessibilityLabel,I=n.accessibilityLabelledBy,D=n.accessibilityLevel,L=n.accessibilityLiveRegion,z=n.accessibilityModal,N=n.accessibilityMultiline,F=n.accessibilityMultiSelectable,B=n.accessibilityOrientation,j=n.accessibilityOwns,V=n.accessibilityPlaceholder,U=n.accessibilityPosInSet,W=n.accessibilityPressed,G=n.accessibilityReadOnly,H=n.accessibilityRequired,q=(n.accessibilityRole,n.accessibilityRoleDescription),$=n.accessibilityRowCount,Z=n.accessibilityRowIndex,K=n.accessibilityRowSpan,X=n.accessibilitySelected,Y=n.accessibilitySetSize,Q=n.accessibilitySort,J=n.accessibilityValueMax,ee=n.accessibilityValueMin,te=n.accessibilityValueNow,ne=n.accessibilityValueText,re=n.classList,ie=n.dataSet,oe=n.focusable,ae=n.nativeID,se=n.pointerEvents,le=n.style,ue=n.testID,ce=n.accessible,de=n.accessibilityState,he=n.accessibilityValue,fe=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["accessibilityActiveDescendant","accessibilityAtomic","accessibilityAutoComplete","accessibilityBusy","accessibilityChecked","accessibilityColumnCount","accessibilityColumnIndex","accessibilityColumnSpan","accessibilityControls","accessibilityCurrent","accessibilityDescribedBy","accessibilityDetails","accessibilityDisabled","accessibilityErrorMessage","accessibilityExpanded","accessibilityFlowTo","accessibilityHasPopup","accessibilityHidden","accessibilityInvalid","accessibilityKeyShortcuts","accessibilityLabel","accessibilityLabelledBy","accessibilityLevel","accessibilityLiveRegion","accessibilityModal","accessibilityMultiline","accessibilityMultiSelectable","accessibilityOrientation","accessibilityOwns","accessibilityPlaceholder","accessibilityPosInSet","accessibilityPressed","accessibilityReadOnly","accessibilityRequired","accessibilityRole","accessibilityRoleDescription","accessibilityRowCount","accessibilityRowIndex","accessibilityRowSpan","accessibilitySelected","accessibilitySetSize","accessibilitySort","accessibilityValueMax","accessibilityValueMin","accessibilityValueNow","accessibilityValueText","classList","dataSet","focusable","nativeID","pointerEvents","style","testID","accessible","accessibilityState","accessibilityValue"]),pe=null!=de&&!0===de.disabled||E,me=r.default.propsToAriaRole(t),ge="link"===me||"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e||null!=fe.contentEditable;if(null!=de)for(var _e in de){var ye=de[_e];null!=ye&&("disabled"===_e||"hidden"===_e?!0===ye&&(fe["aria-"+_e]=ye,fe[_e]=ye):fe["aria-"+_e]=ye)}if(null!=he)for(var ve in he){var be=he[ve];null!=be&&(fe["aria-value"+ve]=be)}if(null!=i&&(fe["aria-activedescendant"]=i),null!=s&&(fe["aria-atomic"]=s),null!=l&&(fe["aria-autocomplete"]=l),null!=m&&(fe["aria-busy"]=m),null!=g&&(fe["aria-checked"]=g),null!=_&&(fe["aria-colcount"]=_),null!=y&&(fe["aria-colindex"]=y),null!=v&&(fe["aria-colspan"]=v),null!=b&&(fe["aria-controls"]=b),null!=x&&(fe["aria-current"]=x),null!=w&&(fe["aria-describedby"]=w),null!=S&&(fe["aria-details"]=S),!0===pe&&(fe["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(fe.disabled=!0)),null!=T&&(fe["aria-errormessage"]=T),null!=k&&(fe["aria-expanded"]=k),null!=C&&(fe["aria-flowto"]=C),null!=P&&(fe["aria-haspopup"]=P),!0===R&&(fe["aria-hidden"]=R),null!=O&&(fe["aria-invalid"]=O),null!=M&&Array.isArray(M)&&(fe["aria-keyshortcuts"]=M.join(" ")),null!=A&&(fe["aria-label"]=A),null!=I&&(fe["aria-labelledby"]=I),null!=D&&(fe["aria-level"]=D),null!=L&&(fe["aria-live"]="none"===L?"off":L),null!=z&&(fe["aria-modal"]=z),null!=N&&(fe["aria-multiline"]=N),null!=F&&(fe["aria-multiselectable"]=F),null!=B&&(fe["aria-orientation"]=B),null!=j&&(fe["aria-owns"]=j),null!=V&&(fe["aria-placeholder"]=V),null!=U&&(fe["aria-posinset"]=U),null!=W&&(fe["aria-pressed"]=W),null!=G&&(fe["aria-readonly"]=G,"input"!==e&&"select"!==e&&"textarea"!==e||(fe.readOnly=!0)),null!=H&&(fe["aria-required"]=H,"input"!==e&&"select"!==e&&"textarea"!==e||(fe.required=!0)),null!=me&&(fe.role="none"===me?"presentation":me),null!=q&&(fe["aria-roledescription"]=q),null!=$&&(fe["aria-rowcount"]=$),null!=Z&&(fe["aria-rowindex"]=Z),null!=K&&(fe["aria-rowspan"]=K),null!=X&&(fe["aria-selected"]=X),null!=Y&&(fe["aria-setsize"]=Y),null!=Q&&(fe["aria-sort"]=Q),null!=J&&(fe["aria-valuemax"]=J),null!=ee&&(fe["aria-valuemin"]=ee),null!=te&&(fe["aria-valuenow"]=te),null!=ne&&(fe["aria-valuetext"]=ne),null!=ie)for(var xe in ie)if(c.call(ie,xe)){var we=xe.replace(d,h),Se=ie[xe];null!=Se&&(fe["data-"+we]=Se)}var Ee=null!=oe?oe:ce;"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==Ee&&!0!==E||(fe.tabIndex="-1"):"button"===me||"checkbox"===me||"link"===me||"menuitem"===me||"radio"===me||"textbox"===me||"switch"===me?!1!==Ee&&(fe.tabIndex="0"):!0===Ee&&(fe.tabIndex="0");var Te=o.default.compose(se&&p[se],le),ke=("button"===me||"link"===me)&&!pe,Ce=[("a"===e||"button"===e||"li"===e||"ul"===e||"heading"===me)&&f.reset,ke&&f.cursor,re],Pe=a.default.resolve(Te,Ce),Re=Pe.className,Oe=Pe.style;if(null!=Re&&""!==Re&&(fe.className=Re),Oe&&(fe.style=Oe),null!=ae&&(fe.id=ae),null!=ue&&(fe["data-testid"]=ue),ge||"button"===me||"menuitem"===me||!0===Ee&&!pe){var Me=fe.onClick;if(null!=Me)if(pe)fe.onClick=function(e){e.stopPropagation()};else if(!ge){var Ae=fe.onKeyDown;fe.onKeyDown=function(e){var t=e.key,n=e.repeat,r=" "===t||"Spacebar"===t,i="button"===me||"menuitem"===me;null!=Ae&&Ae(e),n||"Enter"!==t?r&&i&&(n||Me(e),e.preventDefault()):Me(e)}}}return fe};t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach((function(e){i.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));var o=r;t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(178)),i=o(n(101));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"==typeof e&&(0,r.default)(e))return e;var n=(0,i.default)(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(77))&&r.__esModule?r:{default:r};var o=function(e){if(null==e)return e;var t=(0,i.default)(e);return null!=t?t=(t<<24|t>>>8)>>>0:void 0};t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(100)),i=o(n(42));function o(e){return e&&e.__esModule?e:{default:e}}var a={height:0,width:0},s=function(e){var t=e.shadowColor,n=e.shadowOffset,o=e.shadowOpacity,s=e.shadowRadius,l=n||a,u=l.height,c=l.width,d=(0,i.default)(c),h=(0,i.default)(u),f=(0,i.default)(s||0),p=(0,r.default)(t||"black",o);if(null!=p&&null!=d&&null!=h&&null!=f)return d+" "+h+" "+f+" "+p};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(104));i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){if(t){if(!Array.isArray(t))return function(e){return"number"==typeof e?r.default.getByID(e):e}(t);for(var n={},i=0,o=t.length;i<o;++i){var a=e(t[i]);if(a)for(var s in a){var l=a[s];n[s]=l}}return n}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={},i={},o=1,a=function(e){return"r-"+e},s=function(){function e(){}return e.register=function(e){var t=o++;var n=a(t);return i[n]=e,t},e.getByID=function(e){if(!e)return r;var t=a(e),n=i[t];return n||(console.warn("Invalid style with id `"+e+"`. Skipping ..."),r)},e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/,i=function(e,t){var n;return"string"==typeof e?""+parseFloat(e)*t+e.match(r)[1]:(n=e,!isNaN(parseFloat(n))&&isFinite(n)?e*t:void 0)};t.default=i,e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,a);return o[e]=i.test(t)?"-"+t:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(44);t.hydrate=r.hydrate;var i=r.render;t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(44).unmountComponentAtNode;t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(null!=e&&(1===e.nodeType&&"function"==typeof e.getBoundingClientRect))return e.getBoundingClientRect()};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(112)),i=a(n(114)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,n;function r(t){return e.call(this,i.default.sharedSubscriber)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var a=r.prototype;return a.addListener=function(t,n,r){return null!=this._nativeModule&&this._nativeModule.addListener(t),e.prototype.addListener.call(this,t,n,r)},a.removeAllListeners=function(t){(0,o.default)(t,"eventType argument is required.");var n=this.listeners(t).length;null!=this._nativeModule&&this._nativeModule.removeListeners(n),e.prototype.removeAllListeners.call(this,t)},a.removeSubscription=function(t){null!=this._nativeModule&&this._nativeModule.removeListeners(1),e.prototype.removeSubscription.call(this,t)},r}(r.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(223)),i=a(n(113)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){return!0},l=function(){function e(e){this._subscriber=e||new i.default}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new r.default(this,this._subscriber,t,n))},t.once=function(e,t,n){var r=this;return this.addListener(e,(function(){r.removeCurrentListener();for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.apply(n,i)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){(0,o.default)(!!this._currentSubscription,"Not in an emitting cycle; there is no current subscription"),this.removeSubscription(this._currentSubscription)},t.removeSubscription=function(e){(0,o.default)(e.emitter===this,"Subscription does not belong to this emitter."),this._subscriber.removeSubscription(e)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(s).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];i&&i.listener&&(this._currentSubscription=i,i.listener.apply(i.context,Array.prototype.slice.call(arguments,1)))}this._currentSubscription=null}},t.removeListener=function(e,t){var n=this._subscriber.getSubscriptionsForType(e);if(n)for(var r=0,i=n.length;r<i;r++){var o=n[r];o&&o.listener===t&&o.remove()}},e}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};var o=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){(0,i.default)(t.subscriber===this,"The subscriber of the subscription is incorrectly set."),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,r=this._subscriptionsForType[t];r&&delete r[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(112)),i=o(n(113));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=new(function(e){var t,n;function r(){var t,n=new i.default;return(t=e.call(this,n)||this).sharedSubscriber=n,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var o=r.prototype;return o.addListener=function(t,n,r){return e.prototype.addListener.call(this,t,n,r)},o.removeAllListeners=function(t){e.prototype.removeAllListeners.call(this,t)},o.removeSubscription=function(t){t.emitter!==this?t.emitter.removeSubscription(t):e.prototype.removeSubscription.call(this,t)},r}(r.default));t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(81),i=u(n(13)),o=u(n(233)),a=u(n(14)),s=u(n(29)),l=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){var t,n;function u(t,n){var r;return r=e.call(this)||this,t.style&&(t=d(d({},t),{},{style:new o.default(t.style)})),r._props=t,r._callback=n,r.__attach(),r}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var c=u.prototype;return c.__getValue=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof i.default?(!n.__isNative||n instanceof o.default)&&(e[t]=n.__getValue()):n instanceof r.AnimatedEvent?e[t]=n.__getHandler():e[t]=n}return e},c.__getAnimatedValue=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof i.default&&(e[t]=n.__getAnimatedValue())}return e},c.__attach=function(){for(var e in this._props){var t=this._props[e];t instanceof i.default&&t.__addChild(this)}},c.__detach=function(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var n=this._props[t];n instanceof i.default&&n.__removeChild(this)}e.prototype.__detach.call(this)},c.update=function(){this._callback()},c.__makeNative=function(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof i.default&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}},c.setNativeView=function(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())},c.__connectAnimatedView=function(){(0,l.default)(this.__isNative,'Expected node to be marked as "native"');var e=(0,s.default)(this._animatedView);(0,l.default)(null!=e,"Unable to locate attached view in the native tree"),a.default.API.connectAnimatedNodeToView(this.__getNativeTag(),e)},c.__disconnectAnimatedView=function(){(0,l.default)(this.__isNative,'Expected node to be marked as "native"');var e=(0,s.default)(this._animatedView);(0,l.default)(null!=e,"Unable to locate attached view in the native tree"),a.default.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)},c.__getNativeConfig=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof i.default&&(n.__makeNative(),e[t]=n.__getNativeTag())}return{type:"props",props:e}},u}(i.default);t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i,o=(r=n(241))&&r.__esModule?r:{default:r};var a=function(){function e(){}return e.step0=function(e){return e>0?1:0},e.step1=function(e){return e>=1?1:0},e.linear=function(e){return e},e.ease=function(t){return i||(i=e.bezier(.42,0,1,1)),i(t)},e.quad=function(e){return e*e},e.cubic=function(e){return e*e*e},e.poly=function(e){return function(t){return Math.pow(t,e)}},e.sin=function(e){return 1-Math.cos(e*Math.PI/2)},e.circle=function(e){return 1-Math.sqrt(1-e*e)},e.exp=function(e){return Math.pow(2,10*(e-1))},e.elastic=function(e){void 0===e&&(e=1);var t=e*Math.PI;return function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}},e.back=function(e){return void 0===e&&(e=1.70158),function(t){return t*t*((e+1)*t-e)}},e.bounce=function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var r=e-2.625/2.75;return 7.5625*r*r+.984375},e.bezier=function(e,t,n,r){return(0,o.default)(e,t,n,r)},e.in=function(e){return e},e.out=function(e){return function(t){return 1-e(1-t)}},e.inOut=function(e){return function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2}},e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(243))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=r.useRef(o);t.current===o&&(t.current=e());return t.current};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():Object.freeze({});e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(120),i=[],o={touchBank:i,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function a(e){return e.timeStamp||e.timestamp}function s(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),t}function l(e){var t=s(e),n=i[t];n?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=a(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=a(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=a(t)}(n,e):i[t]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:a(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:a(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:a(e)}}(e),o.mostRecentTimeStamp=a(e)}function u(e){var t=i[s(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=a(e),o.mostRecentTimeStamp=a(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+d(e)+"\n","Touch Bank: "+h())}function c(e){var t=i[s(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=a(e),o.mostRecentTimeStamp=a(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+d(e)+"\n","Touch Bank: "+h())}function d(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:a(e)})}function h(){var e=JSON.stringify(i.slice(0,20));return i.length>20&&(e+=" (original size: "+i.length+")"),e}var f={recordTouchTrack:function(e,t){if((0,r.isMoveish)(e))t.changedTouches.forEach(u);else if((0,r.isStartish)(e))t.changedTouches.forEach(l),o.numberActiveTouches=t.touches.length,1===o.numberActiveTouches&&(o.indexOfSingleActiveTouch=t.touches[0].identifier);else if((0,r.isEndish)(e)){if(t.changedTouches.forEach(c),o.numberActiveTouches=t.touches.length,1===o.numberActiveTouches)for(var n=0;n<i.length;n++){var a=i[n];if(null!=a&&a.touchActive){o.indexOfSingleActiveTouch=n;break}}}},touchHistory:o};t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.isStartish=function(e){return"touchstart"===e||"mousedown"===e},t.isMoveish=function(e){return"touchmove"===e||"mousemove"===e},t.isEndish=function(e){return"touchend"===e||"mouseup"===e||r(e)},t.isCancelish=r,t.isScroll=function(e){return"scroll"===e},t.isSelectionChange=function(e){return"select"===e||"selectionchange"===e},t.SELECTION_CHANGE=t.SELECT=t.SCROLL=t.TOUCH_CANCEL=t.TOUCH_END=t.TOUCH_MOVE=t.TOUCH_START=t.MOUSE_CANCEL=t.MOUSE_UP=t.MOUSE_MOVE=t.MOUSE_DOWN=t.FOCUS_OUT=t.CONTEXT_MENU=t.BLUR=void 0;t.BLUR="blur";t.CONTEXT_MENU="contextmenu";t.FOCUS_OUT="focusout";t.MOUSE_DOWN="mousedown";t.MOUSE_MOVE="mousemove";t.MOUSE_UP="mouseup";t.MOUSE_CANCEL="dragstart";t.TOUCH_START="touchstart";t.TOUCH_MOVE="touchmove";t.TOUCH_END="touchend";t.TOUCH_CANCEL="touchcancel";t.SCROLL="scroll";t.SELECT="select";function r(e){return"touchcancel"===e||"dragstart"===e}t.SELECTION_CHANGE="selectionchange"},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(5)),i=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var t=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"]);return i.default.createElement(r.default,t)};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(90))&&r.__esModule?r:{default:r};var o=function(){i.default.blurTextInput(i.default.currentlyFocusedField())};t.default=o,e.exports=t.default},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(38))&&r.__esModule?r:{default:r};var o=function(){function e(){}return e.get=function(){return i.default.get("window").scale},e.getFontScale=function(){return i.default.get("window").fontScale||e.get()},e.getPixelSizeForLayoutSize=function(t){return Math.round(t*e.get())},e.roundToNearestPixel=function(t){var n=e.get();return Math.round(t*n)/n},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(265))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(6).canUseDOM&&null!=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,i=new WeakMap,o={getColorScheme:function(){return r&&r.matches?"dark":"light"},addChangeListener:function(e){var t=i.get(e);t||(t=function(t){var n=t.matches;e({colorScheme:n?"dark":"light"})},i.set(e,t)),r&&r.addListener(t)},removeChangeListener:function(e){var t=i.get(e);t&&(r&&r.removeListener(t),i.delete(e))}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=l(n(22)),o=l(n(52)),a=l(n(3)),s=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){var n=e.activeOpacity,a=e.delayPressIn,l=e.delayPressOut,u=e.delayLongPress,d=e.disabled,f=e.focusable,p=e.onLongPress,m=e.onPress,g=e.onPressIn,_=e.onPressOut,y=e.rejectResponderTermination,v=e.style,b=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"]),x=(0,r.useRef)(null),w=(0,i.default)(t,x),S=(0,r.useState)("0s"),E=S[0],T=S[1],k=(0,r.useState)(null),C=k[0],P=k[1],R=(0,r.useCallback)((function(e,t){P(e),T(t?t/1e3+"s":"0s")}),[P,T]),O=(0,r.useCallback)((function(e){R(null!=n?n:.2,e)}),[n,R]),M=(0,r.useCallback)((function(e){R(null,e)}),[R]),A=(0,r.useMemo)((function(){return{cancelable:!y,disabled:d,delayLongPress:u,delayPressStart:a,delayPressEnd:l,onLongPress:p,onPress:m,onPressStart:function(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;O(t?0:150),null!=g&&g(e)},onPressEnd:function(e){M(250),null!=_&&_(e)}}}),[u,a,l,d,p,m,g,_,y,O,M]),I=(0,o.default)(x,A);return r.createElement(s.default,c({},b,I,{accessibilityDisabled:d,focusable:!d&&!1!==f,ref:w,style:[h.root,!d&&h.actionable,v,null!=C&&{opacity:C},{transitionDuration:E}]}))}var h=a.default.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),f=r.memo(r.forwardRef(d));f.displayName="TouchableOpacity";var p=f;t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=function(e){if(null==e)return!1;return o?e:Boolean(e.capture)}(t);return function(t,r){if(null==t||"function"!=typeof t.addEventListener)throw new Error("createEventHandle: called on an invalid target.");var o=t;if(null!=r){var l=function(e){return r(((t=e).nativeEvent=t,t.persist=i,t.isDefaultPrevented=s,t.isPropagationStopped=a,t));var t};return o.addEventListener(e,l,n),function(){null!=o&&o.removeEventListener(e,l,n)}}return i}};var r=n(6),i=function(){};var o=function(){var e=!1;if(r.canUseDOM)try{var t={};Object.defineProperty(t,"passive",{get:function(){return e=!0,!1}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function a(){return this.cancelBubble}function s(){return this.defaultPrevented}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r;(r=n(2))&&r.__esModule;var i=function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},o=function(e){e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=i,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=o,n},twoArgumentPooler:i};t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(){return{type:"GO_BACK"}}function i(...e){if("string"==typeof e[0])return{type:"NAVIGATE",payload:{name:e[0],params:e[1]}};{const t=e[0]||{};if(!t.hasOwnProperty("key")&&!t.hasOwnProperty("name"))throw new Error("You need to specify name or key when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:t}}}function o(e){return{type:"RESET",payload:e}}function a(e){return{type:"SET_PARAMS",payload:{params:e}}}n.r(t),n.d(t,"goBack",(function(){return r})),n.d(t,"navigate",(function(){return i})),n.d(t,"reset",(function(){return o})),n.d(t,"setParams",(function(){return a}))},function(e,t){},function(e,t,n){"use strict";(function(e){var r=n(0),i=n(12),o=n(34),a=n(64),s=n(9),l=n(24),u=n(11),c=n(15),d=n(65),h=n(66),f=n(67),p=n(68),m=n(69),g=n(166);n(329);const _="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.";try{Object.defineProperty(e,"REACT_NAVIGATION_REDUX_DEVTOOLS_EXTENSION_INTEGRATION_ENABLED",{set(e){console.warn("Redux devtools extension integration can be enabled with the '@react-navigation/devtools' package. For more details, see https://reactnavigation.org/docs/devtools")}})}catch(e){}const y=e=>{if(void 0===e)return;const{key:t,routeNames:n,...r}=e;return{...r,stale:!0,routes:e.routes.map(e=>void 0===e.state?e:{...e,state:y(e.state)})}},v=r.forwardRef((function({initialState:e,onStateChange:t,onUnhandledAction:n,independent:v,children:b},x){if(!r.useContext(l.a).isDefault&&!v)throw new Error("Looks like you have nested a 'NavigationContainer' inside another. Normally you need only one container at the root of the app, so this was probably an error. If this was intentional, pass 'independent={true}' explicitely. Note that this will make the child navigators disconnected from the parent and you won't be able to navigate between them.");const[w,S,E,T,k]=Object(g.a)(()=>y(null==e?void 0:e)),C=r.useRef(!0),P=r.useRef(),R=r.useCallback(()=>P.current,[]),O=r.useCallback(e=>{P.current=e},[]),{listeners:M,addListener:A}=Object(h.a)(),{keyedListeners:I,addKeyedListener:D}=Object(f.a)(),L=e=>{if(null==M.focus[0])throw new Error(_);M.focus[0](t=>t.dispatch(e))},z=()=>{if(null==M.focus[0])return!1;const{result:e,handled:t}=M.focus[0](e=>e.canGoBack());return!!t&&e},N=r.useCallback(e=>{var t,n,r;const o=null!==(t=null==e?void 0:e.key)&&void 0!==t?t:null===(n=(r=I.getState).root)||void 0===n?void 0:n.call(r).key;if(null==o)throw new Error(_);M.focus[0](t=>t.dispatch({...i.CommonActions.reset(e),target:o}))},[I.getState,M.focus]),F=r.useCallback(()=>{var e,t;return null===(e=(t=I.getState).root)||void 0===e?void 0:e.call(t)},[I.getState]),B=r.useCallback(()=>{let e=F();if(void 0!==e){for(;void 0!==e.routes[e.index].state;)e=e.routes[e.index].state;return e.routes[e.index]}},[F]),j=Object(m.a)(),{addOptionsGetter:V,getCurrentOptions:U}=Object(p.a)({});r.useImperativeHandle(x,()=>({...Object.keys(i.CommonActions).reduce((e,t)=>(e[t]=(...e)=>L(i.CommonActions[t](...e)),e),{}),...j.create("root"),resetRoot:N,dispatch:L,canGoBack:z,getRootState:F,dangerouslyGetState:()=>w,dangerouslyGetParent:()=>{},getCurrentRoute:B,getCurrentOptions:U}));const W=r.useCallback((e,t)=>{j.emit({type:"__unsafe_action__",data:{action:e,noop:t}})},[j]),G=r.useRef(),H=r.useCallback(e=>{G.current!==e&&(G.current=e,j.emit({type:"options",data:{options:e}}))},[j]),q=r.useMemo(()=>({addListener:A,addKeyedListener:D,onDispatchAction:W,onOptionsChange:H}),[A,D,W,H]),$=r.useMemo(()=>({scheduleUpdate:T,flushUpdates:k}),[T,k]),Z=r.useRef(!0),K=r.useCallback(()=>Z.current,[]),X=r.useMemo(()=>({state:w,getState:S,setState:E,getKey:R,setKey:O,getIsInitial:K,addOptionsGetter:V}),[w,S,E,R,O,K,V]),Y=r.useRef(t);r.useEffect(()=>{Z.current=!1,Y.current=t}),r.useEffect(()=>{j.emit({type:"state",data:{state:w}}),!C.current&&Y.current&&Y.current(F()),C.current=!1},[F,j,w]);const Q=r.useCallback(e=>{},[]);let J=r.createElement(d.a.Provider,{value:$},r.createElement(s.a.Provider,{value:q},r.createElement(l.a.Provider,{value:X},r.createElement(a.a.Provider,{value:null!=n?n:Q},r.createElement(o.b,null,b)))));return v&&(J=r.createElement(u.a.Provider,{value:void 0},r.createElement(c.a.Provider,{value:void 0},J))),J}));t.a=v}).call(this,n(46))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(70);function i(e){return function(){if(void 0!==arguments[0])throw new Error("Creating a navigator doesn't take an argument. Maybe you are trying to use React Navigation 4 API with React Navigation 5? See https://reactnavigation.org/docs/upgrading-from-4.x for migration guide.");return{Navigator:e,Screen:r.a}}}},function(e,t,n){"use strict";var r=n(0);const i=r.createContext(void 0);t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(11);function o(){const e=r.useContext(i.a);if(void 0===e)throw new Error("Couldn't find a route object. Is your component inside a screen in a navigator?");return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(26);function o(e){const t=Object(i.a)();if(void 0!==arguments[1]){const e="You passed a second argument to 'useFocusEffect', but it only accepts one argument. If you want to pass a dependency array, you can use 'React.useCallback':\n\nuseFocusEffect(\n  React.useCallback(() => {\n    // Your code here\n  }, [depA, depB])\n);\n\nSee usage guide: https://reactnavigation.org/docs/use-focus-effect";console.error(e)}r.useEffect(()=>{let n,r=!1;const i=()=>{const t=e();if(void 0===t||"function"==typeof t)return t};t.isFocused()&&(n=i(),r=!0);const o=t.addListener("focus",()=>{r||(void 0!==n&&n(),n=i(),r=!0)}),a=t.addListener("blur",()=>{void 0!==n&&n(),n=void 0,r=!1});return()=>{void 0!==n&&n(),o(),a()}},[e,t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(26);function o(){const e=Object(i.a)(),[t,n]=Object(r.useState)(e.isFocused),o=e.isFocused();return t!==o&&n(o),r.useEffect(()=>{const t=e.addListener("focus",()=>n(!0)),r=e.addListener("blur",()=>n(!1));return()=>{t(),r()}},[e]),r.useDebugValue(o),o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(26);function o(e){const t=Object(i.a)(),[,n]=r.useState(()=>e(t.dangerouslyGetState())),o=r.useRef(e);return r.useEffect(()=>{o.current=e}),r.useEffect(()=>t.addListener("state",e=>{n(o.current(e.data.state))}),[t]),e(t.dangerouslyGetState())}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(167),i=n.n(r),o=n(71),a=n(72);function s(e,t){const[n,r]=Object(a.a)(t);let i=[];null!=r&&r.initialRouteName&&i.push({initialRouteName:r.initialRouteName,connectedRoutes:Object.keys(r.screens)});const o=null==r?void 0:r.screens;let s=e.replace(/\/+/g,"/").replace(/^\//,"").replace(/\?.*$/,"");if(s=s.endsWith("/")?s:"".concat(s,"/"),void 0===o){const t=s.split("/").filter(Boolean).map((t,n,r)=>{const i=decodeURIComponent(t);return n===r.length-1?{name:i,params:_(e)}:{name:i}});return t.length?m(t,i):void 0}const l=[].concat(...Object.keys(o).map(e=>c(n,e,o,[],i))).sort((e,t)=>{if(e.pattern===t.pattern)return t.routeNames.join(">").localeCompare(e.routeNames.join(">"));if(e.pattern.startsWith(t.pattern))return-1;if(t.pattern.startsWith(e.pattern))return 1;const n=e.pattern.split("/"),r=t.pattern.split("/"),i=n.indexOf("*"),o=r.indexOf("*");return-1===i&&-1!==o?-1:-1!==i&&-1===o?1:i===o?r.length-n.length:o-i});if(l.reduce((e,t)=>{if(e[t.pattern]){const n=e[t.pattern].routeNames,r=t.routeNames;if(!(n.length>r.length?r.every((e,t)=>n[t]===e):n.every((e,t)=>r[t]===e)))throw new Error("Found conflicting screens with the same pattern. The pattern '".concat(t.pattern,"' resolves to both '").concat(n.join(" > "),"' and '").concat(r.join(" > "),"'. Patterns must be unique and cannot resolve to more than one screen."))}return Object.assign(e,{[t.pattern]:t})},{}),"/"===s){const t=l.find(e=>""===e.path&&e.routeNames.every(e=>{var t;return!(null!==(t=l.find(t=>t.screen===e))&&void 0!==t&&t.path)}));return t?m(t.routeNames.map((n,r,i)=>r===i.length-1?{name:n,params:_(e,t.parse)}:{name:n}),i):void 0}let d,f;if(!1===n){const{routes:e,remainingPath:t}=u(s,l.map(e=>({...e,regex:e.regex?new RegExp(e.regex.source+"$"):void 0})));void 0!==e&&(f=m(e,i),s=t,d=f)}else for(;s;){let{routes:e,remainingPath:t}=u(s,l);if(s=t,void 0===e){const t=s.split("/");e=[{name:decodeURIComponent(t[0])}],t.shift(),s=t.join("/")}const n=m(e,i);if(f){for(var p;null!==(y=f)&&void 0!==y&&y.routes[f.index||0].state;){var y;f=f.routes[f.index||0].state}f.routes[(null===(p=f)||void 0===p?void 0:p.index)||0].state=n}else d=n;f=n}if(null==f||null==d)return;const v=g(f),b=_(e,h(v.name,l));return b&&(v.params={...v.params,...b}),d}const l=(...e)=>[].concat(...e.map(e=>e.split("/"))).filter(Boolean).join("/"),u=(e,t)=>{let n,r=e;for(const e of t){if(!e.regex)continue;const o=r.match(e.regex);if(o){var i;const a=null===(i=e.pattern)||void 0===i?void 0:i.split("/").filter(e=>e.startsWith(":")).reduce((e,t,n)=>Object.assign(e,{[t]:o[2*(n+1)].replace(/\//,"")}),{});n=e.routeNames.map(e=>{var n;const r=t.find(t=>t.screen===e),i=null==r||null===(n=r.path)||void 0===n?void 0:n.split("/").filter(e=>e.startsWith(":")).reduce((e,t)=>{const n=a[t];if(n){var i;const o=t.replace(/^:/,"").replace(/\?$/,"");e[o]=null!==(i=r.parse)&&void 0!==i&&i[o]?r.parse[o](n):n}return e},{});return i&&Object.keys(i).length?{name:e,params:i}:{name:e}}),r=r.replace(o[1],"");break}}return{routes:n,remainingPath:r}},c=(e,t,n,r=[],i,o)=>{const a=[];r.push(t);const s=n[t];if("string"==typeof s){const n=o?l(o,s):s;a.push(d(e,t,r,n,s))}else if("object"==typeof s){let n;if("string"==typeof s.path){if(e)n=!0!==s.exact&&o?l(o,s.path):s.path;else{if(s.exact&&void 0===s.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");n=!0!==s.exact?l(o||"",s.path||""):s.path||""}a.push(d(e,t,r,n,s.path,s.parse))}s.screens&&(s.initialRouteName&&i.push({initialRouteName:s.initialRouteName,connectedRoutes:Object.keys(s.screens)}),Object.keys(s.screens).forEach(t=>{var l;const u=c(e,t,s.screens,r,i,null!==(l=n)&&void 0!==l?l:o);a.push(...u)}))}return r.pop(),a},d=(e,t,n,r,o,a)=>({screen:t,regex:(r=r.split("/").filter(Boolean).join("/"))?new RegExp("^(".concat(r.split("/").map(t=>{if(e&&"*"===t)throw new Error("Please update your config to the new format to use wildcard pattern ('*'). https://reactnavigation.org/docs/configuring-links/#updating-config");return t.startsWith(":")?"(([^/]+\\/)".concat(t.endsWith("?")?"?":"",")"):"".concat("*"===t?".*":i()(t),"\\/")}).join(""),")")):void 0,pattern:r,path:o,routeNames:[...n],parse:a}),h=(e,t)=>{for(const n of t)if(e===n.routeNames[n.routeNames.length-1])return n.parse},f=(e,t)=>{for(const n of t)if(n.connectedRoutes.includes(e))return n.initialRouteName===e?void 0:n.initialRouteName},p=(e,t,n)=>n?e?{index:1,routes:[{name:e},t]}:{routes:[t]}:e?{index:1,routes:[{name:e},{...t,state:{routes:[]}}]}:{routes:[{...t,state:{routes:[]}}]},m=(e,t)=>{let n,r=e.shift(),i=f(r.name,t);if(n=p(i,r,0===e.length),e.length>0){let o=n;for(;r=e.shift();){i=f(r.name,t);const n=o.index||o.routes.length-1;o.routes[n].state=p(i,r,0===e.length),e.length>0&&(o=o.routes[n].state)}}return n},g=e=>{var t;let n=e;for(;null!==(r=n)&&void 0!==r&&r.routes[n.index||0].state;){var r;n=n.routes[n.index||0].state}return n.routes[(null===(t=n)||void 0===t?void 0:t.index)||0]},_=(e,t)=>{const n=e.split("?")[1],r=o.parse(n);return t&&Object.keys(r).forEach(e=>{t[e]&&"string"==typeof r[e]&&(r[e]=t[e](r[e]))}),Object.keys(r).length?r:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(71),i=n(72);const o=e=>{const t="number"==typeof e.index?e.routes[e.index]:e.routes[e.routes.length-1];return t.state?o(t.state):t};function a(e,t){if(null==e)throw Error("Got 'undefined' for the navigation state. You must pass a valid state object.");const[n,a]=Object(i.a)(t),u=a?c(n,a.screens):{};let d="/",h=e;const f={};for(;h;){let t,i,a="number"==typeof h.index?h.index:0,c=h.routes[a],g=o(e),_=u,y=[],v=!0;for(;c.name in _&&v;){if(t=_[c.name].pattern,y.push(c.name),c.params){var p;const e=null===(p=_[c.name])||void 0===p?void 0:p.stringify,n=s(Object.entries(c.params).map(([t,n])=>[t,null!=e&&e[t]?e[t](n):String(n)]));var m;if(t&&Object.assign(f,n),g===c)i={...n},null===(m=t)||void 0===m||m.split("/").filter(e=>e.startsWith(":")).forEach(e=>{const t=l(e);i&&delete i[t]})}if(_[c.name].screens&&void 0!==c.state){a="number"==typeof c.state.index?c.state.index:c.state.routes.length-1;const e=c.state.routes[a],t=_[c.name].screens;t&&e.name in t?(c=e,_=t):v=!1}else v=!1}if(void 0===t&&(t=y.join("/")),void 0!==_[c.name]?d+=t.split("/").map(e=>{const t=l(e);if("*"===e){if(n)throw new Error("Please update your config to the new format to use wildcard pattern ('*'). https://reactnavigation.org/docs/configuring-links/#updating-config");return c.name}if(e.startsWith(":")){const n=f[t];return void 0===n&&e.endsWith("?")?"":encodeURIComponent(n)}return encodeURIComponent(e)}).join("/"):d+=encodeURIComponent(c.name),i||(i=g.params),c.state)d+="/";else if(i){for(let e in i)"undefined"===i[e]&&delete i[e];const e=r.stringify(i);e&&(d+="?".concat(e))}h=c.state}return d=d.replace(/\/+/g,"/"),d=d.length>1?d.replace(/\/$/,""):d,d}const s=e=>e.reduce((e,[t,n])=>{if(e.hasOwnProperty(t))throw new Error("A value for key '".concat(t,"' already exists in the object."));return e[t]=n,e},{}),l=e=>e.replace(/^:/,"").replace(/\?$/,""),u=(...e)=>[].concat(...e.map(e=>e.split("/"))).filter(Boolean).join("/"),c=(e,t,n)=>s(Object.entries(t).map(([t,r])=>[t,((e,t,n)=>{var r;if("string"==typeof t){return{pattern:n?u(n,t):t}}let i;if(e)i=!0!==t.exact&&n&&t.path?u(n,t.path):t.path;else{if(t.exact&&void 0===t.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");i=!0!==t.exact?u(n||"",t.path||""):t.path||""}const o=t.screens?c(e,t.screens,i):void 0;return{pattern:null===(r=i)||void 0===r?void 0:r.split("/").filter(Boolean).join("/"),stringify:t.stringify,screens:o}})(e,r,n)]))},function(e,t,n){"use strict";function r(e,t){var n,r;const o=t?i(t):{},a=null!=e.index?e.routes.slice(0,e.index+1):e.routes;if(0===a.length)return;if(!(1===a.length&&void 0===a[0].key||2===a.length&&void 0===a[0].key&&a[0].name===(null==o?void 0:o.initialRouteName)&&void 0===a[1].key))return{type:"RESET",payload:e};const s=e.routes[null!==(n=e.index)&&void 0!==n?n:e.routes.length-1];let l=null==s?void 0:s.state,u=null==o||null===(r=o.screens)||void 0===r?void 0:r[null==s?void 0:s.name],c={...s.params},d=s?{name:s.name,params:c}:void 0;for(;l;){var h,f,p;if(0===l.routes.length)return;const e=null!=l.index?l.routes.slice(0,l.index+1):l.routes,t=e[e.length-1];if(Object.assign(c,{initial:void 0,screen:void 0,params:void 0,state:void 0}),1===e.length&&void 0===e[0].key)c.initial=!0,c.screen=t.name;else{if(2!==e.length||void 0!==e[0].key||e[0].name!==(null===(h=u)||void 0===h?void 0:h.initialRouteName)||void 0!==e[1].key){c.state=l;break}c.initial=!1,c.screen=t.name}t.state?(c.params={...t.params},c=c.params):c.params=t.params,l=t.state,u=null===(f=u)||void 0===f||null===(p=f.screens)||void 0===p?void 0:p[t.name]}return d?{type:"NAVIGATE",payload:d}:void 0}n.d(t,"a",(function(){return r}));const i=e=>"object"==typeof e&&null!=e?{initialRouteName:e.initialRouteName,screens:null!=e.screens?o(e.screens):void 0}:{},o=e=>Object.entries(e).reduce((e,[t,n])=>(e[t]=i(n),e),{})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(40);function i(e){var t;r.a.value=!0;const n=e.state;r.a.value=!1;const i=e.params;return n?n.routes[null!==(t=n.index)&&void 0!==t?t:"string"==typeof n.type&&"stack"!==n.type?0:n.routes.length-1].name:"string"==typeof(null==i?void 0:i.screen)?i.screen:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(7);function o(e){const t=Object(i.useNavigation)(),n=Object(i.useRoute)();r.useEffect(()=>{let r=t;for(;r&&"tab"!==r.dangerouslyGetState().type;)r=r.dangerouslyGetParent();if(!r)return;return r.addListener("tabPress",i=>{const o=t.isFocused(),a=t===r||t.dangerouslyGetState().routes[0].key===n.key;requestAnimationFrame(()=>{const t=function(e){return null==e.current?null:"scrollToTop"in e.current||"scrollTo"in e.current||"scrollToOffset"in e.current||"scrollResponderScrollTo"in e.current?e.current:"getScrollResponder"in e.current?e.current.getScrollResponder():"getNode"in e.current?e.current.getNode():e.current}(e);o&&a&&t&&!i.defaultPrevented&&("scrollToTop"in t?t.scrollToTop():"scrollTo"in t?t.scrollTo({y:0,animated:!0}):"scrollToOffset"in t?t.scrollToOffset({offset:0,animated:!0}):"scrollResponderScrollTo"in t&&t.scrollResponderScrollTo({y:0,animated:!0}))})})},[t,e,n.key])}},function(e,t,n){"use strict";t.a={dark:!0,colors:{primary:"rgb(10, 132, 255)",background:"rgb(1, 1, 1)",card:"rgb(18, 18, 18)",text:"rgb(229, 229, 231)",border:"rgb(39, 39, 41)",notification:"rgb(255, 69, 58)"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(74);function o(){return r.useContext(i.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(1),o=n(62);function a({to:e,action:t,...n}){const a=Object(o.a)({to:e,action:t}),s=e=>{var t;"onPress"in n&&(null===(t=n.onPress)||void 0===t||t.call(n,e));a.onPress(e)};return r.createElement(i.Text,{...a,...n,...i.Platform.select({web:{onClick:s},default:{onPress:s}})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),i=n(7),o=n(35);const a=(e,t)=>{const n=e.dangerouslyGetParent();if(n){const e=n.dangerouslyGetState();return a(n,{index:0,routes:[{...e.routes[e.index],state:t}]})}return t};function s(){const e=r.useContext(i.NavigationHelpersContext),t=r.useContext(o.a);return r.useCallback((n,r)=>{const{options:o}=t;if(!1===(null==o?void 0:o.enabled))return;const s=e?a(e,{index:0,routes:[{name:n,params:r}]}):{index:0,routes:[{name:n,params:r}]};return null!=o&&o.getPathFromState?o.getPathFromState(s,null==o?void 0:o.config):Object(i.getPathFromState)(s,null==o?void 0:o.config)},[t,e])}},function(e,t,n){"use strict";var r=n(0),i=n(7),o=n(73);t.a=r.forwardRef((function({children:e,location:t},n){r.useEffect(()=>{console.error("'ServerContainer' should only be used on the server with 'react-dom/server' for SSR.")},[]);const a={};if(n){const e={getCurrentOptions:()=>a.options};"function"==typeof n?n(e):n.current=e}return r.createElement(o.a.Provider,{value:{location:t}},r.createElement(i.CurrentRenderContext.Provider,{value:a},e))}))},function(e,t){},function(e,t,n){"use strict";n.r(t),t.default=n.p+"c733a880bd6d3d1f0f38ef1608fb8a32.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"fae3c934a7353e1defbb00343509b3aa.png"},function(e,t){},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){var r=n(153),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var l=a[s].channels,u=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:l}),Object.defineProperty(a[s],"labels",{value:u})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a;return s===a?t=0:r===s?t=(i-o)/l:i===s?t=2+(o-r)/l:o===s&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,i,o,a=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(a,s,l),c=u-Math.min(a,s,l),d=function(e){return(u-e)/6/c+.5};return 0===c?i=o=0:(o=c/u,t=d(a),n=d(s),r=d(l),a===u?i=r-n:s===u?i=1/3+t-r:l===u&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,a,s=1/0;for(var l in r)if(r.hasOwnProperty(l)){var u=r[l],c=(o=e,a=u,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));c<s&&(s=c,n=l)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[u]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,l=e[0]/360,u=e[1]/100,c=e[2]/100,d=u+c;switch(d>1&&(u/=d,c/=d),r=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(r=1-r),i=u+r*((n=1-c)-u),t){default:case 6:case 0:o=n,a=i,s=u;break;case 1:o=i,a=n,s=u;break;case 2:o=u,a=n,s=i;break;case 3:o=u,a=i,s=n;break;case 4:o=i,a=u,s=n;break;case 5:o=n,a=u,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=new Date(e),n=t.getHours(),r=t.getMinutes(),i=t.getSeconds();function o(e){return(e<10?"0":"")+e}return o(n)+":"+o(r)+":"+o(i)};t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(96)),i=a(n(157)),o=a(n(158));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=(0,r.default)(e),n=t.latitude,a=t.longitude;if(Array.isArray(e)&&e.length>=2)return(0,o.default)(e[0])&&(0,i.default)(e[1]);if(void 0===n||void 0===a)return!1;var s=e[a],l=e[n];return void 0!==l&&void 0!==s&&(!1!==(0,i.default)(l)&&!1!==(0,o.default)(s))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(55)),i=s(n(56)),o=s(n(57)),a=n(10);function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t){return(0,r.default)(t)?!(parseFloat(t)>a.MAXLAT||t<a.MINLAT):!!(0,i.default)(t)&&e((0,o.default)(t))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(55)),i=s(n(56)),o=s(n(57)),a=n(10);function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t){return(0,r.default)(t)?!(parseFloat(t)>a.MAXLON||t<a.MINLON):!!(0,i.default)(t)&&e((0,o.default)(t))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(28))&&r.__esModule?r:{default:r};var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default;return n="function"==typeof n?n:i.default,t.slice().sort((function(t,r){return n(e,t)-n(e,r)}))};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e>1?1:e<-1?-1:e};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(18)),i=o(n(19));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){if(!1===Array.isArray(e)||0===e.length)throw new Error("No points were given.");return e.reduce((function(e,t){var n=(0,r.default)(t),o=(0,i.default)(t);return{maxLat:Math.max(n,e.maxLat),minLat:Math.min(n,e.minLat),maxLng:Math.max(o,e.maxLng),minLng:Math.min(o,e.minLng)}}),{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(18)),i=s(n(19)),o=s(n(23)),a=s(n(30));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=(0,o.default)((0,i.default)(t))-(0,o.default)((0,i.default)(e)),s=Math.log(Math.tan((0,o.default)((0,r.default)(t))/2+Math.PI/4)/Math.tan((0,o.default)((0,r.default)(e))/2+Math.PI/4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(2*Math.PI-n):2*Math.PI+n),((0,a.default)(Math.atan2(n,s))+360)%360};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(28)),i=o(n(160));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,n){var o=(0,r.default)(t,e),a=(0,r.default)(e,n),s=(0,r.default)(t,n),l=Math.acos((0,i.default)((o*o+s*s-a*a)/(2*o*s))),u=Math.acos((0,i.default)((a*a+s*s-o*o)/(2*a*s)));return l>Math.PI/2?o:u>Math.PI/2?a:Math.sin(l)*o};t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),i=(n(330),n(12)),o=n(24),a=n(11),s=n(70),l=n(69),u=n(4),c=n(34);function d(e){return e.children}var h=r.memo(d,(e,t)=>{const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const r of n)if("children"!==r&&e[r]!==t[r])return!1;return!0}),f=n(68);function p({screen:e,route:t,navigation:n,routeState:i,getState:a,setState:s,options:l}){const u=r.useRef(),d=r.useCallback(()=>u.current,[]),{addOptionsGetter:p}=Object(f.a)({key:t.key,options:l,navigation:n}),m=r.useCallback(e=>{u.current=e},[]),g=r.useCallback(()=>{const e=a().routes.find(e=>e.key===t.key);return e?e.state:void 0},[a,t.key]),_=r.useCallback(e=>{const n=a();s({...n,routes:n.routes.map(n=>n.key===t.key?{...n,state:e}:n)})},[a,t.key,s]),y=r.useRef(!0);r.useEffect(()=>{y.current=!1});const v=r.useCallback(()=>y.current,[]),b=r.useMemo(()=>({state:i,getState:g,setState:_,getKey:d,setKey:m,getIsInitial:v,addOptionsGetter:p}),[i,g,_,d,m,v,p]),x=e.getComponent?e.getComponent():e.component;return r.createElement(o.a.Provider,{value:b},r.createElement(c.b,null,r.createElement(h,{name:e.name,render:x||e.children,navigation:n,route:t},void 0!==x?r.createElement(x,{navigation:n,route:t}):void 0!==e.children?e.children({navigation:n,route:t}):null)))}var m=n(9);var g=n(40),_=n(15);function y({state:e,screens:t,navigation:n,screenOptions:o,onAction:s,getState:l,setState:u,addListener:c,addKeyedListener:d,onRouteFocus:h,router:f,emitter:y}){const[v,b]=r.useState({}),{onDispatchAction:x,onOptionsChange:w}=r.useContext(m.a),S=r.useMemo(()=>({navigation:n,onAction:s,addListener:c,addKeyedListener:d,onRouteFocus:h,onDispatchAction:x,onOptionsChange:w}),[n,s,c,d,h,x,w]),E=function({state:e,getState:t,navigation:n,setOptions:o,router:a,emitter:s}){const l=r.useMemo(()=>({current:{}}),[t,n,o,a,s]),u={...a.actionCreators,...i.CommonActions};return l.current=e.routes.reduce((e,r)=>{const i=l.current[r.key];if(i)e[r.key]=i;else{const{emit:i,...a}=n,l=e=>{const i="function"==typeof e?e(t()):e;n.dispatch("object"==typeof i&&null!=i?{source:r.key,...i}:i)},c=Object.keys(u).reduce((e,t)=>(e[t]=(...e)=>l(u[t](...e)),e),{});e[r.key]={...a,...c,...s.create(r.key),dispatch:l,setOptions:e=>o(t=>({...t,[r.key]:{...t[r.key],...e}})),isFocused:()=>{const e=t();return e.routes[e.index].key===r.key&&(!n||n.isFocused())}}}return e},{}),l.current}({state:e,getState:l,navigation:n,setOptions:b,router:f,emitter:y});return Object(g.b)(e.routes).reduce((n,i,s)=>{const c=t[i.name],d=E[i.key],h={..."object"==typeof o||null==o?o:o({route:i,navigation:d}),..."object"==typeof c.options||null==c.options?c.options:c.options({route:i,navigation:d}),...v[i.key]};return n[i.key]={navigation:d,render:()=>r.createElement(m.a.Provider,{key:i.key,value:S},r.createElement(_.a.Provider,{value:d},r.createElement(a.a.Provider,{value:i},r.createElement(p,{navigation:d,route:i,screen:c,routeState:e.routes[s].state,getState:l,setState:u,options:h})))),options:h},n},{})}var v=n(64),b=n(32);b.a;const x=Symbol("VISITED_ROUTE_KEYS"),w=(e,t,n,r,i)=>{var o;const a=r.map(e=>e.key),s=n.filter(e=>!a.includes(e.key)).reverse(),l=null!==(o=i[x])&&void 0!==o?o:new Set,u={...i,[x]:l};for(const n of s){var c;if(l.has(n.key))continue;if(null===(c=t[n.key])||void 0===c?void 0:c.call(t,u))return!0;l.add(n.key);if(e.emit({type:"beforeRemove",target:n.key,data:{action:u},canPreventDefault:!0}).defaultPrevented)return!0}return!1};function S({router:e,getState:t,setState:n,key:i,actionListeners:o,beforeRemoveListeners:s,routerConfigOptions:l,emitter:u}){const{onAction:c,onRouteFocus:d,addListener:h,onDispatchAction:f}=r.useContext(m.a),p=r.useRef(l);r.useEffect(()=>{p.current=l});const g=r.useCallback((r,a=new Set)=>{const l=t();if(a.has(l.key))return!1;if(a.add(l.key),"string"!=typeof r.target||r.target===l.key){let t=e.getStateForAction(l,r,p.current);if(t=null===t&&r.target===l.key?l:t,null!==t){if(f(r,l===t),l!==t){if(w(u,s,l.routes,t.routes,r))return!0;n(t)}if(void 0!==d){e.shouldActionChangeFocus(r)&&void 0!==i&&d(i)}return!0}}if(void 0!==c&&c(r,a))return!0;for(let e=o.length-1;e>=0;e--){if((0,o[e])(r,a))return!0}return!1},[o,s,u,t,i,c,f,d,e,n]);return function({getState:e,emitter:t,beforeRemoveListeners:n}){const{addKeyedListener:i}=r.useContext(m.a),o=r.useContext(a.a),s=null==o?void 0:o.key;r.useEffect(()=>{if(s)return null==i?void 0:i("beforeRemove",s,r=>{const i=e();return w(t,n,i.routes,[],r)})},[i,n,t,e,s])}({getState:t,emitter:u,beforeRemoveListeners:s}),r.useEffect(()=>null==h?void 0:h("action",g),[h,g]),g}var E=n(66);var T=n(67);function k(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}var C=n(65),P=n(58);b.a;const R=e=>r.Children.toArray(e).reduce((e,t)=>{var n,i;if(r.isValidElement(t)){if(t.type===s.a)return e.push(t.props),e;if(t.type===r.Fragment)return e.push(...R(t.props.children)),e}throw new Error("A navigator can only contain 'Screen' components as its direct children (found ".concat(r.isValidElement(t)?"'".concat("string"==typeof t.type?t.type:null===(n=t.type)||void 0===n?void 0:n.name,"'").concat(null!==(i=t.props)&&void 0!==i&&i.name?" for the screen '".concat(t.props.name,"'"):""):"object"==typeof t?JSON.stringify(t):"'".concat(String(t),"'"),"). To render this component in the navigator, pass it in the 'component' prop to 'Screen'."))},[]);function O(e,t){const n=function(){const[e]=r.useState(()=>Object(u.a)()),t=r.useContext(c.a);if(void 0===t)throw new Error("Couldn't register the navigator. Have you wrapped your app with 'NavigationContainer'?");return r.useEffect(()=>{const{register:n,unregister:r}=t;return n(e),()=>r(e)},[t,e]),e}(),s=r.useContext(a.a),{children:d,...h}=t,{current:f}=r.useRef(e({...h,...null!=s&&s.params&&null==s.params.state&&!1!==s.params.initial&&"string"==typeof s.params.screen?{initialRouteName:s.params.screen}:null})),p=R(d),g=p.reduce((e,t)=>{if(t.name in e)throw new Error("A navigator cannot contain multiple 'Screen' components with the same name (found duplicate screen named '".concat(t.name,"')"));return e[t.name]=t,e},{}),b=p.map(e=>e.name),x=b.reduce((e,t)=>{var n,r,i;const{initialParams:o}=g[t],a=null==(null==s||null===(n=s.params)||void 0===n?void 0:n.state)&&!1!==(null==s||null===(r=s.params)||void 0===r?void 0:r.initial)&&(null==s||null===(i=s.params)||void 0===i?void 0:i.screen)===t?s.params.params:void 0;return e[t]=void 0!==o||void 0!==a?{...o,...a}:void 0,e},{}),w=b.reduce((e,t)=>Object.assign(e,{[t]:g[t].getId}),{});if(!b.length)throw new Error("Couldn't find any screens for the navigator. Have you defined any screens as its children?");const O=r.useCallback(e=>void 0===e.type||e.type===f.type,[f.type]),M=r.useCallback(e=>void 0!==e&&!1===e.stale&&O(e),[O]),{state:A,getState:I,setState:D,setKey:L,getKey:z,getIsInitial:N}=r.useContext(o.a),[F,B]=r.useMemo(()=>{var e,t,n;return void 0!==A&&O(A)||null!=(null==s||null===(e=s.params)||void 0===e?void 0:e.state)?[f.getRehydratedState(null!==(t=null==s||null===(n=s.params)||void 0===n?void 0:n.state)&&void 0!==t?t:A,{routeNames:b,routeParamList:x,routeGetIdList:w}),!1]:[f.getInitialState({routeNames:b,routeParamList:x,routeGetIdList:w}),!0]},[A,f,O]);let j=M(A)?A:F,V=j;k(j.routeNames,b)||(V=f.getStateForRouteNamesChange(j,{routeNames:b,routeParamList:x,routeGetIdList:w}));const U=r.useRef(null==s?void 0:s.params);if(r.useEffect(()=>{U.current=null==s?void 0:s.params},[null==s?void 0:s.params]),null!=s&&s.params){const e=U.current;let t;"object"==typeof s.params.state&&null!=s.params.state&&s.params.state!==(null==e?void 0:e.state)?t=i.CommonActions.reset(s.params.state):"string"==typeof s.params.screen&&(!1===s.params.initial&&B||s.params!==e)&&(t=i.CommonActions.navigate(s.params.screen,s.params.params));const n=t?f.getStateForAction(V,t,{routeNames:b,routeParamList:x,routeGetIdList:w}):null;V=null!==n?f.getRehydratedState(n,{routeNames:b,routeParamList:x,routeGetIdList:w}):V}const W=j!==V;Object(C.b)(()=>{W&&D(V)}),j=V,r.useEffect(()=>(L(n),N()||D(V),()=>{setTimeout(()=>{void 0!==I()&&z()===n&&D(void 0)},0)}),[]);const G=r.useRef();G.current=F;const H=r.useCallback(()=>{const e=I();return M(e)?e:G.current},[I,M]),q=Object(l.a)(e=>{let t,n=[];var r;e.target?(t=j.routes.find(t=>t.key===e.target),null!==(r=t)&&void 0!==r&&r.name&&n.push(t.name)):(t=j.routes[j.index],n.push(...Object.keys(g).filter(e=>{var n;return(null===(n=t)||void 0===n?void 0:n.name)===e})));if(null==t)return;const i=ee[t.key].navigation;[].concat(...n.map(n=>{const{listeners:r}=g[n],o="function"==typeof r?r({route:t,navigation:i}):r;return o?Object.keys(o).filter(t=>t===e.type).map(e=>null==o?void 0:o[e]):void 0})).filter((e,t,n)=>e&&n.lastIndexOf(e)===t).forEach(t=>null==t?void 0:t(e))});!function({state:e,emitter:t}){const n=r.useContext(_.a),i=r.useRef(),o=e.routes[e.index].key;r.useEffect(()=>null==n?void 0:n.addListener("focus",()=>{i.current=o,t.emit({type:"focus",target:o})}),[o,t,n]),r.useEffect(()=>null==n?void 0:n.addListener("blur",()=>{i.current=void 0,t.emit({type:"blur",target:o})}),[o,t,n]),r.useEffect(()=>{const e=i.current;i.current=o,void 0!==e||n||t.emit({type:"focus",target:o}),e===o||n&&!n.isFocused()||void 0!==e&&(t.emit({type:"blur",target:e}),t.emit({type:"focus",target:o}))},[o,t,n])}({state:j,emitter:q}),r.useEffect(()=>{q.emit({type:"state",data:{state:j}})},[q,j]);const{listeners:$,addListener:Z}=Object(E.a)(),{keyedListeners:K,addKeyedListener:X}=Object(T.a)(),Y=S({router:f,getState:H,setState:D,key:null==s?void 0:s.key,actionListeners:$.action,beforeRemoveListeners:K.beforeRemove,routerConfigOptions:{routeNames:b,routeParamList:x,routeGetIdList:w},emitter:q}),Q=function({router:e,getState:t,key:n,setState:i}){const{onRouteFocus:o}=r.useContext(m.a);return r.useCallback(r=>{const a=t(),s=e.getStateForRouteFocus(a,r);s!==a&&i(s),void 0!==o&&void 0!==n&&o(n)},[t,o,e,i,n])}({router:f,key:null==s?void 0:s.key,getState:H,setState:D}),J=function({onAction:e,getState:t,emitter:n,router:o}){const a=r.useContext(v.a),s=r.useContext(_.a);return r.useMemo(()=>{const r=n=>{const r="function"==typeof n?n(t()):n;e(r)||null==a||a(r)},l={...o.actionCreators,...i.CommonActions},u=Object.keys(l).reduce((e,t)=>(e[t]=(...e)=>r(l[t](...e)),e),{});return{...s,...u,dispatch:r,emit:n.emit,isFocused:s?s.isFocused:()=>!0,canGoBack:()=>{const e=t();return null!==o.getStateForAction(e,i.CommonActions.goBack(),{routeNames:e.routeNames,routeParamList:{},routeGetIdList:{}})||(null==s?void 0:s.canGoBack())||!1},dangerouslyGetParent:()=>s,dangerouslyGetState:t}},[n.emit,t,e,a,s,o])}({onAction:Y,getState:H,emitter:q,router:f});!function({navigation:e,focusedListeners:t}){const{addListener:n}=r.useContext(m.a),i=r.useCallback(n=>{if(e.isFocused()){for(const e of t){const{handled:t,result:r}=e(n);if(t)return{handled:t,result:r}}return{handled:!0,result:n(e)}}return{handled:!1,result:null}},[t,e]);r.useEffect(()=>null==n?void 0:n("focus",i),[n,i])}({navigation:J,focusedListeners:$.focus}),function({getState:e,getStateListeners:t}){const{addKeyedListener:n}=r.useContext(m.a),i=r.useContext(a.a),o=i?i.key:"root",s=r.useCallback(()=>{const n=e(),r=n.routes.map(e=>{var n;const r=null===(n=t[e.key])||void 0===n?void 0:n.call(t);return e.state===r?e:{...e,state:r}});return k(n.routes,r)?n:{...n,routes:r}},[e,t]);r.useEffect(()=>null==n?void 0:n("getState",o,s),[n,s,o])}({getState:H,getStateListeners:K.getState});const ee=y({state:j,screens:g,navigation:J,screenOptions:t.screenOptions,onAction:Y,getState:H,setState:D,onRouteFocus:Q,addListener:Z,addKeyedListener:X,router:f,emitter:q});return function({state:e,navigation:t,descriptors:n}){const i=r.useContext(P.a);i&&t.isFocused()&&(i.options=n[e.routes[e.index].key].options)}({state:j,navigation:J,descriptors:ee}),{state:j,navigation:J,descriptors:ee}}},function(e,t,n){"use strict";var r=n(0),i=n(7),o=n(61),a=n(33),s=n(35);function l(e){const[t]=r.useState(e);let n=[!1,void 0];t.then(e=>{n=[!0,e]});const[i,o]=r.useState(n),[a]=i;return r.useEffect(()=>{let e=!1;return a||(async()=>{let n;try{n=await t}finally{e||o([!0,n])}})(),()=>{e=!0}},[t,a]),i}var u=n(60);var c=n(59);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const h=r.forwardRef((function({theme:e=a.a,linking:t,fallback:n=null,documentTitle:h,onReady:f,...p},m){const g=!!t&&!1!==t.enabled,_=r.useRef(null);Object(c.a)(_),function(e,{enabled:t=!0,formatter:n=((e,t)=>{var n;return null!==(n=null==e?void 0:e.title)&&void 0!==n?n:null==t?void 0:t.name})}={}){r.useEffect(()=>{if(!t)return;const r=e.current;if(r){const e=n(r.getCurrentOptions(),r.getCurrentRoute());document.title=e}return null==r?void 0:r.addListener("options",e=>{const t=n(e.data.options,null==r?void 0:r.getCurrentRoute());document.title=t})})}(_,h);const{getInitialState:y}=Object(u.a)(_,{enabled:g,prefixes:[],...t}),[v,b]=l(y);r.useImperativeHandle(m,()=>_.current);const x=r.useMemo(()=>({options:t}),[t]),w=null!=p.initialState||!g||v,S=r.useRef(f);return r.useEffect(()=>{S.current=f}),r.useEffect(()=>{var e;w&&(null===(e=S.current)||void 0===e||e.call(S))},[w]),w?r.createElement(s.a.Provider,{value:x},r.createElement(o.a,{value:e},r.createElement(i.BaseNavigationContainer,d({},p,{initialState:null==p.initialState?b:p.initialState,ref:_})))):n}));t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);const i={};function o(e){const t=r.useRef(i),n=r.useRef(!1),o=r.useRef(!0);r.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]),t.current===i&&(t.current="function"==typeof e?e():e);const[a,s]=r.useState(t.current),l=r.useCallback(()=>t.current,[]),u=r.useCallback(e=>{e!==t.current&&o.current&&(t.current=e,n.current||s(e))},[]),c=r.useCallback(e=>{n.current=!0;try{e()}finally{n.current=!1}},[]),d=r.useCallback(()=>{o.current&&s(t.current)},[]);a!==t.current&&s(t.current);const h=t.current;return r.useDebugValue(h),[h,l,u,c,d]}},function(e,t,n){"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},function(e,t,n){"use strict";var r=n(337),i=n(340),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var l={};function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=r.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,c=i[this.model].channels,this.color=d.value.slice(0,c),this.valpha="number"==typeof d.value[c]?d.value[c]:1}else if(e.length){this.model=t||"rgb",c=i[this.model].channels;var h=o.call(e,0,c);this.color=f(h,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=p.sort().join("");if(!(m in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[m];var g=i[this.model].labels,_=[];for(n=0;n<g.length;n++)_.push(e[g[n]]);this.color=f(_)}if(l[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var y=l[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(l[e]||(l[e]=[]))[t]=n})),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e){return Array.isArray(e)?e:[e]}function f(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(100)),y:c("xyz",1,d(100)),z:c("xyz",2,d(100)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new u(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return u.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return u.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new u(h(i[this.model][e].raw(this.color)).concat(n),e)},u[e]=function(n){return"number"==typeof n&&(n=f(o.call(arguments),t)),new u(n,e)}}})),e.exports=u},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){var r=n(41),i=n(1),o=r(n(327)),a=n(381);r(n(382));i.AppRegistry.registerComponent(a.name,(function(){return o.default})),i.AppRegistry.runApplication(a.name,{rootTag:document.getElementById("root")})},,function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={button:!0,menuitem:!0};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(97))&&r.__esModule?r:{default:r};var o={article:"article",banner:"header",blockquote:"blockquote",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",link:"a",list:"ul",listitem:"li",main:"main",navigation:"nav",region:"section",strong:"strong"},a={},s=function(e){if(void 0===e&&(e=a),"label"===e.accessibilityRole)return"label";if(null!=e.href)return"a";var t=(0,i.default)(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return o[t]}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e,t,n,m={css:{},ltr:{},rtl:{},rtlNoSwap:{}},y=function(){e={css:{},ltr:{},rtl:{},rtlNoSwap:{}},t=(0,a.default)((0,i.default)(p.STYLE_ELEMENT_ID)),n={},(0,f.default)((function(e){return t.insert(e,p.STYLE_GROUPS.modality)})),h.default.forEach((function(e){t.insert(e,p.STYLE_GROUPS.reset)}))};function v(r){var i=u.default.getConstants(),a=i.doLeftAndRightSwapInRTL,s=i.isRTL?a?"rtl":"rtlNoSwap":"ltr";if(!e[s][r]){var h=(0,o.default)((0,c.default)((0,l.default)(r))),f=(0,d.atomic)(h);Object.keys(f).forEach((function(e){var r=f[e],i=r.identifier,o=r.property,a=r.rules,s=r.value;!function(e,t,r){n[t]||(n[t]={}),n[t][r]=e}(i,o,s),a.forEach((function(e){var n=p.STYLE_GROUPS.custom[o]||p.STYLE_GROUPS.atomic;t.insert(e,n)}))})),e[s][r]=!0}}function b(e,r){var i=u.default.getConstants(),a=i.doLeftAndRightSwapInRTL,s=i.isRTL?a?"rtl":"rtlNoSwap":"ltr";if(null!=r&&null!=m[s][r])return m[s][r];var h=(0,l.default)(e),f=(0,o.default)((0,c.default)(h)),g=Object.keys(f).sort().reduce((function(e,r){var i=f[r];if(null!=i){var o=function(e,t){var r=(0,d.stringifyValueWithProperty)(t,e);return n[e]&&n[e].hasOwnProperty(r)&&n[e][r]}(r,i);if(o)e.classList.push(o);else if("animationKeyframes"===r||"placeholderTextColor"===r||"pointerEvents"===r||"scrollbarWidth"===r){var a,s=(0,d.atomic)(((a={})[r]=i,a));Object.keys(s).forEach((function(n){var r=s[n],i=r.identifier,o=r.rules;e.classList.push(i),o.forEach((function(e){t.insert(e,p.STYLE_GROUPS.atomic)}))}))}else e.style||(e.style={}),e.style[r]=i}return e}),{classList:[]});return g.style&&(g.style=(0,d.inline)(g.style)),null!=r&&(m[s][r]=g),g}return y(),{getStyleSheet:function(){var e=t.getTextContent();return r.canUseDOM||y(),{id:p.STYLE_ELEMENT_ID,textContent:e}},createCSS:function(e,t){var n={};return Object.keys(e).forEach((function(r){var i=e[r],o=(0,d.classic)(i,r);Object.keys(o).forEach((function(e){var i=o[e],a=i.identifier,s=i.rules;m.css[a]={group:t||p.STYLE_GROUPS.classic,rules:s},n[r]=a}))})),n},resolve:function(n,r){var i=[],o={};if(!n&&!r)return o;Array.isArray(r)&&(0,s.default)(r).forEach((function(n){if(n){if(null==e.css[n]&&null!=m.css[n]){var r=m.css[n];r.rules.forEach((function(e){t.insert(e,r.group)})),e.css[n]=!0}i.push(n)}}));if("number"==typeof n){v(n);var a=g(n);o=b(n,a)}else if(Array.isArray(n)){for(var l=(0,s.default)(n),u=!0,c="",d=0;d<l.length;d++){var h=l[d];"number"!=typeof h?u=!1:(u&&(c+=h+"-"),v(h))}var f=u?g(c):null;o=b(l,f)}else o=b(n);i.push.apply(i,o.classList);var p={className:_(i),classList:i};o.style&&(p.style=o.style);return p},get sheet(){return t}}};var r=n(6),i=m(n(176)),o=m(n(177)),a=m(n(179)),s=m(n(180)),l=m(n(103)),u=m(n(78)),c=m(n(181)),d=n(182),h=m(n(207)),f=m(n(208)),p=n(79);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){return"rn-"+e},_=function(e){return e.join(" ").trim()};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if(r.canUseDOM){var t=document.getElementById(e);if(null!=t)return t.sheet;var n=document.createElement("style");n.setAttribute("id",e);var i=document.head;return i&&i.insertBefore(n,i.firstChild),n.sheet}return null};var r=n(6);e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(42)),i=o(n(102));function o(e){return e&&e.__esModule?e:{default:e}}var a={height:0,width:0};var s=function(e){var t,n,o,s,l=e.shadowColor,u=e.shadowOffset,c=e.shadowOpacity,d=e.shadowRadius,h=e.textShadowColor,f=e.textShadowOffset,p=e.textShadowRadius,m=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["shadowColor","shadowOffset","shadowOpacity","shadowRadius","textShadowColor","textShadowOffset","textShadowRadius"]);return null==l&&null==u&&null==c&&null==d||(t=m,o=(n=e).boxShadow,null!=(s=(0,i.default)(n))&&(t.boxShadow=o?o+", "+s:s)),null==h&&null==f&&null==p||function(e,t){var n=t.textShadowColor,i=t.textShadowOffset,o=t.textShadowRadius,s=i||a,l=s.height,u=s.width,c=o||0,d=(0,r.default)(u),h=(0,r.default)(l),f=(0,r.default)(c),p=(0,r.default)(n,"textShadowColor");!p||0===l&&0===u&&0===c||null==d||null==h||null==f||(e.textShadow=d+" "+h+" "+f+" "+p)}(m,e),m};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(")};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t,n={},o={};null!=e&&r.call(e.cssRules).forEach((function(e,r){var i=e.cssText;if(i.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(/["']/)[1])}(e),n[t]={start:r,rules:[i]};else{var s=a(i);null!=s&&(o[s]=!0,n[t].rules.push(i))}}));function s(e,t,r){var o=i(n),a=o.indexOf(t)+1,s=o[a],l=null!=s&&null!=n[s].start?n[s].start:e.cssRules.length,u=function(e,t,n){try{return e.insertRule(t,n),!0}catch(e){return!1}}(e,r,l);if(u){null==n[t].start&&(n[t].start=l);for(var c=a;c<o.length;c+=1){var d=o[c],h=n[d].start;n[d].start=h+1}}return u}return{getTextContent:function(){return i(n).map((function(e){return n[e].rules.join("\n")})).join("\n")},insert:function(t,r){var i=Number(r);if(null==n[i]){var l=function(e){return'[stylesheet-group="'+e+'"]{}'}(i);n[i]={start:null,rules:[l]},null!=e&&s(e,i,l)}var u=a(t);null!=u&&null==o[u]&&(o[u]=!0,n[i].rules.push(t),null!=e&&(s(e,i,t)||n[i].rules.pop()))}}};var r=Array.prototype.slice;function i(e){return Object.keys(e).map(Number).sort((function(e,t){return e>t?1:-1}))}var o=/\s*([,])\s*/g;function a(e){var t=e.split("{")[0].trim();return""!==t?t.replace(o,"$1"):null}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?e(i,n):null!=i&&!1!==i&&n.push(i)}return n}(e,[])};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(78)),i=o(n(105));function o(e){return e&&e.__esModule?e:{default:e}}var a={},s={borderTopLeftRadius:"borderTopRightRadius",borderTopRightRadius:"borderTopLeftRadius",borderBottomLeftRadius:"borderBottomRightRadius",borderBottomRightRadius:"borderBottomLeftRadius",borderLeftColor:"borderRightColor",borderLeftStyle:"borderRightStyle",borderLeftWidth:"borderRightWidth",borderRightColor:"borderLeftColor",borderRightStyle:"borderLeftStyle",borderRightWidth:"borderLeftWidth",left:"right",marginLeft:"marginRight",marginRight:"marginLeft",paddingLeft:"paddingRight",paddingRight:"paddingLeft",right:"left"},l={borderTopStartRadius:"borderTopLeftRadius",borderTopEndRadius:"borderTopRightRadius",borderBottomStartRadius:"borderBottomLeftRadius",borderBottomEndRadius:"borderBottomRightRadius",borderStartColor:"borderLeftColor",borderStartStyle:"borderLeftStyle",borderStartWidth:"borderLeftWidth",borderEndColor:"borderRightColor",borderEndStyle:"borderRightStyle",borderEndWidth:"borderRightWidth",end:"right",marginStart:"marginLeft",marginEnd:"marginRight",paddingStart:"paddingLeft",paddingEnd:"paddingRight",start:"left"},u={clear:!0,float:!0,textAlign:!0},c=function(e){return(0,i.default)(e,-1)},d=function(e){var t=r.default.getConstants(),n=t.doLeftAndRightSwapInRTL,i=t.isRTL,o=e||a,d={},h={};for(var f in o)if(Object.prototype.hasOwnProperty.call(o,f)){var p=o[f],m=f,g=p;if(l.hasOwnProperty(f)){var _=l[f];m=i?s[_]:_}else i&&n&&s[f]&&(m=s[f]);if(u.hasOwnProperty(f)&&("start"===p?g=i?"right":"left":"end"===p?g=i?"left":"right":i&&n&&("left"===p?g="right":"right"===p&&(g="left"))),"transitionProperty"===m)if(l.hasOwnProperty(g)){var y=l[p];g=i?s[y]:y}else if(i&&n){var v=s[p];null!=v&&(g=v)}if(i&&"textShadowOffset"===m){var b=c(g.width);g.width=b,h[m]=g}else d[m]||(h[m]=g);l[f]&&(d[m]=!0)}return h};t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.atomic=function(e){return Object.keys(e).sort().reduce((function(t,n){var r=e[n];if(null!=r){var i=p(r,n),o=f.get(n,i);if(null!=o){t[o.identifier]=o}else{var a=g("r",n,r),s=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var o=_(n),a=o.animationNames,s=o.rules,l=m({animationName:a.join(",")});r.push.apply(r,[""+i+l].concat(s));break;case"placeholderTextColor":var u=m({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+u,i+"::-moz-placeholder"+u,i+":-ms-input-placeholder"+u,i+"::placeholder"+u);break;case"pointerEvents":var c,d=n;if("auto"===n||"box-only"===n){if(d="auto!important","box-only"===n){var h,f=m(((h={})[t]="none",h));r.push(i+">*"+f)}}else if(("none"===n||"box-none"===n)&&(d="none!important","box-none"===n)){var p,g=m(((p={})[t]="auto",p));r.push(i+">*"+g)}var y=m(((c={})[t]=d,c));r.push(""+i+y);break;case"scrollbarWidth":var v;"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var b=m(((v={})[t]=n,v));r.push(""+i+b);break;default:var x,w=m(((x={})[t]=n,x));r.push(""+i+w)}return r}(a,n,r),l=f.set(n,i,{property:n,value:p(r,n),identifier:a,rules:s});t[a]=l}}return t}),{})},t.classic=function(e,t){var n,r,i=g("css",t,e),o=e.animationKeyframes,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["animationKeyframes"]),s=[],l="."+i;if(null!=o){var u=_(o),c=u.animationNames,h=u.rules;r=c.join(","),s.push.apply(s,h)}var f=m(d(d({},a),{},{animationName:r}));return s.push(""+l+f),(n={})[i]={identifier:i,rules:s},n},t.inline=function(e){return(0,s.prefixInlineStyles)((0,r.default)(e))},t.stringifyValueWithProperty=p;var r=u(n(183)),i=u(n(184)),o=u(n(106)),a=u(n(42)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(185));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={get:function(e,t){if(null!=f[e]&&f[e].hasOwnProperty(t)&&null!=f[e][t])return f[e][t]},set:function(e,t,n){return null==f[e]&&(f[e]={}),f[e][t]=n}};function p(e,t){var n=(0,a.default)(e,t);return"string"!=typeof n?JSON.stringify(n||""):n}function m(e){var t=(0,s.default)((0,r.default)(e));return"{"+Object.keys(t).map((function(e){var n=t[e],r=(0,o.default)(e);return Array.isArray(n)?n.map((function(e){return r+":"+e})).join(";"):r+":"+n})).sort().join(";")+";}"}function g(e,t,n){return e+"-"+(0,i.default)(t+p(n,t))}function _(e){if("number"==typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((function(e){if("string"==typeof e)t.push(e);else{var r=function(e){var t=g("r","animation",e),n="{"+Object.keys(e).map((function(t){return""+t+m(e[t])})).join("")+"}",r=["-webkit-",""].map((function(e){return"@"+e+"keyframes "+t+n}));return{identifier:t,rules:r}}(e),i=r.identifier,o=r.rules;t.push(i),n.push.apply(n,o)}})),{animationNames:t,rules:n}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=n(6),o=n(79),a=(r=n(42))&&r.__esModule?r:{default:r};var s={},l=!i.canUseDOM||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),u=function(e){var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+(0,a.default)(n,t)+")"},c=function(e){if(!e)return s;var t={};return Object.keys(e).sort().forEach((function(n){var r=(0,a.default)(e[n],n);if(null!=r)switch(n){case"elevation":case"overlayColor":case"resizeMode":case"tintColor":break;case"backgroundClip":"text"===r&&(t.backgroundClip=r,t.WebkitBackgroundClip=r);break;case"flex":-1===r?(t.flexGrow=0,t.flexShrink=1,t.flexBasis="auto"):t.flex=r;break;case"font":t[n]=r.replace("System",o.SYSTEM_FONT_STACK);break;case"fontFamily":if(r.indexOf("System")>-1){var i=r.split(/,\s*/);i[i.indexOf("System")]=o.SYSTEM_FONT_STACK,t[n]=i.join(",")}else t[n]="monospace"===r?o.MONOSPACE_FONT_STACK:r;break;case"fontVariant":Array.isArray(r)&&r.length>0&&(t.fontVariant=r.join(" "));break;case"textAlignVertical":t.verticalAlign="center"===r?"middle":r;break;case"textDecorationLine":l?t.textDecorationLine=r:t.textDecoration=r;break;case"transform":case"transformMatrix":!function(e,t){var n=t.transform;Array.isArray(t.transform)&&(n=t.transform.map(u).join(" ")),e.transform=n}(t,e);break;case"writingDirection":t.direction=r;break;default:var s=o.STYLE_SHORT_FORM_EXPANSIONS[n];s?s.forEach((function(n,i){void 0===e[n]&&(t[n]=r)})):t[n]=Array.isArray(r)?r.join(","):r}})),t};t.default=c,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36)};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.prefixInlineStyles=t.default=void 0;var r=o(n(186)),i=o(n(191));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)(i.default),s=a;t.default=s;t.prefixInlineStyles=function(e){var t=a(e);return Object.keys(t).forEach((function(e){var n=t[e];Array.isArray(n)&&(t[e]=n[n.length-1])})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var l in s){var u=s[l];if((0,a.default)(u))s[l]=e(u);else if(Array.isArray(u)){for(var c=[],d=0,h=u.length;d<h;++d){var f=(0,i.default)(n,l,u[d],s,t);(0,o.default)(c,f||u[d])}c.length>0&&(s[l]=c)}else{var p=(0,i.default)(n,l,u,s,t);p&&(s[l]=p),s=(0,r.default)(t,l,s)}}return s}};var r=s(n(187)),i=s(n(188)),o=s(n(189)),a=s(n(190));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var r={},i=e[t],a=(0,o.default)(t),s=Object.keys(n),l=0;l<s.length;l++){var u=s[l];if(u===t)for(var c=0;c<i.length;c++)r[i[c]+a]=n[t];r[u]=n[u]}return r}return n};var r,i=n(107),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,n,r,i);if(s)return s}}},function(e,t,n){"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)r(e,t[n]);else r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=_(n(192)),i=_(n(193)),o=_(n(194)),a=_(n(195)),s=_(n(196)),l=_(n(197)),u=_(n(198)),c=_(n(199)),d=_(n(200)),h=_(n(201)),f=_(n(202)),p=_(n(203)),m=_(n(204)),g=_(n(205));function _(e){return e&&e.__esModule?e:{default:e}}var y=["Webkit"],v=["Moz"],b=["ms"],x=["Webkit","Moz"],w=["Webkit","ms"],S=["Webkit","Moz","ms"],E={plugins:[r.default,i.default,o.default,a.default,s.default,l.default,u.default,c.default,d.default,h.default,f.default,p.default,m.default,g.default],prefixMap:{animation:y,animationDelay:y,animationDirection:y,animationFillMode:y,animationDuration:y,animationIterationCount:y,animationName:y,animationPlayState:y,animationTimingFunction:y,appearance:x,userSelect:S,textEmphasisPosition:y,textEmphasis:y,textEmphasisStyle:y,textEmphasisColor:y,boxDecorationBreak:y,clipPath:y,maskImage:y,maskMode:y,maskRepeat:y,maskPosition:y,maskClip:y,maskOrigin:y,maskSize:y,maskComposite:y,mask:y,maskBorderSource:y,maskBorderMode:y,maskBorderSlice:y,maskBorderWidth:y,maskBorderOutset:y,maskBorderRepeat:y,maskBorder:y,maskType:y,textDecorationStyle:y,textDecorationSkip:y,textDecorationLine:y,textDecorationColor:y,filter:y,fontFeatureSettings:y,breakAfter:S,breakBefore:S,breakInside:S,columnCount:x,columnFill:x,columnGap:x,columnRule:x,columnRuleColor:x,columnRuleStyle:x,columnRuleWidth:x,columns:x,columnSpan:x,columnWidth:x,writingMode:w,flex:w,flexBasis:y,flexDirection:w,flexGrow:y,flexFlow:w,flexShrink:y,flexWrap:w,alignContent:y,alignItems:y,alignSelf:y,justifyContent:y,order:y,transform:y,transformOrigin:y,transformOriginX:y,transformOriginY:y,backfaceVisibility:y,perspective:y,perspectiveOrigin:y,transformStyle:y,transformOriginZ:y,backdropFilter:y,fontKerning:y,scrollSnapType:w,scrollSnapPointsX:w,scrollSnapPointsY:w,scrollSnapDestination:w,scrollSnapCoordinate:w,shapeImageThreshold:y,shapeImageMargin:y,shapeImageOutside:y,hyphens:S,flowInto:w,flowFrom:w,regionFragment:w,textOrientation:y,textAlignLast:v,tabSize:v,wrapFlow:b,wrapThrough:b,wrapMargin:b,touchAction:b,textSizeAdjust:["ms","Webkit"],borderImage:y,borderImageOutset:y,borderImageRepeat:y,borderImageSlice:y,borderImageSource:y,borderImageWidth:y,transitionDelay:y,transitionDuration:y,transitionProperty:y,transitionTimingFunction:y}};t.default=E,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&"text"===t)return["-webkit-text","text"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("cross-fade(")>-1)return a.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,i=n(37),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&i.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("filter(")>-1)return a.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,i=n(37),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){Object.prototype.hasOwnProperty.call(i,e)&&(n[i[e]]=r[t]||t);if("flex"===e){if(Object.prototype.hasOwnProperty.call(o,t))return void(n.msFlex=o[t]);if(a.test(t))return void(n.msFlex=t+" 1 0%");var s=t.split(/\s/);switch(s.length){case 1:return void(n.msFlex="1 1 "+t);case 2:return void(a.test(s[1])?n.msFlex=s[0]+" "+s[1]+" 0%":n.msFlex=s[0]+" 1 "+s[1]);default:n.msFlex=t}}};var r={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},i={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"},o={auto:"1 1 auto",inherit:"inherit",initial:"0 1 auto",none:"0 0 auto",unset:"unset"},a=/^\d+(\.\d+)?$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,o.default)(t)&&s.test(t))return a.map((function(e){return t.replace(s,(function(t){return e+t}))}))};var r,i=n(37),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function i(e){return"number"==typeof e&&!isNaN(e)}function o(e){return"string"==typeof e&&e.includes("/")}t.default=function(e,t,n){if("display"===e&&t in s)return s[t];if(e in l){(0,l[e])(t,n)}};var a=["center","end","start","stretch"],s={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},l={alignSelf:function(e,t){a.indexOf(e)>-1&&(t.msGridRowAlign=e)},gridColumn:function(e,t){if(i(e))t.msGridColumn=e;else if(o(e)){var n=e.split("/"),a=r(n,2),s=a[0],u=a[1];l.gridColumnStart(+s,t);var c=u.split(/ ?span /),d=r(c,2),h=d[0],f=d[1];""===h?l.gridColumnEnd(+s+ +f,t):l.gridColumnEnd(+u,t)}else l.gridColumnStart(e,t)},gridColumnEnd:function(e,t){var n=t.msGridColumn;i(e)&&i(n)&&(t.msGridColumnSpan=e-n)},gridColumnStart:function(e,t){i(e)&&(t.msGridColumn=e)},gridRow:function(e,t){if(i(e))t.msGridRow=e;else if(o(e)){var n=e.split("/"),a=r(n,2),s=a[0],u=a[1];l.gridRowStart(+s,t);var c=u.split(/ ?span /),d=r(c,2),h=d[0],f=d[1];""===h?l.gridRowEnd(+s+ +f,t):l.gridRowEnd(+u,t)}else l.gridRowStart(e,t)},gridRowEnd:function(e,t){var n=t.msGridRow;i(e)&&i(n)&&(t.msGridRowSpan=e-n)},gridRowStart:function(e,t){i(e)&&(t.msGridRow=e)},gridTemplateColumns:function(e,t){t.msGridColumns=e},gridTemplateRows:function(e,t){t.msGridRows=e},justifySelf:function(e,t){a.indexOf(e)>-1&&(t.msGridColumnAlign=e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return a.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(37),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(Object.prototype.hasOwnProperty.call(r,e))for(var i=r[e],o=0,a=i.length;o<a;++o)n[i[o]]=t};var r={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(i.hasOwnProperty(e)&&o.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){if("string"==typeof t&&s.hasOwnProperty(e)){var u=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=n.length;o<a;++o){var s=n[o],u=[s];for(var c in t){var d=(0,r.default)(c);if(s.indexOf(d)>-1&&"order"!==d)for(var h=t[c],f=0,p=h.length;f<p;++f)u.unshift(s.replace(d,l[h[f]]+d))}n[o]=u.join(",")}return n.join(",")}(t,a),c=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return c;var d=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,o.default)(e)]=c,n["Moz"+(0,o.default)(e)]=d,u)}};var r=a(n(206)),i=a(n(37)),o=a(n(107));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,i=n(106),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-inner-spin-button,input::-webkit-outer-spin-button,input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(6),i=function(e){if(e(":focus:not([data-focusvisible-polyfill]){outline: none;}"),r.canUseDOM){var t=!0,n=!1,i=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};document.addEventListener("keydown",(function(e){"Tab"!==e.key&&(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)||(a(document.activeElement)&&s(document.activeElement),t=!0)}),!0),document.addEventListener("mousedown",u,!0),document.addEventListener("pointerdown",u,!0),document.addEventListener("touchstart",u,!0),document.addEventListener("focus",(function(e){var n,r,i,l;a(e.target)&&(t||(n=e.target,r=n.type,i=n.tagName,l=n.readOnly,"INPUT"===i&&o[r]&&!l||"TEXTAREA"===i&&!l||n.isContentEditable))&&s(e.target)}),!0),document.addEventListener("blur",(function(e){a(e.target)&&e.target.hasAttribute("data-focusvisible-polyfill")&&(n=!0,window.clearTimeout(i),i=window.setTimeout((function(){n=!1,window.clearTimeout(i)}),100),l(e.target))}),!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),c())}),!0),c()}function a(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function s(e){e.hasAttribute("data-focusvisible-polyfill")||e.setAttribute("data-focusvisible-polyfill",!0)}function l(e){e.removeAttribute("data-focusvisible-polyfill")}function u(e){!0===t&&function(){for(var e=document.querySelectorAll("[data-focusvisible-polyfill]"),t=0;t<e.length;t+=1)l(e[t])}(),t=!1}function c(){document.addEventListener("mousemove",d),document.addEventListener("mousedown",d),document.addEventListener("mouseup",d),document.addEventListener("pointermove",d),document.addEventListener("pointerdown",d),document.addEventListener("pointerup",d),document.addEventListener("touchmove",d),document.addEventListener("touchstart",d),document.addEventListener("touchend",d)}function d(e){"HTML"!==e.target.nodeName&&(t=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mousedown",d),document.removeEventListener("mouseup",d),document.removeEventListener("pointermove",d),document.removeEventListener("pointerdown",d),document.removeEventListener("pointerup",d),document.removeEventListener("touchmove",d),document.removeEventListener("touchstart",d),document.removeEventListener("touchend",d))}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(104)),i=o(n(103));o(n(210));function o(e){return e&&e.__esModule?e:{default:e}}var a={position:"absolute",left:0,right:0,top:0,bottom:0},s={absoluteFill:r.default.register(a),absoluteFillObject:a,compose:function(e,t){return e&&t?[e,t]:e||t},create:function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n]&&r.default.register(e[n]);t[n]=i})),t},flatten:i.default,hairlineWidth:1};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=t[e];for(var r in n){var i=r.trim(),s=n[i],l=!1;if(null!==s){if("string"==typeof s&&s.indexOf("!important")>-1)a('Invalid style declaration "'+i+":"+s+'". Values cannot include "!important"'),l=!0;else{var u="";"animation"===i||"animationName"===i?(u='Did you mean "animationKeyframes"?',l=!0):"direction"===i?(u='Did you mean "writingDirection"?',l=!0):"verticalAlign"===i?(u='Did you mean "textAlignVertical"?',l=!0):o[i]&&(u="Please use long-form properties.",l=!0),""!==u&&a('Invalid style property of "'+i+'". '+u)}l&&delete n[r]}}};var r,i=(r=n(43))&&r.__esModule?r:{default:r};var o={background:!0,borderBottom:!0,borderLeft:!0,borderRight:!0,borderTop:!0,font:!0,grid:!0,outline:!0,textDecoration:!0};function a(e){(0,i.default)(!1,e)}e.exports=t.default},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";
/** @license React v17.0.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(80),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function _(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=g.prototype;var v=y.prototype=new _;v.constructor=y,r(v,g.prototype),v.isPureReactComponent=!0;var b={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+k(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+k(s=e[u],u);l+=C(s,t,n,c,a)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),u=0;!(s=e.next()).done;)l+=C(s=s.value,t,n,c=r+k(s,u++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function M(){var e=O.current;if(null===e)throw Error(f(321));return e}var A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(80),o=n(214);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=_.hasOwnProperty(t)?_[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);_[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);_[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);_[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,S=60106,E=60107,T=60108,k=60114,C=60109,P=60110,R=60112,O=60113,M=60120,A=60115,I=60116,D=60121,L=60128,z=60129,N=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;w=B("react.element"),S=B("react.portal"),E=B("react.fragment"),T=B("react.strict_mode"),k=B("react.profiler"),C=B("react.provider"),P=B("react.context"),R=B("react.forward_ref"),O=B("react.suspense"),M=B("react.suspense_list"),A=B("react.memo"),I=B("react.lazy"),D=B("react.block"),B("react.scope"),L=B("react.opaque.id"),z=B("react.debug_trace_mode"),N=B("react.offscreen"),F=B("react.legacy_hidden")}var j,V="function"==typeof Symbol&&Symbol.iterator;function U(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=V&&e[V]||e["@@iterator"])?e:null}function W(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var G=!1;function H(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function q(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return $(e.type);case D:return $(e._render);case I:t=e._payload,e=e._init;try{return $(e(t))}catch(e){}}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ue(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function _e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var we=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ce=null,Pe=null;function Re(e){if(e=Qr(e)){if("function"!=typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ei(t),ke(e.stateNode,e.type,t))}}function Oe(e){Ce?Pe?Pe.push(e):Pe=[e]:Ce=e}function Me(){if(Ce){var e=Ce,t=Pe;if(Pe=Ce=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Ae(e,t){return e(t)}function Ie(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Ae,ze=!1,Ne=!1;function Fe(){null===Ce&&null===Pe||(De(),Me())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(e){je=!1}function Ue(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var We=!1,Ge=null,He=!1,qe=null,$e={onError:function(e){We=!0,Ge=e}};function Ze(e,t,n,r,i,o,a,s,l){We=!1,Ge=null,Ue.apply($e,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Ke(e)!==e)throw Error(a(188))}function Qe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,lt=null,ut=new Map,ct=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&(null!==(t=Qr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Yr(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Qr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){_t(e)&&n.delete(t)}function vt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Qr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&_t(at)&&(at=null),null!==st&&_t(st)&&(st=null),null!==lt&&_t(lt)&&(lt=null),ut.forEach(yt),ct.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==st&&bt(st,e),null!==lt&&bt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},Et={},Tt={};function kt(e){if(Et[e])return Et[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}d&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=kt("animationend"),Pt=kt("animationiteration"),Rt=kt("animationstart"),Ot=kt("transitionend"),Mt=new Map,At=new Map,It=["abort","abort",Ct,"animationEnd",Pt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Mt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Lt=8;function zt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Nt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=zt(l),i=Lt):0!==(s&=o)&&(r=zt(s),i=Lt)}else 0!==(o=n&~a)?(r=zt(o),i=Lt):0!==s&&(r=zt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(zt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Bt(10,t):e;case 10:return 0===(e=jt(192&~t))?Bt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function jt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ut(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Ht|0)|0},Gt=Math.log,Ht=Math.LN2;var qt=o.unstable_UserBlockingPriority,$t=o.unstable_runWithPriority,Zt=!0;function Kt(e,t,n,r){ze||De();var i=Yt,o=ze;ze=!0;try{Ie(i,e,t,n,r)}finally{(ze=o)||Fe()}}function Xt(e,t,n,r){$t(qt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Zt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Or(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Te(r);if(null!==(i=Yr(i))){var o=Ke(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Or(e,t,r,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,un,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),fn=i({},dn,{view:0,detail:0}),pn=sn(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=sn(mn),_n=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},fn,{relatedTarget:0})),vn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=sn(i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=sn(i({},dn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Tn}var Cn=sn(i({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Pn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),On=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=sn(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],In=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Dn,zn=d&&(!In||Dn&&8<Dn&&11>=Dn),Nn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Gn(e,t,n,r){Oe(r),0<(t=Ar(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,qn=null;function $n(e){Er(e,0)}function Zn(e){if(Y(Jr(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Yn;if(d){var Qn="oninput"in document;if(!Qn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Qn="function"==typeof Jn.oninput}Yn=Qn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function er(){Hn&&(Hn.detachEvent("onpropertychange",tr),qn=Hn=null)}function tr(e){if("value"===e.propertyName&&Zn(qn)){var t=[];if(Gn(t,qn,e,Te(e)),e=$n,ze)e(t);else{ze=!0;try{Ae(e,t)}finally{ze=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),qn=n,(Hn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(qn)}function ir(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function lr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fr=d&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,_r=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Ar(mr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(It,2);for(var vr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),br=0;br<vr.length;br++)At.set(vr[br],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ze.apply(this,arguments),We){if(!We)throw Error(a(198));var c=Ge;We=!1,Ge=null,He||(He=!0,qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Sr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Sr(i,s,u),o=l}}}if(He)throw e=qe,He=!1,qe=null,e}function Tr(e,t){var n=ti(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){e[kr]||(e[kr]=!0,s.forEach((function(t){wr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&wr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ti(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Rr(o,e,i,t),a.add(s))}function Rr(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Xt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Yr(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ne)return e(t,n);Ne=!0;try{Le(e,t,n)}finally{Ne=!1,Fe()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Mt.get(e);if(void 0!==s){var l=hn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Ct:case Pt:case Rt:l=vn;break;case Ot:l=On;break;case"scroll":l=pn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Be(p,h))&&c.push(Mr(p,m,f)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!Yr(u)&&!u[Kr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Yr(u):null)&&(u!==(d=Ke(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Jr(l),f=null==u?s:Jr(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,Yr(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Ir(f))p++;for(f=0,m=h;m;m=Ir(m))f++;for(;0<p-f;)c=Ir(c),p--;for(;0<f-p;)h=Ir(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Ir(c),h=Ir(h)}c=null}else c=null;null!==l&&Dr(a,s,l,c,!1),null!==u&&null!==d&&Dr(a,d,u,c,!0)}if("select"===(l=(s=r?Jr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Wn(s))if(Xn)g=or;else{g=rr;var _=nr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(_&&_(e,s,r),"focusout"===e&&(_=s._wrapperState)&&_.controlled&&"number"===s.type&&ie(s,"number",s.value)),_=r?Jr(r):window,e){case"focusin":(Wn(_)||"true"===_.contentEditable)&&(pr=_,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,yr(a,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(a,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Vn?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(zn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(y=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(_=Ar(r,v)).length&&(v=new xn(v,e,null,n,i),a.push({event:v,listeners:_}),y?v.data=y:null!==(y=jn(n))&&(v.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Bn(e,t)?(e=nn(),tn=en=Jt=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ar(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Er(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ar(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Be(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Be(n,o))&&a.unshift(Mr(n,l,s)):i||null!=(l=Be(n,o))&&a.push(Mr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Lr(){}var zr=null,Nr=null;function Fr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var jr="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Ur(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0;var qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+qr,Zr="__reactProps$"+qr,Kr="__reactContainer$"+qr,Xr="__reactEvents$"+qr;function Yr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[$r])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function Qr(e){return!(e=e[$r]||e[Kr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Jr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ei(e){return e[Zr]||null}function ti(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ni=[],ri=-1;function ii(e){return{current:e}}function oi(e){0>ri||(e.current=ni[ri],ni[ri]=null,ri--)}function ai(e,t){ri++,ni[ri]=e.current,e.current=t}var si={},li=ii(si),ui=ii(!1),ci=si;function di(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function hi(e){return null!=(e=e.childContextTypes)}function fi(){oi(ui),oi(li)}function pi(e,t,n){if(li.current!==si)throw Error(a(168));ai(li,t),ai(ui,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,$(t)||"Unknown",o));return i({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,ci=li.current,ai(li,e),ai(ui,ui.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=mi(e,t,ci),r.__reactInternalMemoizedMergedChildContext=e,oi(ui),oi(li),ai(li,e)):oi(ui),ai(ui,n)}var yi=null,vi=null,bi=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,wi=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ei=o.unstable_requestPaint,Ti=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Oi=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Ai={},Ii=void 0!==Ei?Ei:function(){},Di=null,Li=null,zi=!1,Ni=Ti(),Fi=1e4>Ni?Ti:function(){return Ti()-Ni};function Bi(){switch(ki()){case Ci:return 99;case Pi:return 98;case Ri:return 97;case Oi:return 96;case Mi:return 95;default:throw Error(a(332))}}function ji(e){switch(e){case 99:return Ci;case 98:return Pi;case 97:return Ri;case 96:return Oi;case 95:return Mi;default:throw Error(a(332))}}function Vi(e,t){return e=ji(e),bi(e,t)}function Ui(e,t,n){return e=ji(e),xi(e,t,n)}function Wi(){if(null!==Li){var e=Li;Li=null,wi(e)}Gi()}function Gi(){if(!zi&&null!==Di){zi=!0;var e=0;try{var t=Di;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Di=null}catch(t){throw null!==Di&&(Di=Di.slice(e+1)),xi(Ci,Wi),t}finally{zi=!1}}}var Hi=x.ReactCurrentBatchConfig;function qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ii(null),Zi=null,Ki=null,Xi=null;function Yi(){Xi=Ki=Zi=null}function Qi(e){var t=$i.current;oi($i),e.type._context._currentValue=t}function Ji(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function eo(e,t){Zi=e,Xi=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Aa=!0),e.firstContext=null)}function to(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ki){if(null===Zi)throw Error(a(308));Ki=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else Ki=Ki.next=t;return e._currentValue}var no=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var o=e.updateQueue;no=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=u)}}if(null!==a){for(h=o.baseState,s=0,d=c=u=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,h,l):p))break e;h=i({},h,l);break e;case 2:no=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=f,u=h):d=d.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(u=h),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,Ds|=s,e.lanes=s,e.memoizedState=h}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var co=(new r.Component).refs;function ho(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ol(),i=al(e),o=oo(r,i);o.payload=t,null!=n&&(o.callback=n),ao(e,o),sl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ol(),i=al(e),o=oo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ao(e,o),sl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ol(),r=al(e),i=oo(n,r);i.tag=2,null!=t&&(i.callback=t),ao(e,i),sl(e,r,n)}};function po(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function mo(e,t,n){var r=!1,i=si,o=t.contextType;return"object"==typeof o&&null!==o?o=to(o):(i=hi(t)?ci:li.current,o=(r=null!=(r=t.contextTypes))?di(e,i):si),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function go(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=co,ro(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=to(o):(o=hi(t)?ci:li.current,i.context=di(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var yo=Array.isArray;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===co&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function bo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=jl(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=jl(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=Gl(t,e.mode,n)).return=e,t}if(yo(t)||U(t))return(t=Vl(t,e.mode,n,null)).return=e,t;bo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(yo(n)||U(n))return null!==i?null:d(e,t,n,r,null);bo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(yo(r)||U(r))return d(t,e=e.get(n)||null,r,i,null);bo(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var _=f(i,d,s[m],l);if(null===_){null===d&&(d=g);break}e&&d&&null===_.alternate&&t(i,d),a=o(_,a,m),null===c?u=_:c.sibling=_,c=_,d=g}if(m===s.length)return n(i,d),u;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),u}function g(i,s,l,u){var c=U(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=s,g=s=0,_=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(_=m,m=null):_=m.sibling;var v=f(i,m,y.value,u);if(null===v){null===m&&(m=_);break}e&&m&&null===v.alternate&&t(i,m),s=o(v,s,g),null===d?c=v:d.sibling=v,d=v,m=_}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===E&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case w:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===E){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=vo(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===E?((r=Vl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=jl(o.type,o.key,o.props,null,e.mode,l)).ref=vo(e,r,o),l.return=e,e=l)}return s(e);case S:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Wl(o,e.mode,l)).return=e,e=r),s(e);if(yo(o))return m(e,r,o,l);if(U(o))return g(e,r,o,l);if(c&&bo(e,o),void 0===o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,$(e.type)||"Component"))}return n(e,r)}}var wo=xo(!0),So=xo(!1),Eo={},To=ii(Eo),ko=ii(Eo),Co=ii(Eo);function Po(e){if(e===Eo)throw Error(a(174));return e}function Ro(e,t){switch(ai(Co,t),ai(ko,e),ai(To,Eo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}oi(To),ai(To,t)}function Oo(){oi(To),oi(ko),oi(Co)}function Mo(e){Po(Co.current);var t=Po(To.current),n=pe(t,e.type);t!==n&&(ai(ko,e),ai(To,n))}function Ao(e){ko.current===e&&(oi(To),oi(ko))}var Io=ii(0);function Do(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lo=null,zo=null,No=!1;function Fo(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function jo(e){if(No){var t=zo;if(t){var n=t;if(!Bo(e,t)){if(!(t=Wr(n.nextSibling))||!Bo(e,t))return e.flags=-1025&e.flags|2,No=!1,void(Lo=e);Fo(Lo,n)}Lo=e,zo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,No=!1,Lo=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Lo=e}function Uo(e){if(e!==Lo)return!1;if(!No)return Vo(e),No=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=zo;t;)Fo(e,t),t=Wr(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){zo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}zo=null}}else zo=Lo?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){zo=Lo=null,No=!1}var Go=[];function Ho(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var qo=x.ReactCurrentDispatcher,$o=x.ReactCurrentBatchConfig,Zo=0,Ko=null,Xo=null,Yo=null,Qo=!1,Jo=!1;function ea(){throw Error(a(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function na(e,t,n,r,i,o){if(Zo=o,Ko=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qo.current=null===e||null===e.memoizedState?Pa:Ra,e=n(r,i),Jo){o=0;do{if(Jo=!1,!(25>o))throw Error(a(301));o+=1,Yo=Xo=null,t.updateQueue=null,qo.current=Oa,e=n(r,i)}while(Jo)}if(qo.current=Ca,t=null!==Xo&&null!==Xo.next,Zo=0,Yo=Xo=Ko=null,Qo=!1,t)throw Error(a(300));return e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Ko.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function ia(){if(null===Xo){var e=Ko.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Yo?Ko.memoizedState:Yo.next;if(null!==t)Yo=t,Xo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Yo?Ko.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function oa(e,t){return"function"==typeof t?t(e):t}function aa(e){var t=ia(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Zo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,Ko.lanes|=c,Ds|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,ar(r,t.memoizedState)||(Aa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function sa(e){var t=ia(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function la(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(a(350))}function ua(e,t,n,r){var i=ks;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=qo.current,u=l.useState((function(){return la(i,t,n)})),c=u[1],d=u[0];u=Yo;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var g=Ko;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(d,e)||(c(e),e=al(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Wt(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=al(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(m,t)&&ar(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:d}).dispatch=c=ka.bind(null,Ko,e),u.queue=e,u.baseQueue=null,d=la(i,t,n),u.memoizedState=u.baseState=d),d}function ca(e,t,n){return ua(ia(),e,t,n)}function da(e){var t=ra();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e}).dispatch=ka.bind(null,Ko,e),[t.memoizedState,e]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ko.updateQueue)?(t={lastEffect:null},Ko.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fa(e){return e={current:e},ra().memoizedState=e}function pa(){return ia().memoizedState}function ma(e,t,n,r){var i=ra();Ko.flags|=e,i.memoizedState=ha(1|t,n,void 0,void 0===r?null:r)}function ga(e,t,n,r){var i=ia();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var a=Xo.memoizedState;if(o=a.destroy,null!==r&&ta(r,a.deps))return void ha(t,n,o,r)}Ko.flags|=e,i.memoizedState=ha(1|t,n,o,r)}function _a(e,t){return ma(516,4,e,t)}function ya(e,t){return ga(516,4,e,t)}function va(e,t){return ga(4,2,e,t)}function ba(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,ba.bind(null,t,e),n)}function wa(){}function Sa(e,t){var n=ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ta(e,t){var n=Bi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function ka(e,t,n){var r=ol(),i=al(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Ko||null!==a&&a===Ko)Jo=Qo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,ar(l,s))return}catch(e){}sl(e,i,r)}}var Ca={readContext:to,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useOpaqueIdentifier:ea,unstable_isNewReconciler:!1},Pa={readContext:to,useCallback:function(e,t){return ra().memoizedState=[e,void 0===t?null:t],e},useContext:to,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ra();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ka.bind(null,Ko,e),[r.memoizedState,e]},useRef:fa,useState:da,useDebugValue:wa,useDeferredValue:function(e){var t=da(e),n=t[0],r=t[1];return _a((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return fa(e=Ta.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ra();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ua(r,e,t,n)},useOpaqueIdentifier:function(){if(No){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(a(355))})),n=da(t)[1];return 0==(2&Ko.mode)&&(Ko.flags|=516,ha(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return da(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:to,useCallback:Sa,useContext:to,useEffect:ya,useImperativeHandle:xa,useLayoutEffect:va,useMemo:Ea,useReducer:aa,useRef:pa,useState:function(){return aa(oa)},useDebugValue:wa,useDeferredValue:function(e){var t=aa(oa),n=t[0],r=t[1];return ya((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=aa(oa)[0];return[pa().current,e]},useMutableSource:ca,useOpaqueIdentifier:function(){return aa(oa)[0]},unstable_isNewReconciler:!1},Oa={readContext:to,useCallback:Sa,useContext:to,useEffect:ya,useImperativeHandle:xa,useLayoutEffect:va,useMemo:Ea,useReducer:sa,useRef:pa,useState:function(){return sa(oa)},useDebugValue:wa,useDeferredValue:function(e){var t=sa(oa),n=t[0],r=t[1];return ya((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=sa(oa)[0];return[pa().current,e]},useMutableSource:ca,useOpaqueIdentifier:function(){return sa(oa)[0]},unstable_isNewReconciler:!1},Ma=x.ReactCurrentOwner,Aa=!1;function Ia(e,t,n,r){t.child=null===e?So(t,null,n,r):wo(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;return eo(t,i),r=na(e,t,n,r,o,i),null===e||Aa?(t.flags|=1,Ia(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,es(e,t,i))}function La(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Fl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,za(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)?es(e,t,o):(t.flags|=1,(e=Bl(a,r)).ref=t.ref,e.return=t,t.child=e)}function za(e,t,n,r,i,o){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Aa=!1,0==(o&i))return t.lanes=e.lanes,es(e,t,o);0!=(16384&e.flags)&&(Aa=!0)}return Ba(e,t,n,r,o)}function Na(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ml(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ml(t,e),null;t.memoizedState={baseLanes:0},ml(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ml(t,r);return Ia(e,t,i,n),t.child}function Fa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ba(e,t,n,r,i){var o=hi(n)?ci:li.current;return o=di(t,o),eo(t,i),n=na(e,t,n,r,o,i),null===e||Aa?(t.flags|=1,Ia(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,es(e,t,i))}function ja(e,t,n,r,i){if(hi(n)){var o=!0;gi(t)}else o=!1;if(eo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=to(u):u=di(t,u=hi(n)?ci:li.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&go(t,a,r,u),no=!1;var h=t.memoizedState;a.state=h,lo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||ui.current||no?("function"==typeof c&&(ho(t,n,c,r),l=t.memoizedState),(s=no||po(t,n,s,r,h,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,io(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:qi(t.type,s),a.props=u,d=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=to(l):l=di(t,l=hi(n)?ci:li.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&go(t,a,r,l),no=!1,h=t.memoizedState,a.state=h,lo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||ui.current||no?("function"==typeof f&&(ho(t,n,f,r),p=t.memoizedState),(u=no||po(t,n,u,r,h,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Va(e,t,n,r,o,i)}function Va(e,t,n,r,i,o){Fa(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&_i(t,n,!1),es(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):Ia(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&pi(0,t.context,!1),Ro(e,t.containerInfo)}var Wa,Ga,Ha,qa={dehydrated:null,retryLane:0};function $a(e,t,n){var r,i=t.pendingProps,o=Io.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ai(Io,1&o),null===e?(void 0!==i.fallback&&jo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qa,e):"number"==typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qa,t.lanes=33554432,e):((n=Ul({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Xa(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=qa,i):(n=Ka(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ul(t,i,0,null),n=Vl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ka(e,t,n,r){var i=e.child;return e=i.sibling,n=Bl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Xa(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bl(a,s),null!==e?r=Bl(e,r):(r=Vl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ya(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ji(e.return,t)}function Qa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ia(e,t,r.children,n),0!=(2&(r=Io.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ai(Io,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Do(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Do(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qa(t,!0,n,null,o,t.lastEffect);break;case"together":Qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function es(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Bl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ts(e,t){if(!No)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return hi(t.type)&&fi(),null;case 3:return Oo(),oi(ui),oi(li),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Uo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ao(t);var o=Po(Co.current);if(n=t.type,null!==e&&null!=t.stateNode)Ga(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(To.current),Uo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Zr]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Tr(xr[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":le(r,s),Tr("invalid",r)}for(var u in Se(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Tr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[$r]=t,e[Zr]=r,Wa(e,t),t.stateNode=e,u=Ee(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<xr.length;o++)Tr(xr[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Tr("invalid",e);break;default:o=r}Se(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&_e(e,d):"number"==typeof d&&_e(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Tr("scroll",e):null!=d&&b(e,s,d,u))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Lr)}Fr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Co.current),Po(To.current),Uo(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return oi(Io),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Uo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Io.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===ks||0==(134217727&Ds)&&0==(134217727&Ls)||dl(ks,Ps))),(r||n)&&(t.flags|=4),null);case 4:return Oo(),null===e&&Cr(t.stateNode.containerInfo),null;case 10:return Qi(t),null;case 17:return hi(t.type)&&fi(),null;case 19:if(oi(Io),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(u=r.rendering))if(s)ts(r,!1);else{if(0!==Ms||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Do(e))){for(t.flags|=64,ts(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Io,1&Io.current|2),t.child}e=e.sibling}null!==r.tail&&Fi()>Bs&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Do(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!No)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,t=Io.current,ai(Io,s?1&t|2:1&t),n):null;case 23:case 24:return gl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function rs(e){switch(e.tag){case 1:hi(e.type)&&fi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oo(),oi(ui),oi(li),Ho(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ao(e),null;case 13:return oi(Io),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return oi(Io),null;case 4:return Oo(),null;case 10:return Qi(e),null;case 23:case 24:return gl(),null;default:return null}}function is(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function os(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(To.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Lr)}for(d in Se(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Tr("scroll",e),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ha=function(e,t,n,r){n!==r&&(t.flags|=4)};var as="function"==typeof WeakMap?WeakMap:Map;function ss(e,t,n){(n=oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),os(0,t)},n}function ls(e,t,n){(n=oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return os(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),os(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Il(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ur(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ol(n,e),Rl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&uo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}uo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Fr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ps(e,t){if(vi&&"function"==typeof vi.onCommitFiberUnmount)try{vi.onCommitFiberUnmount(yi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ol(t,n);else{r=t;try{i()}catch(e){Il(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Il(t,e)}break;case 5:cs(t);break;case 4:ys(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gs(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(gs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(_e(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Lr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ys(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(ps(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ps(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function vs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?xe(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?_e(n,l):b(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Fs=Fi(),fs(t.child,!0)),void bs(t);case 19:return void bs(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function bs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Ll.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ws=Math.ceil,Ss=x.ReactCurrentDispatcher,Es=x.ReactCurrentOwner,Ts=0,ks=null,Cs=null,Ps=0,Rs=0,Os=ii(0),Ms=0,As=null,Is=0,Ds=0,Ls=0,zs=0,Ns=null,Fs=0,Bs=1/0;function js(){Bs=Fi()+500}var Vs,Us=null,Ws=!1,Gs=null,Hs=null,qs=!1,$s=null,Zs=90,Ks=[],Xs=[],Ys=null,Qs=0,Js=null,el=-1,tl=0,nl=0,rl=null,il=!1;function ol(){return 0!=(48&Ts)?Fi():-1!==el?el:el=Fi()}function al(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Bi()?1:2;if(0===tl&&(tl=Is),0!==Hi.transition){0!==nl&&(nl=null!==Ns?Ns.pendingLanes:0),e=tl;var t=4186112&~nl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Bi(),0!=(4&Ts)&&98===e?e=Bt(12,tl):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),tl),e}function sl(e,t,n){if(50<Qs)throw Qs=0,Js=null,Error(a(185));if(null===(e=ll(e,t)))return null;Ut(e,t,n),e===ks&&(Ls|=t,4===Ms&&dl(e,Ps));var r=Bi();1===t?0!=(8&Ts)&&0==(48&Ts)?hl(e):(ul(e,n),0===Ts&&(js(),Wi())):(0==(4&Ts)||98!==r&&99!==r||(null===Ys?Ys=new Set([e]):Ys.add(e)),ul(e,n)),Ns=e}function ll(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ul(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Wt(s),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,zt(u);var d=Lt;o[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Nt(e,e===ks?Ps:0),t=Lt,0===r)null!==n&&(n!==Ai&&wi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ai&&wi(n)}15===t?(n=hl.bind(null,e),null===Di?(Di=[n],Li=xi(Ci,Gi)):Di.push(n),n=Ai):14===t?n=Ui(99,hl.bind(null,e)):n=Ui(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),cl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function cl(e){if(el=-1,nl=tl=0,0!=(48&Ts))throw Error(a(327));var t=e.callbackNode;if(Pl()&&e.callbackNode!==t)return null;var n=Nt(e,e===ks?Ps:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var o=vl();for(ks===e&&Ps===r||(js(),_l(e,r));;)try{wl();break}catch(t){yl(e,t)}if(Yi(),Ss.current=o,Ts=i,null!==Cs?r=0:(ks=null,Ps=0,r=Ms),0!=(Is&Ls))_l(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Ur(e.containerInfo)),0!==(n=Ft(e))&&(r=bl(e,n))),1===r)throw t=As,_l(e,0),dl(e,n),ul(e,Fi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Tl(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(r=Fs+500-Fi())){if(0!==Nt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ol(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jr(Tl.bind(null,e),r);break}Tl(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Fi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ws(n/1960))-n)){e.timeoutHandle=jr(Tl.bind(null,e),n);break}Tl(e);break;case 5:Tl(e);break;default:throw Error(a(329))}}return ul(e,Fi()),e.callbackNode===t?cl.bind(null,e):null}function dl(e,t){for(t&=~zs,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function hl(e){if(0!=(48&Ts))throw Error(a(327));if(Pl(),e===ks&&0!=(e.expiredLanes&Ps)){var t=Ps,n=bl(e,t);0!=(Is&Ls)&&(n=bl(e,t=Nt(e,t)))}else n=bl(e,t=Nt(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Ur(e.containerInfo)),0!==(t=Ft(e))&&(n=bl(e,t))),1===n)throw n=As,_l(e,0),dl(e,t),ul(e,Fi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e),ul(e,Fi()),null}function fl(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(js(),Wi())}}function pl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(js(),Wi())}}function ml(e,t){ai(Os,Rs),Rs|=t,Is|=t}function gl(){Rs=Os.current,oi(Os)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&fi();break;case 3:Oo(),oi(ui),oi(li),Ho();break;case 5:Ao(r);break;case 4:Oo();break;case 13:case 19:oi(Io);break;case 10:Qi(r);break;case 23:case 24:gl()}n=n.return}ks=e,Cs=Bl(e.current,null),Ps=Rs=Is=t,Ms=0,As=null,zs=Ls=Ds=0}function yl(e,t){for(;;){var n=Cs;try{if(Yi(),qo.current=Ca,Qo){for(var r=Ko.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Qo=!1}if(Zo=0,Yo=Xo=Ko=null,Jo=!1,Es.current=null,null===n||null===n.return){Ms=1,As=t,Cs=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Io.current),h=a;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=h.updateQueue;if(null===g){var _=new Set;_.add(u),h.updateQueue=_}else g.add(u);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=oo(-1,1);y.tag=2,ao(s,y)}s.lanes|=1;break e}l=void 0,s=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new as,l=new Set,v.set(u,l)):void 0===(l=v.get(u))&&(l=new Set,v.set(u,l)),!l.has(s)){l.add(s);var b=Dl.bind(null,o,u,s);u.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error(($(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),l=is(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,so(h,ss(0,o,t));break e;case 1:o=l;var x=h.type,w=h.stateNode;if(0==(64&h.flags)&&("function"==typeof x.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Hs||!Hs.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,so(h,ls(h,o,t));break e}}h=h.return}while(null!==h)}El(n)}catch(e){t=e,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function vl(){var e=Ss.current;return Ss.current=Ca,null===e?Ca:e}function bl(e,t){var n=Ts;Ts|=16;var r=vl();for(ks===e&&Ps===t||_l(e,t);;)try{xl();break}catch(t){yl(e,t)}if(Yi(),Ts=n,Ss.current=r,null!==Cs)throw Error(a(261));return ks=null,Ps=0,Ms}function xl(){for(;null!==Cs;)Sl(Cs)}function wl(){for(;null!==Cs&&!Si();)Sl(Cs)}function Sl(e){var t=Vs(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?El(e):Cs=t,Es.current=null}function El(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ns(n,t,Rs)))return void(Cs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Rs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=rs(t)))return n.flags&=2047,void(Cs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Cs=t);Cs=t=e}while(null!==t);0===Ms&&(Ms=5)}function Tl(e){var t=Bi();return Vi(99,kl.bind(null,e,t)),null}function kl(e,t){do{Pl()}while(null!==$s);if(0!=(48&Ts))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Wt(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==Ys&&0==(24&r)&&Ys.has(e)&&Ys.delete(e),e===ks&&(Cs=ks=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,Es.current=null,zr=Zt,hr(s=dr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var d=0,h=-1,f=-1,p=0,m=0,g=s,_=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(h=d+o),g!==u||0!==c&&3!==g.nodeType||(f=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)_=g,g=y;for(;;){if(g===s)break t;if(_===l&&++p===o&&(h=d),_===u&&++m===c&&(f=d),null!==(y=g.nextSibling))break;_=(g=_).parentNode}g=y}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Nr={focusedElem:s,selectionRange:l},Zt=!1,rl=null,il=!1,Us=r;do{try{Cl()}catch(e){if(null===Us)throw Error(a(330));Il(Us,e),Us=Us.nextEffect}}while(null!==Us);rl=null,Us=r;do{try{for(s=e;null!==Us;){var v=Us.flags;if(16&v&&_e(Us.stateNode,""),128&v){var b=Us.alternate;if(null!==b){var x=b.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&v){case 2:_s(Us),Us.flags&=-3;break;case 6:_s(Us),Us.flags&=-3,vs(Us.alternate,Us);break;case 1024:Us.flags&=-1025;break;case 1028:Us.flags&=-1025,vs(Us.alternate,Us);break;case 4:vs(Us.alternate,Us);break;case 8:ys(s,l=Us);var w=l.alternate;ms(l),null!==w&&ms(w)}Us=Us.nextEffect}}catch(e){if(null===Us)throw Error(a(330));Il(Us,e),Us=Us.nextEffect}}while(null!==Us);if(x=Nr,b=dr(),v=x.focusedElem,s=x.selectionRange,b!==v&&v&&v.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(v.ownerDocument.documentElement,v)){null!==s&&hr(v)&&(b=s.start,void 0===(x=s.end)&&(x=b),"selectionStart"in v?(v.selectionStart=b,v.selectionEnd=Math.min(x,v.value.length)):(x=(b=v.ownerDocument||document)&&b.defaultView||window).getSelection&&(x=x.getSelection(),l=v.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!x.extend&&w>s&&(l=s,s=w,w=l),l=cr(v,w),o=cr(v,s),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),w>s?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b))))),b=[];for(x=v;x=x.parentNode;)1===x.nodeType&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<b.length;v++)(x=b[v]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Zt=!!zr,Nr=zr=null,e.current=n,Us=r;do{try{for(v=e;null!==Us;){var S=Us.flags;if(36&S&&hs(v,Us.alternate,Us),128&S){b=void 0;var E=Us.ref;if(null!==E){var T=Us.stateNode;switch(Us.tag){case 5:b=T;break;default:b=T}"function"==typeof E?E(b):E.current=b}}Us=Us.nextEffect}}catch(e){if(null===Us)throw Error(a(330));Il(Us,e),Us=Us.nextEffect}}while(null!==Us);Us=null,Ii(),Ts=i}else e.current=n;if(qs)qs=!1,$s=e,Zs=t;else for(Us=r;null!==Us;)t=Us.nextEffect,Us.nextEffect=null,8&Us.flags&&((S=Us).sibling=null,S.stateNode=null),Us=t;if(0===(r=e.pendingLanes)&&(Hs=null),1===r?e===Js?Qs++:(Qs=0,Js=e):Qs=0,n=n.stateNode,vi&&"function"==typeof vi.onCommitFiberRoot)try{vi.onCommitFiberRoot(yi,n,void 0,64==(64&n.current.flags))}catch(e){}if(ul(e,Fi()),Ws)throw Ws=!1,e=Gs,Gs=null,e;return 0!=(8&Ts)||Wi(),null}function Cl(){for(;null!==Us;){var e=Us.alternate;il||null===rl||(0!=(8&Us.flags)?Je(Us,rl)&&(il=!0):13===Us.tag&&xs(e,Us)&&Je(Us,rl)&&(il=!0));var t=Us.flags;0!=(256&t)&&ds(e,Us),0==(512&t)||qs||(qs=!0,Ui(97,(function(){return Pl(),null}))),Us=Us.nextEffect}}function Pl(){if(90!==Zs){var e=97<Zs?97:Zs;return Zs=90,Vi(e,Ml)}return!1}function Rl(e,t){Ks.push(t,e),qs||(qs=!0,Ui(97,(function(){return Pl(),null})))}function Ol(e,t){Xs.push(t,e),qs||(qs=!0,Ui(97,(function(){return Pl(),null})))}function Ml(){if(null===$s)return!1;var e=$s;if($s=null,0!=(48&Ts))throw Error(a(331));var t=Ts;Ts|=32;var n=Xs;Xs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Il(o,e)}}for(n=Ks,Ks=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));Il(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ts=t,Wi(),!0}function Al(e,t,n){ao(e,t=ss(0,t=is(n,t),1)),t=ol(),null!==(e=ll(e,1))&&(Ut(e,1,t),ul(e,t))}function Il(e,t){if(3===e.tag)Al(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Al(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){var i=ls(n,e=is(t,e),1);if(ao(n,i),i=ol(),null!==(n=ll(n,1)))Ut(n,1,i),ul(n,i);else if("function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Dl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ol(),e.pingedLanes|=e.suspendedLanes&n,ks===e&&(Ps&n)===n&&(4===Ms||3===Ms&&(62914560&Ps)===Ps&&500>Fi()-Fs?_l(e,0):zs|=n),ul(e,t)}function Ll(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Bi()?1:2:(0===tl&&(tl=Is),0===(t=jt(62914560&~tl))&&(t=4194304))),n=ol(),null!==(e=ll(e,t))&&(Ut(e,t,n),ul(e,n))}function zl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,n,r){return new zl(e,t,n,r)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bl(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Fl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case E:return Vl(n.children,i,o,t);case z:s=8,i|=16;break;case T:s=8,i|=1;break;case k:return(e=Nl(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case O:return(e=Nl(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case M:return(e=Nl(19,n,t,i)).elementType=M,e.lanes=o,e;case N:return Ul(n,i,o,t);case F:return(e=Nl(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case P:s=9;break e;case R:s=11;break e;case A:s=14;break e;case I:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vl(e,t,n,r){return(e=Nl(7,e,r,t)).lanes=n,e}function Ul(e,t,n,r){return(e=Nl(23,e,r,t)).elementType=N,e.lanes=n,e}function Wl(e,t,n){return(e=Nl(6,e,null,t)).lanes=n,e}function Gl(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function ql(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $l(e,t,n,r){var i=t.current,o=ol(),s=al(i);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(hi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(hi(u)){n=mi(n,u,l);break e}}n=l}else n=si;return null===t.context?t.context=n:t.pendingContext=n,(t=oo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(i,t),sl(i,s,o),s}function Zl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}function Yl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hl(e,t,null!=n&&!0===n.hydrate),t=Nl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ro(t),e[Kr]=n.current,Cr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Zl(a);s.call(e)}}$l(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Zl(a);l.call(e)}}pl((function(){$l(t,a,e,i)}))}return Zl(a)}function eu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(a(200));return ql(e,t,null,n)}Vs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ui.current)Aa=!0;else{if(0==(n&r)){switch(Aa=!1,t.tag){case 3:Ua(t),Wo();break;case 5:Mo(t);break;case 1:hi(t.type)&&gi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ai($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?$a(e,t,n):(ai(Io,1&Io.current),null!==(t=es(e,t,n))?t.sibling:null);ai(Io,1&Io.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ja(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Io,Io.current),r)break;return null;case 23:case 24:return t.lanes=0,Na(e,t,n)}return es(e,t,n)}Aa=0!=(16384&e.flags)}else Aa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,li.current),eo(t,n),i=na(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,hi(r)){var o=!0;gi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ro(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&ho(t,r,s,e),i.updater=fo,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=Va(null,t,r,!0,o,n)}else t.tag=0,Ia(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Fl(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===A)return 14}return 2}(i),e=qi(i,e),o){case 0:t=Ba(null,t,i,e,n);break e;case 1:t=ja(null,t,i,e,n);break e;case 11:t=Da(null,t,i,e,n);break e;case 14:t=La(null,t,i,qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 3:if(Ua(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,io(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=es(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(zo=Wr(t.stateNode.containerInfo.firstChild),Lo=t,o=No=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ia(e,t,r,n),Wo();t=t.child}return t;case 5:return Mo(t),null===e&&jo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Br(r,i)?s=null:null!==o&&Br(r,o)&&(t.flags|=16),Fa(e,t),Ia(e,t,s,n),t.child;case 6:return null===e&&jo(t),null;case 13:return $a(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ai($i,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=ar(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!ui.current){t=es(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=oo(-1,n&-n)).tag=2,ao(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ji(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ia(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,eo(t,n),r=r(i=to(i,o.unstable_observedBits)),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return o=qi(i=t.type,t.pendingProps),La(e,t,i,o=qi(i.type,o),r,n);case 15:return za(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,hi(r)?(e=!0,gi(t)):e=!1,eo(t,n),mo(t,r,i),_o(t,r,i,n),Va(null,t,r,!0,e,n);case 19:return Ja(e,t,n);case 23:case 24:return Na(e,t,n)}throw Error(a(156,t.tag))},Yl.prototype.render=function(e){$l(e,this._internalRoot,null,null)},Yl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[Kr]=null}))},et=function(e){13===e.tag&&(sl(e,4,ol()),Xl(e,4))},tt=function(e){13===e.tag&&(sl(e,67108864,ol()),Xl(e,67108864))},nt=function(e){if(13===e.tag){var t=ol(),n=al(e);sl(e,n,t),Xl(e,n)}},rt=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ei(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ae=fl,Ie=function(e,t,n,r,i){var o=Ts;Ts|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=o)&&(js(),Wi())}},De=function(){0==(49&Ts)&&(function(){if(null!==Ys){var e=Ys;Ys=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ul(e,Fi())}))}Wi()}(),Pl())},Le=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(js(),Wi())}};var tu={Events:[Qr,Jr,ei,Oe,Me,Pl,{current:!1}]},nu={findFiberByHostInstance:Yr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{yi=iu.inject(ru),vi=iu}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=eu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!=(48&n))return e(t);Ts|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Ts=n,Wi()}},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(a(200));return Jl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ql(t))throw Error(a(200));return Jl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(a(40));return!!e._reactRootContainer&&(pl((function(){Jl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Kr]=null}))})),!0)},t.unstable_batchedUpdates=fl,t.unstable_createPortal=function(e,t){return eu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jl(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(215)},function(e,t,n){"use strict";
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,d=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},i=function(e,t){d=setTimeout(e,t)},o=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,_=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();b=e+v;try{_(!0,e)?w.postMessage(null):(g=!1,_=null)}catch(e){throw w.postMessage(null),e}}else g=!1},r=function(e){_=e,g||(g=!0,w.postMessage(null))},i=function(e,n){y=f((function(){e(t.unstable_now())}),n)},o=function(){p(y),y=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],P=[],R=1,O=null,M=3,A=!1,I=!1,D=!1;function L(e){for(var t=E(P);null!==t;){if(null===t.callback)T(P);else{if(!(t.startTime<=e))break;T(P),t.sortIndex=t.expirationTime,S(C,t)}t=E(P)}}function z(e){if(D=!1,L(e),!I)if(null!==E(C))I=!0,r(N);else{var t=E(P);null!==t&&i(z,t.startTime-e)}}function N(e,n){I=!1,D&&(D=!1,o()),A=!0;var r=M;try{for(L(n),O=E(C);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=O.callback;if("function"==typeof a){O.callback=null,M=O.priorityLevel;var s=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?O.callback=s:O===E(C)&&T(C),L(n)}else T(C);O=E(C)}if(null!==O)var l=!0;else{var u=E(P);null!==u&&i(z,u.startTime-n),l=!1}return l}finally{O=null,M=r,A=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||A||(I=!0,r(N))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:R++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,S(P,e),null===E(C)&&e===E(P)&&(D?o():D=!0,i(z,a-s))):(e.sortIndex=l,S(C,e),I||A||(I=!0,r(N))),e},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i={UIManager:((r=n(20))&&r.__esModule?r:{default:r}).default};t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(218))&&r.__esModule?r:{default:r};var o=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=0===r.indexOf("--"),a=(0,i.default)(r,t[r],o);"float"===r&&(r="cssFloat"),o?n.setProperty(r,a):n[r]=a}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(99))&&r.__esModule?r:{default:r};var o=function(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||i.default.hasOwnProperty(e)&&i.default[e]?(""+t).trim():t+"px"};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(){return new Promise((function(e,t){e(!0)}))}t.__esModule=!0,t.default=void 0;var i=n(6).canUseDOM&&"function"==typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null;var o={},a={isScreenReaderEnabled:r,isReduceMotionEnabled:function(){return new Promise((function(e,t){e(!i||i.matches)}))},fetch:r,addEventListener:function(e,t){if("reduceMotionChanged"===e){if(!i)return;var n=function(e){t(e.matches)};r=n,null!=i&&(null!=i.addEventListener?i.addEventListener("change",r):i.addListener(r)),o[t]=n}var r;return{remove:function(){return a.removeEventListener(e,t)}}},setAccessibilityFocus:function(e){},announceForAccessibility:function(e){},removeEventListener:function(e,t){if("reduceMotionChanged"===e){var n=o[t];if(!n||!i)return;r=n,null!=i&&(null!=i.removeEventListener?i.removeEventListener("change",r):i.removeListener(r))}var r}},s=a;t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(){}return e.alert=function(){},e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(222)),i=c(n(117)),o=c(n(91)),a=c(n(125)),s=c(n(50)),l=c(n(92)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=h(h({},r.default),{},{FlatList:r.default.createAnimatedComponent(i.default,{scrollEventThrottle:1e-4}),Image:r.default.createAnimatedComponent(o.default),ScrollView:r.default.createAnimatedComponent(s.default,{scrollEventThrottle:1e-4}),SectionList:r.default.createAnimatedComponent(a.default,{scrollEventThrottle:1e-4}),View:r.default.createAnimatedComponent(u.default),Text:r.default.createAnimatedComponent(l.default)});t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(81),i=b(n(228)),o=b(n(229)),a=b(n(230)),s=b(n(25)),l=b(n(231)),u=b(n(232)),c=b(n(13)),d=b(n(115)),h=b(n(235)),f=b(n(236)),p=b(n(21)),m=b(n(82)),g=b(n(237)),_=b(n(238)),y=b(n(240)),v=b(n(242));function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),e&&e.apply(void 0,arguments)}:e||t.onComplete},T=function(e,t,n){if(e instanceof m.default){var r=w({},t),i=w({},t);for(var o in t){var a=t[o],s=a.x,l=a.y;void 0!==s&&void 0!==l&&(r[o]=s,i[o]=l)}var u=n(e.x,r),c=n(e.y,i);return P([u,c],{stopTogether:!1})}return null},k=function e(t,n){var r=function(e,t,n){n=E(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof c.default?r.track(new f.default(r,t.toValue,y.default,i,n)):r.animate(new y.default(i),n)};return T(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=w(w({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},C=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start((function r(i){i.finished&&++t!==e.length?e[t].start(r):n&&n(i)}))},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((function(e,n){n<=t&&e.reset()})),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},P=function(e,t){var n=0,r={},i=!(t&&!1===t.stopTogether),o={start:function(t){n!==e.length?e.forEach((function(a,s){var l=function(a){if(r[s]=!0,++n===e.length)return n=0,void(t&&t(a));!a.finished&&i&&o.stop()};a?a.start(l):l({finished:!0})})):t&&t({finished:!0})},stop:function(){e.forEach((function(e,t){!r[t]&&e.stop(),r[t]=!0}))},reset:function(){e.forEach((function(e,t){e.reset(),r[t]=!1,n=0}))},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return o},R=function(e){return k(new p.default(0),{toValue:0,delay:e,duration:0})};var O={Value:p.default,ValueXY:m.default,Interpolation:s.default,Node:c.default,decay:function e(t,n){var r=function(e,t,n){n=E(n,t);var r=e,i=t;r.stopTracking(),r.animate(new g.default(i),n)};return T(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=w(w({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:k,spring:function e(t,n){var r=function(e,t,n){n=E(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof c.default?r.track(new f.default(r,t.toValue,_.default,i,n)):r.animate(new _.default(i),n)};return T(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=w(w({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new i.default(e,t)},subtract:function(e,t){return new h.default(e,t)},divide:function(e,t){return new a.default(e,t)},multiply:function(e,t){return new u.default(e,t)},modulo:function(e,t){return new l.default(e,t)},diffClamp:function(e,t,n){return new o.default(e,t,n)},delay:R,sequence:C,parallel:P,stagger:function(e,t){return P(t.map((function(t,n){return C([R(e*n),t])})))},loop:function(e,t){var n=void 0===t?{}:t,r=n.iterations,i=void 0===r?-1:r,o=n.resetBeforeIteration,a=void 0===o||o,s=!1,l=0;return{start:function(t){e&&0!==i?e._isUsingNativeDriver()?e._startNativeLoop(i):function n(r){void 0===r&&(r={finished:!0}),s||l===i||!1===r.finished?t&&t(r):(l++,a&&e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){s=!0,e.stop()},reset:function(){l=0,s=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new r.AnimatedEvent(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:v.default,attachNativeEvent:r.attachNativeEvent,forkEvent:function(e,t){return e?e instanceof r.AnimatedEvent?(e.__addListener(t),e):function(){"function"==typeof e&&e.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(e,t){e&&e instanceof r.AnimatedEvent&&e.__removeListener(t)},Event:r.AnimatedEvent,__PropsOnlyForTests:d.default};t.default=O,e.exports=t.default},function(e,t,n){"use strict";var r;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var o=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,n)||this).emitter=t,o.listener=r,o.context=i,o}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),r.prototype.remove=function(){this.emitter.removeSubscription(this)},r}(((r=n(224))&&r.__esModule?r:{default:r}).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber.removeSubscription(this)},e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}t.__esModule=!0,t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(226)).get("NativeAnimatedModule");t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.get=o,t.getEnforcing=function(e){var t=null;return(0,i.default)(null!=t,"TurboModuleRegistry.getEnforcing(...): '"+e+"' could not be found. Verify that a module by this name is registered in the native binary."),t};var r,i=(r=n(2))&&r.__esModule?r:{default:r};function o(e){return null}},function(e,t,n){"use strict";t.__esModule=!0,t.cancelIdleCallback=t.default=void 0;var r=n(6).canUseDOM&&void 0!==window.requestIdleCallback,i=r?window.requestIdleCallback:function(e,t){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},o=r?window.cancelIdleCallback:function(e){clearTimeout(e)};t.cancelIdleCallback=o;var a=i;t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(25)),i=(o(n(13)),o(n(21)));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){var t,n;function o(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new i.default(t):t,r._b="number"==typeof n?new i.default(n):n,r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var s=o.prototype;return s.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},s.__getValue=function(){return this._a.__getValue()+this._b.__getValue()},s.interpolate=function(e){return new r.default(this,e)},s.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},s.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},s.__getNativeConfig=function(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},o}(o(n(17)).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(25));i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){var t,n;function i(t,n,r){var i;return(i=e.call(this)||this)._a=t,i._min=n,i._max=r,i._value=i._lastValue=i._a.__getValue(),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n);var a=i.prototype;return a.__makeNative=function(){this._a.__makeNative(),e.prototype.__makeNative.call(this)},a.interpolate=function(e){return new r.default(this,e)},a.__getValue=function(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value},a.__attach=function(){this._a.__addChild(this)},a.__detach=function(){this._a.__removeChild(this),e.prototype.__detach.call(this)},a.__getNativeConfig=function(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}},i}(i(n(17)).default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(25)),i=(o(n(13)),o(n(21)));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){var t,n;function o(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new i.default(t):t,r._b="number"==typeof n?new i.default(n):n,r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var s=o.prototype;return s.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},s.__getValue=function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t&&console.error("Detected division by zero in AnimatedDivision"),e/t},s.interpolate=function(e){return new r.default(this,e)},s.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},s.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},s.__getNativeConfig=function(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},o}(o(n(17)).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(25));i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){var t,n;function i(t,n){var r;return(r=e.call(this)||this)._a=t,r._modulus=n,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n);var a=i.prototype;return a.__makeNative=function(){this._a.__makeNative(),e.prototype.__makeNative.call(this)},a.__getValue=function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus},a.interpolate=function(e){return new r.default(this,e)},a.__attach=function(){this._a.__addChild(this)},a.__detach=function(){this._a.__removeChild(this),e.prototype.__detach.call(this)},a.__getNativeConfig=function(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}},i}(i(n(17)).default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(25)),i=(o(n(13)),o(n(21)));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){var t,n;function o(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new i.default(t):t,r._b="number"==typeof n?new i.default(n):n,r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var s=o.prototype;return s.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},s.__getValue=function(){return this._a.__getValue()*this._b.__getValue()},s.interpolate=function(e){return new r.default(this,e)},s.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},s.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},s.__getNativeConfig=function(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},o}(o(n(17)).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(13)),i=s(n(234)),o=s(n(17)),a=s(n(14));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=s(n(3)).default.flatten,f=function(e){var t,n;function o(t){var n;return n=e.call(this)||this,(t=h(t)||{}).transform&&(t=u(u({},t),{},{transform:new i.default(t.transform)})),n._style=t,n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var s=o.prototype;return s._walkStyleAndGetValues=function(e){var t={};for(var n in e){var i=e[n];i instanceof r.default?i.__isNative||(t[n]=i.__getValue()):i&&!Array.isArray(i)&&"object"==typeof i?t[n]=this._walkStyleAndGetValues(i):t[n]=i}return t},s.__getValue=function(){return this._walkStyleAndGetValues(this._style)},s._walkStyleAndGetAnimatedValues=function(e){var t={};for(var n in e){var i=e[n];i instanceof r.default?t[n]=i.__getAnimatedValue():i&&!Array.isArray(i)&&"object"==typeof i&&(t[n]=this._walkStyleAndGetAnimatedValues(i))}return t},s.__getAnimatedValue=function(){return this._walkStyleAndGetAnimatedValues(this._style)},s.__attach=function(){for(var e in this._style){var t=this._style[e];t instanceof r.default&&t.__addChild(this)}},s.__detach=function(){for(var t in this._style){var n=this._style[t];n instanceof r.default&&n.__removeChild(this)}e.prototype.__detach.call(this)},s.__makeNative=function(){for(var t in this._style){var n=this._style[t];n instanceof r.default&&n.__makeNative()}e.prototype.__makeNative.call(this)},s.__getNativeConfig=function(){var e={};for(var t in this._style)if(this._style[t]instanceof r.default){var n=this._style[t];n.__makeNative(),e[t]=n.__getNativeTag()}return a.default.validateStyles(e),{type:"style",style:e}},o}(o.default);t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(13)),i=a(n(17)),o=a(n(14));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,n;function i(t){var n;return(n=e.call(this)||this)._transforms=t,n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var a=i.prototype;return a.__makeNative=function(){e.prototype.__makeNative.call(this),this._transforms.forEach((function(e){for(var t in e){var n=e[t];n instanceof r.default&&n.__makeNative()}}))},a.__getValue=function(){return this._transforms.map((function(e){var t={};for(var n in e){var i=e[n];i instanceof r.default?t[n]=i.__getValue():t[n]=i}return t}))},a.__getAnimatedValue=function(){return this._transforms.map((function(e){var t={};for(var n in e){var i=e[n];i instanceof r.default?t[n]=i.__getAnimatedValue():t[n]=i}return t}))},a.__attach=function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var i=t[n];i instanceof r.default&&i.__addChild(e)}}))},a.__detach=function(){var t=this;this._transforms.forEach((function(e){for(var n in e){var i=e[n];i instanceof r.default&&i.__removeChild(t)}})),e.prototype.__detach.call(this)},a.__getNativeConfig=function(){var e=[];return this._transforms.forEach((function(t){for(var n in t){var i=t[n];i instanceof r.default?e.push({type:"animated",property:n,nodeTag:i.__getNativeTag()}):e.push({type:"static",property:n,value:i})}})),o.default.validateTransform(e),{type:"transform",transforms:e}},i}(i.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(25)),i=(o(n(13)),o(n(21)));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){var t,n;function o(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new i.default(t):t,r._b="number"==typeof n?new i.default(n):n,r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var s=o.prototype;return s.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},s.__getValue=function(){return this._a.__getValue()-this._b.__getValue()},s.interpolate=function(e){return new r.default(this,e)},s.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},s.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},s.__getNativeConfig=function(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},o}(o(n(17)).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n(21));var r=o(n(13)),i=n(14);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){var t,n;function r(t,n,r,o,a){var s;return(s=e.call(this)||this)._value=t,s._parent=n,s._animationClass=r,s._animationConfig=o,s._useNativeDriver=(0,i.shouldUseNativeDriver)(o),s._callback=a,s.__attach(),s}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var o=r.prototype;return o.__makeNative=function(){this.__isNative=!0,this._parent.__makeNative(),e.prototype.__makeNative.call(this),this._value.__makeNative()},o.__getValue=function(){return this._parent.__getValue()},o.__attach=function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()},o.__detach=function(){this._parent.__removeChild(this),e.prototype.__detach.call(this)},o.update=function(){this._value.animate(new this._animationClass(s(s({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)},o.__getNativeConfig=function(){var e=new this._animationClass(s(s({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:(0,i.generateNewAnimationId)(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}},r}(r.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var i,o=(i=n(83))&&i.__esModule?i:{default:i},a=n(14);function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,n;function i(t){var n,r,i,o;return(o=e.call(this)||this)._deceleration=null!==(n=t.deceleration)&&void 0!==n?n:.998,o._velocity=t.velocity,o._useNativeDriver=(0,a.shouldUseNativeDriver)(t),o.__isInteraction=null!==(r=t.isInteraction)&&void 0!==r?r:!o._useNativeDriver,o.__iterations=null!==(i=t.iterations)&&void 0!==i?i:1,o}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var o=i.prototype;return o.__getNativeAnimationConfig=function(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}},o.start=function(e,t,n,r,i){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))},o.onUpdate=function(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))},o.stop=function(){e.prototype.stop.call(this),this.__active=!1,r.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},i}(o.default);t.default=l,e.exports=t.default}).call(this,n(46))},function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;l(n(21)),l(n(82));var i=l(n(83)),o=l(n(239)),a=l(n(2)),s=n(14);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){var t,n;function i(t){var n,r,i,l,u,c,d,h,f,p,m,g;if((f=e.call(this)||this)._overshootClamping=null!==(n=t.overshootClamping)&&void 0!==n&&n,f._restDisplacementThreshold=null!==(r=t.restDisplacementThreshold)&&void 0!==r?r:.001,f._restSpeedThreshold=null!==(i=t.restSpeedThreshold)&&void 0!==i?i:.001,f._initialVelocity=null!==(l=t.velocity)&&void 0!==l?l:0,f._lastVelocity=null!==(u=t.velocity)&&void 0!==u?u:0,f._toValue=t.toValue,f._delay=null!==(c=t.delay)&&void 0!==c?c:0,f._useNativeDriver=(0,s.shouldUseNativeDriver)(t),f.__isInteraction=null!==(d=t.isInteraction)&&void 0!==d?d:!f._useNativeDriver,f.__iterations=null!==(h=t.iterations)&&void 0!==h?h:1,void 0!==t.stiffness||void 0!==t.damping||void 0!==t.mass)(0,a.default)(void 0===t.bounciness&&void 0===t.speed&&void 0===t.tension&&void 0===t.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),f._stiffness=null!==(p=t.stiffness)&&void 0!==p?p:100,f._damping=null!==(m=t.damping)&&void 0!==m?m:10,f._mass=null!==(g=t.mass)&&void 0!==g?g:1;else if(void 0!==t.bounciness||void 0!==t.speed){var _,y;(0,a.default)(void 0===t.tension&&void 0===t.friction&&void 0===t.stiffness&&void 0===t.damping&&void 0===t.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var v=o.default.fromBouncinessAndSpeed(null!==(_=t.bounciness)&&void 0!==_?_:8,null!==(y=t.speed)&&void 0!==y?y:12);f._stiffness=v.stiffness,f._damping=v.damping,f._mass=1}else{var b,x,w=o.default.fromOrigamiTensionAndFriction(null!==(b=t.tension)&&void 0!==b?b:40,null!==(x=t.friction)&&void 0!==x?x:7);f._stiffness=w.stiffness,f._damping=w.damping,f._mass=1}return(0,a.default)(f._stiffness>0,"Stiffness value must be greater than 0"),(0,a.default)(f._damping>0,"Damping value must be greater than 0"),(0,a.default)(f._mass>0,"Mass value must be greater than 0"),f}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var l=i.prototype;return l.__getNativeAnimationConfig=function(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(e=this._initialVelocity)&&void 0!==e?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations}},l.start=function(e,t,n,r,o){var a=this;if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,r instanceof i){var s=r.getInternalState();this._lastPosition=s.lastPosition,this._lastVelocity=s.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=s.lastTime}var l=function(){a._useNativeDriver?a.__startNativeAnimation(o):a.onUpdate()};this._delay?this._timeout=setTimeout(l,this._delay):l()},l.getInternalState=function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}},l.onUpdate=function(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,i=this._stiffness,o=-this._initialVelocity,a=n/(2*Math.sqrt(i*r)),s=Math.sqrt(i/r),l=s*Math.sqrt(1-a*a),u=this._toValue-this._startPosition,c=0,d=0,h=this._frameTime;if(a<1){var f=Math.exp(-a*s*h);c=this._toValue-f*((o+a*s*u)/l*Math.sin(l*h)+u*Math.cos(l*h)),d=a*s*f*(Math.sin(l*h)*(o+a*s*u)/l+u*Math.cos(l*h))-f*(Math.cos(l*h)*(o+a*s*u)-l*u*Math.sin(l*h))}else{var p=Math.exp(-s*h);c=this._toValue-p*(u+(o+s*u)*h),d=p*(o*(h*s-1)+h*u*(s*s))}if(this._lastTime=e,this._lastPosition=c,this._lastVelocity=d,this._onUpdate(c),this.__active){var m=!1;this._overshootClamping&&0!==this._stiffness&&(m=this._startPosition<this._toValue?c>this._toValue:c<this._toValue);var g=Math.abs(d)<=this._restSpeedThreshold,_=!0;if(0!==this._stiffness&&(_=Math.abs(this._toValue-c)<=this._restDisplacementThreshold),m||g&&_)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},l.stop=function(){e.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),r.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},i}(i.default);t.default=c,e.exports=t.default}).call(this,n(46))},function(e,t,n){"use strict";function r(e){return 3.62*(e-30)+194}function i(e){return 3*(e-8)+25}function o(e,t){return{stiffness:r(e),damping:i(t)}}function a(e,t){function n(e,t,n){return(e-t)/(n-t)}function o(e,t,n){return t+e*(n-t)}var a=n(e/1.7,0,20);a=o(a,0,.8);var s,l,u,c,d=o(n(t/1.7,0,20),.5,200),h=(s=a,l=(u=d)<=18?(c=u,7e-4*Math.pow(c,3)-.031*Math.pow(c,2)+.64*c+1.28):u>18&&u<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(u):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(u),function(e,t,n){return e*n+(1-e)*t}(2*s-s*s,l,.01));return{stiffness:r(d),damping:i(h)}}t.__esModule=!0,t.fromOrigamiTensionAndFriction=o,t.fromBouncinessAndSpeed=a,t.default=void 0;var s={fromOrigamiTensionAndFriction:o,fromBouncinessAndSpeed:a};t.default=s},function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;l(n(21)),l(n(82));var i,o=l(n(83)),a=l(n(116)),s=n(14);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){var t,n;function o(t){var n,r,o,l,u,c;return(c=e.call(this)||this)._toValue=t.toValue,c._easing=null!==(n=t.easing)&&void 0!==n?n:(i||(i=a.default.inOut(a.default.ease)),i),c._duration=null!==(r=t.duration)&&void 0!==r?r:500,c._delay=null!==(o=t.delay)&&void 0!==o?o:0,c.__iterations=null!==(l=t.iterations)&&void 0!==l?l:1,c._useNativeDriver=(0,s.shouldUseNativeDriver)(t),c.__isInteraction=null!==(u=t.isInteraction)&&void 0!==u?u:!c._useNativeDriver,c}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var l=o.prototype;return l.__getNativeAnimationConfig=function(){for(var e=[],t=0;t<this._duration;t+=1e3/60)e.push(this._easing(t/this._duration));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations}},l.start=function(e,t,n,r,i){var o=this;this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var a=function(){0!==o._duration||o._useNativeDriver?(o._startTime=Date.now(),o._useNativeDriver?o.__startNativeAnimation(i):o._animationFrame=requestAnimationFrame(o.onUpdate.bind(o))):(o._onUpdate(o._toValue),o.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(a,this._delay):a()},l.onUpdate=function(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))},l.stop=function(){e.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),r.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},o}(o.default);t.default=c,e.exports=t.default}).call(this,n(46))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,i){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var o=r?new Float32Array(11):new Array(11);if(e!==t||n!==i)for(var a=0;a<11;++a)o[a]=s(.1*a,e,n);function u(t){for(var r=0,i=1;10!==i&&o[i]<=t;++i)r+=.1;--i;var a=r+.1*((t-o[i])/(o[i+1]-o[i])),u=l(a,e,n);return u>=.001?function(e,t,n,r){for(var i=t,o=0;o<4;++o){var a=l(i,n,r);if(0===a)return i;var u=s(i,n,r)-e;i-=u/a}return i}(t,a,e,n):0===u?a:function(e,t,n,r,i){var o,a,l=0,u=t,c=n;do{(o=s(a=u+(c-u)/2,r,i)-e)>0?c=a:u=a}while(Math.abs(o)>1e-7&&++l<10);return a}(t,r,r+.1,e,n)}return function(r){return e===t&&n===i?r:0===r?0:1===r?1:s(u(r),t,i)}};var r="function"==typeof Float32Array;function i(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function a(e){return 3*e}function s(e,t,n){return((i(t,n)*e+o(t,n))*e+a(t))*e}function l(e,t,n){return 3*i(t,n)*e*e+2*o(t,n)*e+a(t)}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(81),i=l(n(115)),o=l(n(0)),a=l(n(2)),s=l(n(84));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e,t){(0,a.default)("function"!=typeof e||e.prototype&&e.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var n=function(n){var a,l;function d(e){var t;return(t=n.call(this,e)||this)._invokeAnimatedPropsCallbackOnMount=!1,t._eventDetachers=[],t._animatedPropsCallback=function(){if(null==t._component)t._invokeAnimatedPropsCallbackOnMount=!0;else if(d.__skipSetNativeProps_FOR_TESTS_ONLY||"function"!=typeof t._component.setNativeProps)t.forceUpdate();else{if(t._propsAnimated.__isNative)throw new Error('Attempting to run JS driven animation on animated node that has been moved to "native" earlier by starting an animation with `useNativeDriver: true`');t._component.setNativeProps(t._propsAnimated.__getAnimatedValue())}},t._setComponentRef=(0,s.default)(t.props.forwardedRef,(function(e){t._prevComponent=t._component,t._component=e,null!=e&&null==e.getNode&&(e.getNode=function(){var t;return console.warn("%s: Calling `getNode()` on the ref of an Animated component is no longer necessary. You can now directly use the ref instead. This method will be removed in a future release.",null!==(t=e.constructor.name)&&void 0!==t?t:"<<anonymous>>"),e})})),t}l=n,(a=d).prototype=Object.create(l.prototype),a.prototype.constructor=a,c(a,l);var h=d.prototype;return h.componentWillUnmount=function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents()},h.UNSAFE_componentWillMount=function(){this._attachProps(this.props)},h.componentDidMount=function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents()},h._attachNativeEvents=function(){var e=this,t=this._component&&this._component.getScrollableNode?this._component.getScrollableNode():this._component,n=function(n){var i=e.props[n];i instanceof r.AnimatedEvent&&i.__isNative&&(i.__attach(t,n),e._eventDetachers.push((function(){return i.__detach(t,n)})))};for(var i in this.props)n(i)},h._detachNativeEvents=function(){this._eventDetachers.forEach((function(e){return e()})),this._eventDetachers=[]},h._attachProps=function(e){var t=this._propsAnimated;this._propsAnimated=new i.default(e,this._animatedPropsCallback),t&&t.__detach()},h.UNSAFE_componentWillReceiveProps=function(e){this._attachProps(e)},h.componentDidUpdate=function(e){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&e===this.props||(this._detachNativeEvents(),this._attachNativeEvents())},h.render=function(){var n=this._propsAnimated.__getValue();return o.default.createElement(e,u({},t,n,{ref:this._setComponentRef}))},d}(o.default.Component);return n.__skipSetNativeProps_FOR_TESTS_ONLY=!1,e.propTypes,o.default.forwardRef((function(e,t){return o.default.createElement(n,u({},e,null==t?null:{forwardedRef:t}))}))};t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(244)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=c(n(3)),a=c(n(5)),s=c(n(89)),l=c(n(2));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=p(p({},s.default.defaultProps),{},{numColumns:1,removeClippedSubviews:!1}),_=function(e){var t,n;n=e,(t=c).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var u=c.prototype;function c(t){var n;return(n=e.call(this,t)||this)._virtualizedListPairs=[],n._captureRef=function(e){n._listRef=e},n._getItem=function(e,t){var r=n.props.numColumns;if(r>1){for(var i=[],o=0;o<r;o++){var a=e[t*r+o];null!=a&&i.push(a)}return i}return e[t]},n._getItemCount=function(e){return e?Math.ceil(e.length/n.props.numColumns):0},n._keyExtractor=function(e,t){var r=n.props,i=r.keyExtractor,o=r.numColumns;return o>1?((0,l.default)(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",o),e.map((function(e,n){return i(e,t*o+n)})).join(":")):i(e,t)},n._renderItem=function(e){var t=n.props,r=t.renderItem,s=t.numColumns,u=t.columnWrapperStyle;if(s>1){var c=e.item,d=e.index;return(0,l.default)(Array.isArray(c),"Expected array of items with numColumns > 1"),i.createElement(a.default,{style:o.default.compose(y.row,u)},c.map((function(t,n){var o=r({item:t,index:d*s+n,separators:e.separators});return null!=o?i.createElement(i.Fragment,{key:n},o):null})))}return r(e)},n._checkProps(n.props),n.props.viewabilityConfigCallbackPairs?n._virtualizedListPairs=n.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(e.onViewableItemsChanged)}})):n.props.onViewableItemsChanged&&n._virtualizedListPairs.push({viewabilityConfig:n.props.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(n.props.onViewableItemsChanged)}),n}return u.scrollToEnd=function(e){this._listRef&&this._listRef.scrollToEnd(e)},u.scrollToIndex=function(e){this._listRef&&this._listRef.scrollToIndex(e)},u.scrollToItem=function(e){this._listRef&&this._listRef.scrollToItem(e)},u.scrollToOffset=function(e){this._listRef&&this._listRef.scrollToOffset(e)},u.recordInteraction=function(){this._listRef&&this._listRef.recordInteraction()},u.flashScrollIndicators=function(){this._listRef&&this._listRef.flashScrollIndicators()},u.getScrollResponder=function(){if(this._listRef)return this._listRef.getScrollResponder()},u.getNativeScrollRef=function(){if(this._listRef)return this._listRef.getScrollRef()},u.getScrollableNode=function(){if(this._listRef)return this._listRef.getScrollableNode()},u.setNativeProps=function(e){this._listRef&&this._listRef.setNativeProps(e)},u.componentDidUpdate=function(e){(0,l.default)(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),(0,l.default)(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),(0,l.default)(!(0,r.default)(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),(0,l.default)(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)},u._checkProps=function(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,i=e.numColumns,o=e.columnWrapperStyle,a=e.onViewableItemsChanged,s=e.viewabilityConfigCallbackPairs;(0,l.default)(!t&&!n,"FlatList does not support custom data formats."),i>1?(0,l.default)(!r,"numColumns does not support horizontal."):(0,l.default)(!o,"columnWrapperStyle not supported for single column lists"),(0,l.default)(!(a&&s),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")},u._pushMultiColumnViewable=function(e,t){var n=this.props,r=n.numColumns,i=n.keyExtractor;t.item.forEach((function(n,o){(0,l.default)(null!=t.index,"Missing index!");var a=t.index*r+o;e.push(p(p({},t),{},{item:n,key:i(n,a),index:a}))}))},u._createOnViewableItemsChanged=function(e){var t=this;return function(n){var r=t.props.numColumns;if(e)if(r>1){var i=[],o=[];n.viewableItems.forEach((function(e){return t._pushMultiColumnViewable(o,e)})),n.changed.forEach((function(e){return t._pushMultiColumnViewable(i,e)})),e({viewableItems:o,changed:i})}else e(n)}},u.render=function(){return i.createElement(s.default,d({},this.props,{renderItem:this._renderItem,getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs}))},c}(i.PureComponent);_.defaultProps=g;var y=o.default.create({row:{flexDirection:"row"}}),v=_;t.default=v,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function e(t,n,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===n)return!1;if("function"==typeof t&&"function"==typeof n)return!1;if("object"!=typeof t||null===t)return t!==n;if("object"!=typeof n||null===n)return!0;if(t.constructor!==n.constructor)return!0;if(Array.isArray(t)){var i=t.length;if(n.length!==i)return!0;for(var o=0;o<i;o++)if(e(t[o],n[o],r-1))return!0}else{for(var a in t)if(e(t[a],n[a],r-1))return!0;for(var s in n)if(void 0===t[s]&&void 0!==n[s])return!0}return!1};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.attachListeners=function(){r.canUseDOM&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",b),w.forEach((function(e){document.addEventListener(e,b)})),x.forEach((function(e){document.addEventListener(e,b,!0)})),window.__reactResponderSystemActive=!0)},t.addNode=function(e,t,n){(0,a.setResponderId)(t,e),p.set(e,n)},t.removeNode=function(e){_.id===e&&S();p.has(e)&&p.delete(e)},t.terminateResponder=S,t.getResponderNode=function(){return _.node};var r=n(6),i=l(n(246)),o=n(120),a=n(247),s=l(n(119));function l(e){return e&&e.__esModule?e:{default:e}}var u={},c=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],d=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],h={touchstart:c,mousedown:c,touchmove:d,mousemove:d,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},f={id:null,idPath:null,node:null},p=new Map,m=!1,g=0,_={id:null,node:null,idPath:null};function y(e){_=e}function v(e){var t=p.get(e);return null!=t?t:u}function b(e){var t=e.type,n=e.target;if("touchstart"===t&&(m=!0),("touchmove"===t||g>1)&&(m=!1),!("mousedown"===t&&m||"mousemove"===t&&m||"mousemove"===t&&g<1))if(m&&"mouseup"===t)0===g&&(m=!1);else{var r=(0,o.isStartish)(t)&&(0,a.isPrimaryPointerDown)(e),l=(0,o.isMoveish)(t),u=(0,o.isEndish)(t),c=(0,o.isScroll)(t),d=(0,o.isSelectionChange)(t),p=(0,i.default)(e);(r||l||u)&&(e.touches?g=e.touches.length:r?g=1:u&&(g=0),s.default.recordTouchTrack(t,p.nativeEvent));var b,x=(0,a.getResponderPaths)(e),w=!1;if(r||l||c&&g>0){var S=_.idPath,E=x.idPath;if(null!=S&&null!=E){var T=(0,a.getLowestCommonAncestor)(S,E);if(null!=T){var k=E.indexOf(T)+(T===_.id?1:0);x={idPath:E.slice(k),nodePath:x.nodePath.slice(k)}}else x=null}null!=x&&null!=(b=function(e,t,n){var r=h[t.type];if(null!=r){for(var i=e.idPath,o=e.nodePath,a=r[0],s=r[1],l=r[2].bubbles,u=function(e,t,r){var o=v(e)[r];if(null!=o&&(n.currentTarget=t,!0===o(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},c=i.length-1;c>=0;c--){var d=i[c],f=o[c],p=u(d,f,a);if(null!=p)return p;if(!0===n.isPropagationStopped())return}if(l)for(var m=0;m<i.length;m++){var g=i[m],_=o[m],y=u(g,_,s);if(null!=y)return y;if(!0===n.isPropagationStopped())return}else{var b=i[0],x=o[0];if(t.target===x)return u(b,x,s)}}}(x,e,p))&&(!function(e,t){var n=_,r=n.id,i=n.node,o=t.id,a=t.node,s=v(o),l=s.onResponderGrant,u=s.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=a,null==r)null!=l&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",l(e)),y(t);else{var c=v(r),d=c.onResponderTerminate,h=c.onResponderTerminationRequest,f=!0;null!=h&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===h(e)&&(f=!1)),f?(null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=l&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",l(e)),y(t)):null!=u&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderReject",u(e))}}(p,b),w=!0)}if(null!=_.id&&null!=_.node){var C=_,P=C.id,R=C.node,O=v(P),M=O.onResponderStart,A=O.onResponderMove,I=O.onResponderEnd,D=O.onResponderRelease,L=O.onResponderTerminate,z=O.onResponderTerminationRequest;if(p.bubbles=!1,p.cancelable=!1,p.currentTarget=R,r)null!=M&&(p.dispatchConfig.registrationName="onResponderStart",M(p));else if(l)null!=A&&(p.dispatchConfig.registrationName="onResponderMove",A(p));else{var N=(0,o.isCancelish)(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(R)&&e.relatedTarget!==R||c&&0===g||c&&n.contains(R)&&n!==R||d&&(0,a.hasValidSelection)(e),F=u&&!N&&!(0,a.hasTargetTouches)(R,e.touches);if(u&&null!=I&&(p.dispatchConfig.registrationName="onResponderEnd",I(p)),F&&(null!=D&&(p.dispatchConfig.registrationName="onResponderRelease",D(p)),y(f)),N){var B=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(w?B=!1:null!=z&&(p.dispatchConfig.registrationName="onResponderTerminationRequest",!1===z(p)&&(B=!1))),B&&(null!=L&&(p.dispatchConfig.registrationName="onResponderTerminate",L(p)),y(f),m=!1,g=0)}}}}}var x=["blur","scroll"],w=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function S(){var e=_,t=e.id,n=e.node;if(null!=t&&null!=n){var r=v(t).onResponderTerminate;if(null!=r){var o=(0,i.default)({});o.currentTarget=n,r(o)}y(f)}m=!1,g=0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t,n,o,c=!1,d=e.changedTouches,h=e.type,f=!0===e.metaKey,p=!0===e.shiftKey,m=d&&d[0].force||0,g=u(d&&d[0].identifier||0),_=d&&d[0].clientX||e.clientX,y=d&&d[0].clientY||e.clientY,v=d&&d[0].pageX||e.pageX,b=d&&d[0].pageY||e.pageY,x="function"==typeof e.preventDefault?e.preventDefault.bind(e):a,w=e.timeStamp;function S(e){return Array.prototype.slice.call(e).map((function(e){return{force:e.force,identifier:u(e.identifier),get locationX(){return k(e.clientX)},get locationY(){return C(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:w}}))}if(null!=d)n=S(d),o=S(e.touches);else{var E=[{force:m,identifier:g,get locationX(){return k(_)},get locationY(){return C(y)},pageX:v,pageY:b,target:e.target,timestamp:w}];n=E,o="mouseup"===h||"dragstart"===h?l:E}var T={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:s,eventPhase:e.eventPhase,isDefaultPrevented:function(){return e.defaultPrevented},isPropagationStopped:function(){return c},isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:f,shiftKey:p,changedTouches:n,force:m,identifier:g,get locationX(){return k(_)},get locationY(){return C(y)},pageX:v,pageY:b,target:e.target,timestamp:w,touches:o,type:h},persist:a,preventDefault:x,stopPropagation:function(){c=!0},target:e.target,timeStamp:w,touchHistory:i.default.touchHistory};function k(e){if(t=t||(0,r.default)(T.currentTarget))return e-t.left}function C(e){if(t=t||(0,r.default)(T.currentTarget))return e-t.top}return T};var r=o(n(110)),i=o(n(119));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){},s={},l=[];function u(e){return e>20?e%20:e}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.setResponderId=function(e,t){null!=e&&(e.__reactResponderId=t)},t.getResponderPaths=function(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?o(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():o(e.target)}(e),i=0;i<r.length;i++){var s=r[i],l=a(s);null!=l&&(t.push(l),n.push(s))}return{idPath:t,nodePath:n}},t.getLowestCommonAncestor=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],o=0,a=t[0],s=0;n-r>0&&(i=e[o=n-r],n=r);r-n>0&&(a=t[s=r-n],r=n);var l=n;for(;l--;){if(i===a)return i;i=e[o++],a=t[s++]}return null},t.hasTargetTouches=function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1},t.hasValidSelection=function(e){if("selectionchange"===e.type)return(0,i.default)();return"select"===e.type},t.isPrimaryPointerDown=function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,o=e.type,a="mousedown"===o&&(0===n||1===r),s="mousemove"===o&&1===r,l=!1===t&&!1===i;if("touchstart"===o||"touchmove"===o||a&&l||s&&l)return!0;return!1};var r,i=(r=n(248))&&r.__esModule?r:{default:r};function o(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function a(e){return null!=e?e.__reactResponderId:null}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=window.getSelection(),t=e.toString(),n=e.anchorNode,r=e.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return t.length>=1&&"\n"!==t&&i},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(45))&&r.__esModule?r:{default:r};var o=function(){function e(e,t){this._delay=t,this._callback=e}var t=e.prototype;return t.dispose=function(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)},t.schedule=function(){var e=this;if(!this._taskHandle){var t=setTimeout((function(){e._taskHandle=i.default.runAfterInteractions((function(){e._taskHandle=null,e._callback()}))}),this._delay);this._taskHandle={cancel:function(){return clearTimeout(t)}}}},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(251)),i=o(n(43));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},c=[],d=10,h=null,f=function(){function e(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new u,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(h||0)>Math.random(),this._resetData()}e.addListener=function(e){return(0,i.default)(null!==h,"Call `FillRateHelper.setSampleRate` before `addListener`."),c.push(e),{remove:function(){c=c.filter((function(t){return e!==t}))}}},e.setSampleRate=function(e){h=e},e.setMinSampleCount=function(e){d=e};var t=e.prototype;return t.activate=function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=(0,r.default)())},t.deactivateAndFlush=function(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<d)this._resetData();else{var t=(0,r.default)()-e,n=s(s({},this._info),{},{total_time_spent:t});c.forEach((function(e){return e(n)})),this._resetData()}}},t.computeBlankness=function(e,t,n){if(!this._enabled||0===e.getItemCount(e.data)||null==this._samplesStartTime)return 0;var i=n.dOffset,o=n.offset,a=n.velocity,s=n.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(s),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(1e3*Math.abs(a)),u=(0,r.default)();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,d=t.first,h=this._getFrameMetrics(d);d<=t.last&&(!h||!h.inLayout);)h=this._getFrameMetrics(d),d++;h&&d>0&&(c=Math.min(s,Math.max(0,h.offset-o)));for(var f=0,p=t.last,m=this._getFrameMetrics(p);p>=t.first&&(!m||!m.inLayout);)m=this._getFrameMetrics(p),p--;if(m&&p<e.getItemCount(e.data)-1){var g=m.offset+m.length;f=Math.min(s,Math.max(0,o+s-g))}var _=Math.round(c+f),y=_/s;return y>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=_,y>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(l<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),y},t.enabled=function(){return this._enabled},t._resetData=function(){this._anyBlankStartTime=null,this._info=new u,this._mostlyBlankStartTime=null,this._samplesStartTime=null},e}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r=n(252),i=Date.now();e.exports=r.now?function(){return r.now()}:function(){return Date.now()-i}},function(e,t,n){"use strict";var r;n(6).canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){e.exports=n(254)()},function(e,t,n){"use strict";var r=n(255);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(0),i=n(257);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){"use strict";var r=n(80),i={};function o(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=function(e,t,n){var a=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(o(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return o("DEFINE_MANY_MERGED"===(l.hasOwnProperty(n)?l[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=f(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function c(e,t){var n=s.hasOwnProperty(t)?s[t]:null;y.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var a in n.hasOwnProperty("mixins")&&u.mixins(e,n.mixins),n)if(n.hasOwnProperty(a)&&"mixins"!==a){var l=n[a],d=r.hasOwnProperty(a);if(c(d,a),u.hasOwnProperty(a))u[a](e,l);else{var h=s.hasOwnProperty(a);if("function"==typeof l&&!h&&!d&&!1!==n.autobind)i.push(a,l),r[a]=l;else if(d){var m=s[a];o(h&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?r[a]=f(r[a],l):"DEFINE_MANY"===m&&(r[a]=p(r[a],l))}else r[a]=l}}}else;}function h(e,t){for(var n in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return h(i,n),h(i,r),i}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},_={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},v=function(){};return r(v.prototype,e.prototype,y),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=m(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new v,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,_),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(38)),i=c(n(29)),o=c(n(2)),a=c(n(51)),s=c(n(90)),l=c(n(20)),u=c(n(43));function c(e){return e&&e.__esModule?e:{default:e}}var d={},h={Mixin:{scrollResponderMixinGetInitialState:function(){return{isTouching:!1,lastMomentumScrollBeginTime:0,lastMomentumScrollEndTime:0,observedScrollSinceBecomingResponder:!1,becameResponderWhileAnimating:!1}},scrollResponderHandleScrollShouldSetResponder:function(){return this.state.isTouching},scrollResponderHandleStartShouldSetResponder:function(){return!1},scrollResponderHandleStartShouldSetResponderCapture:function(e){return this.scrollResponderIsAnimating()},scrollResponderHandleResponderReject:function(){(0,u.default)(!1,"ScrollView doesn't take rejection well - scrolls anyway")},scrollResponderHandleTerminationRequest:function(){return!this.state.observedScrollSinceBecomingResponder},scrollResponderHandleTouchEnd:function(e){var t=e.nativeEvent;this.state.isTouching=0!==t.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},scrollResponderHandleResponderRelease:function(e){this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=s.default.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==t||e.target===t||this.state.observedScrollSinceBecomingResponder||this.state.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),s.default.blurTextInput(t))},scrollResponderHandleScroll:function(e){this.state.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},scrollResponderHandleResponderGrant:function(e){this.state.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.state.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},scrollResponderHandleScrollBeginDrag:function(e){this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},scrollResponderHandleScrollEndDrag:function(e){this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},scrollResponderHandleMomentumScrollBegin:function(e){this.state.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},scrollResponderHandleMomentumScrollEnd:function(e){this.state.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},scrollResponderHandleTouchStart:function(e){this.state.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},scrollResponderHandleTouchMove:function(e){this.props.onTouchMove&&this.props.onTouchMove(e)},scrollResponderIsAnimating:function(){return Date.now()-this.state.lastMomentumScrollEndTime<16||this.state.lastMomentumScrollEndTime<this.state.lastMomentumScrollBeginTime},scrollResponderGetScrollableNode:function(){return this.getScrollableNode?this.getScrollableNode():(0,i.default)(this)},scrollResponderScrollTo:function(e,t,n){if("number"==typeof e)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||d;e=r.x,t=r.y,n=r.animated}var i=this.scrollResponderGetScrollableNode(),o=e||0,a=t||0;"function"==typeof i.scroll?i.scroll({top:a,left:o,behavior:n?"smooth":"auto"}):(i.scrollLeft=o,i.scrollTop=a)},scrollResponderZoomTo:function(e,t){"ios"!==a.default.OS&&(0,o.default)("zoomToRect is not implemented")},scrollResponderFlashScrollIndicators:function(){},scrollResponderScrollNativeHandleToKeyboard:function(e,t,n){this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!n,l.default.measureLayout(e,(0,i.default)(this.getInnerViewNode()),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},scrollResponderInputMeasureAndScrollToKeyboard:function(e,t,n,i){var o=r.default.get("window").height;this.keyboardWillOpenTo&&(o=this.keyboardWillOpenTo.endCoordinates.screenY);var a=t-o+i+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(a=Math.max(0,a)),this.scrollResponderScrollTo({x:0,y:a,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},scrollResponderTextInputFocusError:function(e){console.error("Error measuring text field: ",e)},UNSAFE_componentWillMount:function(){this.keyboardWillOpenTo=null,this.additionalScrollOffset=0},scrollResponderKeyboardWillShow:function(e){this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},scrollResponderKeyboardWillHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},scrollResponderKeyboardDidShow:function(e){e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},scrollResponderKeyboardDidHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)}}};t.default=h,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=s(n(3)),o=s(n(5)),a=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var d=(0,r.forwardRef)((function(e,t){var n=e.onScroll,i=e.onTouchMove,s=e.onWheel,l=e.scrollEnabled,d=void 0===l||l,f=e.scrollEventThrottle,p=void 0===f?0:f,m=e.showsHorizontalScrollIndicator,g=e.showsVerticalScrollIndicator,_=e.style,y=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"]),v=(0,r.useRef)({isScrolling:!1,scrollLastTick:0}),b=(0,r.useRef)(null),x=(0,r.useRef)(null);function w(e){return function(t){d&&e&&e(t)}}function S(e){v.current.scrollLastTick=Date.now(),n&&n(c(e))}var E=!1===m||!1===g;return r.createElement(o.default,u({},y,{onScroll:function(e){var t,r,i;e.stopPropagation(),e.target===x.current&&(e.persist(),null!=b.current&&clearTimeout(b.current),b.current=setTimeout((function(){!function(e){v.current.isScrolling=!1,n&&n(c(e))}(e)}),100),v.current.isScrolling?(t=v.current.scrollLastTick,r=p,i=Date.now()-t,r>0&&i>=r&&S(e)):function(e){v.current.isScrolling=!0,S(e)}(e))},onTouchMove:w(i),onWheel:w(s),ref:(0,a.default)(x,t),style:[_,!d&&h.scrollDisabled,E&&h.hideScrollbar]}))})),h=i.default.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}}),f=d;t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,i))return!0;var a=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,i);return 100*(e?a/i:a/o)>=t}var d=function(){function e(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}var t=e.prototype;return t.dispose=function(){this._timers.forEach(clearTimeout)},t.computeViewableItems=function(e,t,n,r,o){var a=this._config,s=a.itemVisiblePercentThreshold,l=a.viewAreaCoveragePercentThreshold,u=null!=l,d=u?l:s;(0,i.default)(null!=d&&null!=s!=(null!=l),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var h=[];if(0===e)return h;var f=-1,p=o||{first:0,last:e-1},m=p.first,g=p.last;if(g>=e)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:o,itemCount:e})),[];for(var _=m;_<=g;_++){var y=r(_);if(y){var v=y.offset-t,b=v+y.length;if(v<n&&b>0)f=_,c(u,d,v,b,n,y.length)&&h.push(_);else if(f>=0)break}}return h},t.onUpdate=function(e,t,n,r,i,o,a){var s=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==e&&r(0)){var l=[];if(e&&(l=this.computeViewableItems(e,t,n,r,a)),this._viewableIndices.length!==l.length||!this._viewableIndices.every((function(e,t){return e===l[t]})))if(this._viewableIndices=l,this._config.minimumViewTime){var u=setTimeout((function(){s._timers.delete(u),s._onUpdateSync(l,o,i)}),this._config.minimumViewTime);this._timers.add(u)}else this._onUpdateSync(l,o,i)}},t.resetViewableIndices=function(){this._viewableIndices=[]},t.recordInteraction=function(){this._hasInteracted=!0},t._onUpdateSync=function(e,t,n){var r=this;e=e.filter((function(e){return r._viewableIndices.includes(e)}));for(var i,o=this._viewableItems,s=new Map(e.map((function(e){var t=n(e,!0);return[t.key,t]}))),u=[],c=l(s);!(i=c()).done;){var d=i.value,h=d[0],f=d[1];o.has(h)||u.push(f)}for(var p,m=l(o);!(p=m()).done;){var g=p.value,_=g[0],y=g[1];s.has(_)||u.push(a(a({},y),{},{isViewable:!1}))}u.length>0&&(this._viewableItems=s,t({viewableItems:Array.from(s.values()),changed:u,viewabilityConfig:this._config}))},e}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){var e;return(e=console).log.apply(e,arguments)};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.computeWindowedRenderLimits=s,t.elementsThatOverlapOffsets=o,t.newRangeCount=a,t.default=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function o(e,t,n){for(var r=[],o=0,a=0;a<t;a++)for(var s=n(a),l=s.offset+s.length,u=0;u<e.length;u++)if(null==r[u]&&l>=e[u]&&(r[u]=a,o++,u===e.length-1))return(0,i.default)(o===e.length,"bad offsets input, should be in increasing order: %s",JSON.stringify(e)),r;return r}function a(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}function s(e,t,n,r){var i=e.data,s=e.getItemCount,l=e.maxToRenderPerBatch,u=e.windowSize,c=s(i);if(0===c)return t;var d=r.offset,h=r.velocity,f=r.visibleLength,p=Math.max(0,d),m=p+f,g=(u-1)*f,_=h>1?"after":h<-1?"before":"none",y=Math.max(0,p-.5*g),v=Math.max(0,m+.5*g);if(n(c-1).offset<y)return{first:Math.max(0,c-1-l),last:c-1};var b=o([y,p,m,v],e.getItemCount(e.data),n),x=b[0],w=b[1],S=b[2],E=b[3];x=null==x?0:x,E=null==E?c-1:E;for(var T={first:w=null==w?Math.max(0,x):w,last:S=null==S?Math.min(E,w+l-1):S},k=a(t,T);!(w<=x&&S>=E);){var C=k>=l,P=w<=t.first||w>t.last,R=w>x&&(!C||!P),O=S>=t.last||S<t.first,M=S<E&&(!C||!O);if(C&&!R&&!M)break;!R||"after"===_&&M&&O||(P&&k++,w--),!M||"before"===_&&R&&P||(O&&k++,S++)}if(!(S>=w&&w>=0&&S<c&&w>=x&&S<=E&&w<=T.first&&S>=T.last))throw new Error("Bad window calculation "+JSON.stringify({first:w,last:S,itemCount:c,overscanFirst:x,overscanLast:E,visible:T}));return{first:w,last:S}}var l={computeWindowedRenderLimits:s,elementsThatOverlapOffsets:o,newRangeCount:a};t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.registerAsset=function(e){return r.push(e)},t.getAssetByID=function(e){return r[e-1]};var r=[]},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ImageUriCache=void 0;var r=/^data:/,i=function(){function e(){}return e.has=function(t){var n=e._entries;return r.test(t)||Boolean(n[t])},e.add=function(t){var n=e._entries,r=Date.now();n[t]?(n[t].lastUsedTimestamp=r,n[t].refCount+=1):n[t]={lastUsedTimestamp:r,refCount:1}},e.remove=function(t){var n=e._entries;n[t]&&(n[t].refCount-=1),e._cleanUpIfNeeded()},e._cleanUpIfNeeded=function(){var t,n,r=e._entries,i=Object.keys(r);i.length+1>e._maximumEntries&&(i.forEach((function(e){var i=r[e];(!n||i.lastUsedTimestamp<n.lastUsedTimestamp)&&0===i.refCount&&(t=e,n=i)})),t&&delete r[t])},e}();t.ImageUriCache=i,i._maximumEntries=256,i._entries={};var o=0,a={},s={abort:function(e){var t=a[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete a[""+e])},getSize:function(e,t,n){var r=!1,i=setInterval(l,16),o=s.load(e,l,(function(){"function"==typeof n&&n();s.abort(o),clearInterval(i)}));function l(){var e=a[""+o];if(e){var n=e.naturalHeight,l=e.naturalWidth;n&&l&&(t(l,n),r=!0)}r&&(s.abort(o),clearInterval(i))}},has:function(e){return i.has(e)},load:function(e,t,n){o+=1;var r=new window.Image;return r.onerror=n,r.onload=function(e){var n=function(){return t({nativeEvent:e})};"function"==typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,a[""+o]=r,o},prefetch:function(e){return new Promise((function(t,n){s.load(e,(function(){i.add(e),i.remove(e),t()}),n)}))},queryCache:function(e){var t={};return e.forEach((function(e){i.has(e)&&(t[e]="disk/memory")})),Promise.resolve(t)}},l=s;t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(51)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=(s(n(50)),s(n(266)));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=d(d({},o.default.defaultProps),{},{stickySectionHeadersEnabled:"ios"===r.default.OS}),p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._captureRef=function(e){t._wrapperListRef=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var a=r.prototype;return a.scrollToLocation=function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)},a.recordInteraction=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()},a.flashScrollIndicators=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()},a.getScrollResponder=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()},a.getScrollableNode=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()},a.setNativeProps=function(e){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.setNativeProps(e)},a.render=function(){return i.createElement(o.default,l({},this.props,{ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))},r}(i.PureComponent);p.defaultProps=f;var m=p;t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=s(n(5)),o=s(n(89)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){p(n,e);var t=n.prototype;function n(t,n){var i;return(i=e.call(this,t,n)||this)._keyExtractor=function(e,t){var n=i._subExtractor(t);return n&&n.key||String(t)},i._convertViewable=function(e){(0,a.default)(null!=e.index,"Received a broken ViewToken");var t=i._subExtractor(e.index);if(!t)return null;var n=t.section.keyExtractor||i.props.keyExtractor;return d(d({},e),{},{index:t.index,key:n(e.item,t.index),section:t.section})},i._onViewableItemsChanged=function(e){var t=e.viewableItems,n=e.changed;i.props.onViewableItemsChanged&&i.props.onViewableItemsChanged({viewableItems:t.map(i._convertViewable,f(i)).filter(Boolean),changed:n.map(i._convertViewable,f(i)).filter(Boolean)})},i._renderItem=function(e){var t=e.item,n=e.index,o=i._subExtractor(n);if(!o)return null;var s=o.index;if(null==s){var l=o.section;if(!0===o.header){var u=i.props.renderSectionHeader;return u?u({section:l}):null}var c=i.props.renderSectionFooter;return c?c({section:l}):null}var d=o.section.renderItem||i.props.renderItem,h=i._getSeparatorComponent(n,o);return(0,a.default)(d,"no renderItem!"),r.createElement(_,{SeparatorComponent:h,LeadingSeparatorComponent:0===s?i.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:s,item:t,leadingItem:o.leadingItem,leadingSection:o.leadingSection,onUpdateSeparator:i._onUpdateSeparator,prevCellKey:(i._subExtractor(n-1)||{}).key,ref:function(e){i._cellRefs[o.key]=e},renderItem:d,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection})},i._onUpdateSeparator=function(e,t){var n=i._cellRefs[e];n&&n.updateSeparatorProps(t)},i._cellRefs={},i._captureRef=function(e){i._listRef=e},i.state=i._computeState(t),i}return t.scrollToLocation=function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=0;e.itemIndex>0&&this.props.stickySectionHeadersEnabled&&(r=this._listRef._getFrameMetricsApprox(t-e.itemIndex).length);var i=d(d({},e),{},{viewOffset:r,index:t});this._listRef.scrollToIndex(i)},t.getListRef=function(){return this._listRef},t.UNSAFE_componentWillReceiveProps=function(e){this.setState(this._computeState(e))},t._computeState=function(e){var t=e.ListHeaderComponent?1:0,n=[],r=e.sections?e.sections.reduce((function(r,i){return n.push(r+t),r+e.getItemCount(i.data)+2}),0):0;return{childProps:d(d({},e),{},{renderItem:this._renderItem,ItemSeparatorComponent:void 0,data:e.sections,getItemCount:function(){return r},getItem:function(t,n){return function(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var o=t[i],a=o.data,s=e.getItemCount(a);if(-1===r||r===s)return o;if(r<s)return e.getItem(a,r);r-=s+2}return null}(e,t,n)},keyExtractor:this._keyExtractor,onViewableItemsChanged:e.onViewableItemsChanged?this._onViewableItemsChanged:void 0,stickyHeaderIndices:e.stickySectionHeadersEnabled?n:void 0})}},t.render=function(){return r.createElement(o.default,u({},this.state.childProps,{ref:this._captureRef}))},t._subExtractor=function(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,o=n.keyExtractor,a=n.sections,s=0;s<a.length;s++){var l=a[s],u=l.data,c=l.key||String(s);if(!((t-=1)>=i(u)+1))return-1===t?{section:l,key:c+":header",index:null,header:!0,trailingSection:a[s+1]}:t===i(u)?{section:l,key:c+":footer",index:null,header:!1,trailingSection:a[s+1]}:{section:l,key:c+":"+(l.keyExtractor||o)(r(u,t),t),index:t,leadingItem:r(u,t-1),leadingSection:a[s-1],trailingItem:r(u,t+1),trailingSection:a[s+1]};t-=i(u)+1}},t._getSeparatorComponent=function(e,t){if(!(t=t||this._subExtractor(e)))return null;var n=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,r=this.props.SectionSeparatorComponent,i=e===this.state.childProps.getItemCount()-1,o=t.index===this.props.getItemCount(t.section.data)-1;return r&&o?r:!n||o||i?null:n},n}(r.PureComponent);g.defaultProps=d(d({},o.default.defaultProps),{},{data:[]});var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={separatorProps:{highlighted:!1,leadingItem:t.props.item,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.trailingItem,trailingSection:t.props.trailingSection},leadingSeparatorProps:{highlighted:!1,leadingItem:t.props.leadingItem,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.item,trailingSection:t.props.trailingSection}},t._separators={highlight:function(){["leading","trailing"].forEach((function(e){return t._separators.updateProps(e,{highlighted:!0})}))},unhighlight:function(){["leading","trailing"].forEach((function(e){return t._separators.updateProps(e,{highlighted:!1})}))},updateProps:function(e,n){var r=t.props,i=r.LeadingSeparatorComponent,o=r.cellKey,a=r.prevCellKey;"leading"===e&&null!=i?t.setState((function(e){return{leadingSeparatorProps:d(d({},e.leadingSeparatorProps),n)}})):t.props.onUpdateSeparator("leading"===e&&a||o,n)}},t}p(t,e),t.getDerivedStateFromProps=function(e,t){return{separatorProps:d(d({},t.separatorProps),{},{leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),leadingSeparatorProps:d(d({},t.leadingSeparatorProps),{},{leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection})}};var n=t.prototype;return n.updateSeparatorProps=function(e){this.setState((function(t){return{separatorProps:d(d({},t.separatorProps),e)}}))},n.render=function(){var e=this.props,t=e.LeadingSeparatorComponent,n=e.SeparatorComponent,o=e.item,a=e.index,s=e.section,l=this.props.renderItem({item:o,index:a,section:s,separators:this._separators}),u=t&&r.createElement(t,this.state.leadingSeparatorProps),c=n&&r.createElement(n,this.state.separatorProps);return u||c?r.createElement(i.default,null,u,l,c):l},t}(r.Component);var y=g;t.default=y,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(2)),i=s(n(109)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(268));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}var l,u={},c={},d=function(e){return e()},h=function(){function e(){}return e.getAppKeys=function(){return Object.keys(c)},e.getApplication=function(e,t){return(0,r.default)(c[e]&&c[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),c[e].getApplication(t)},e.registerComponent=function(e,t){return c[e]={getApplication:function(e){return(0,o.getApplication)(d(t),e?e.initialProps:u,l&&l(e))},run:function(e){return(0,o.default)(d(t),l&&l(e),e.callback,{hydrate:e.hydrate||!1,initialProps:e.initialProps||u,rootTag:e.rootTag})}},e},e.registerConfig=function(t){t.forEach((function(t){var n=t.appKey,i=t.component,o=t.run;o?e.registerRunnable(n,o):((0,r.default)(i,"No component provider passed in"),e.registerComponent(n,i))}))},e.registerRunnable=function(e,t){return c[e]={run:t},e},e.runApplication=function(e,t){(0,r.default)(c[e]&&c[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),c[e].run(t)},e.setComponentProviderInstrumentationHook=function(e){d=e},e.setWrapperComponentProvider=function(e){l=e},e.unmountApplicationComponentAtRootTag=function(e){(0,i.default)(e)},e}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,a){var l=a.hydrate,u=a.initialProps,c=a.rootTag,d=l?o.hydrate:o.default;(0,i.default)(c,"Expect to have a valid rootTag, instead got ",c),d(s.default.createElement(r.default,{WrapperComponent:t,rootTag:c},s.default.createElement(e,u)),c,n)},t.getApplication=function(e,t,n){return{element:s.default.createElement(r.default,{WrapperComponent:n,rootTag:{}},s.default.createElement(e,t)),getStyleElement:function(e){var t=a.default.getStyleSheet();return s.default.createElement("style",c({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}}};var r=u(n(269)),i=u(n(2)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(108)),a=u(n(76)),s=u(n(0));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.children,n=e.WrapperComponent,r=o.default.createElement(i.default,{children:t,key:1,pointerEvents:"box-none",style:u.appContainer});n&&(r=o.default.createElement(n,null,r));return o.default.createElement(l.Provider,{value:e.rootTag},o.default.createElement(i.default,{pointerEvents:"box-none",style:u.appContainer},r))};var r=s(n(3)),i=s(n(5)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.createContext)(null);var u=r.default.create({appContainer:{flex:1}});e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(6),i=a(n(271)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=r.canUseDOM&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),u=["change","memoryWarning"],c=l?"webkitvisibilitychange":"visibilitychange",d=l?"webkitVisibilityState":"visibilityState",h="background",f="active",p=[],m=function(){function e(){}var t,n,r;return e.addEventListener=function(t,n){if(e.isAvailable&&((0,o.default)(-1!==u.indexOf(t),'Trying to subscribe to unknown event: "%s"',t),"change"===t)){var r=function(){return n(e.currentState)};p.push([n,r]),document.addEventListener(c,r,!1)}},e.removeEventListener=function(t,n){if(e.isAvailable&&((0,o.default)(-1!==u.indexOf(t),'Trying to remove listener for unknown event: "%s"',t),"change"===t)){var r=(0,i.default)(p,(function(e){return e[0]===n}));(0,o.default)(-1!==r,"Trying to remove AppState listener for unregistered handler");var a=p[r][1];document.removeEventListener(c,a,!1),p.splice(r,1)}},t=e,r=[{key:"currentState",get:function(){if(!e.isAvailable)return f;switch(document[d]){case"hidden":case"prerender":case"unloaded":return h;default:return f}}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=m,m.isAvailable=r.canUseDOM&&document[d],e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t,n){if("function"==typeof Array.prototype.findIndex)return e.findIndex(t,n);if("function"!=typeof t)throw new TypeError("predicate must be a function");var r=Object(e),i=r.length;if(0===i)return-1;for(var o=0;o<i;o++)if(t.call(n,r[o],o,r))return o;return-1}},function(e,t,n){"use strict";function r(){}t.__esModule=!0,t.default=void 0;var i={exitApp:r,addEventListener:function(){return{remove:r}},removeEventListener:r};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=function(){function e(){}return e.isAvailable=function(){return void 0===r&&(r="function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),r},e.getString=function(){return Promise.resolve("")},e.setString=function(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.userSelect="auto",n.appendChild(r);var i=window.getSelection();i.removeAllRanges();var o=document.createRange();o.selectNodeContents(r),i.addRange(o);try{document.execCommand("copy"),t=!0}catch(e){}i.removeAllRanges(),n.removeChild(r)}return t},e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=n(6),o=(r=n(38))&&r.__esModule?r:{default:r};var a={Dimensions:{get windowPhysicalPixels(){var e=o.default.get("window"),t=e.width,n=e.height,r=e.fontScale,i=e.scale;return{width:t*i,height:n*i,scale:i,fontScale:r}},get screenPhysicalPixels(){var e=o.default.get("screen"),t=e.width,n=e.height,r=e.fontScale,i=e.scale;return{width:t*i,height:n*i,scale:i,fontScale:r}}},get locale(){if(i.canUseDOM)return window.navigator.languages?window.navigator.languages[0]:window.navigator.language},get totalMemory(){return i.canUseDOM?window.navigator.deviceMemory:void 0},get userAgent(){return i.canUseDOM?window.navigator.userAgent:""}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(116))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(122))&&r.__esModule?r:{default:r};var o={addListener:function(){return{remove:function(){}}},dismiss:function(){(0,i.default)()},removeAllListeners:function(){},removeListener:function(){}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(278))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(51)),i=o(n(20));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){r.default.isTesting||i.default.configureNextLayoutAnimation(e,null!=t?t:function(){},(function(){}))}function s(e,t,n){return{duration:e,create:{type:t,property:n},update:{type:t},delete:{type:t,property:n}}}var l={easeInEaseOut:s(300,"easeInEaseOut","opacity"),linear:s(500,"linear","opacity"),spring:{duration:700,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}},u={configureNext:a,create:s,Types:Object.freeze({spring:"spring",linear:"linear",easeInEaseOut:"easeInEaseOut",easeIn:"easeIn",easeOut:"easeOut",keyboard:"keyboard"}),Properties:Object.freeze({opacity:"opacity",scaleX:"scaleX",scaleY:"scaleY",scaleXY:"scaleXY"}),checkConfig:function(){console.error("LayoutAnimation.checkConfig(...) has been disabled.")},Presets:l,easeInEaseOut:a.bind(null,l.easeInEaseOut),linear:a.bind(null,l.linear),spring:a.bind(null,l.spring)};t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=n(6),o=(r=n(2))&&r.__esModule?r:{default:r};var a=i.canUseDOM?window.location.href:"",s=function(){function e(){var e=this;this._eventCallbacks={},this.addEventListener=function(t,n){e._eventCallbacks[t]?e._eventCallbacks[t].push(n):e._eventCallbacks[t]=[n]},this.removeEventListener=function(t,n){var r=e._eventCallbacks[t].filter((function(e){return e.toString()!==n.toString()}));e._eventCallbacks[t]=r}}var t=e.prototype;return t._dispatchEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._eventCallbacks[e];null!=i&&Array.isArray(i)&&i.map((function(e){e.apply(void 0,n)}))},t.canOpenURL=function(){return Promise.resolve(!0)},t.getInitialURL=function(){return Promise.resolve(a)},t.openURL=function(e){try{return l(e),this._dispatchEvent("onOpen",e),Promise.resolve()}catch(e){return Promise.reject(e)}},t._validateURL=function(e){(0,o.default)("string"==typeof e,"Invalid URL: should be a string. Was: "+e),(0,o.default)(e,"Invalid URL: cannot be empty")},e}(),l=function(e){if(i.canUseDOM){var t=new URL(e,window.location).toString();window.open(t,"_blank","noopener")}},u=new s;t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(111))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(282))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(45)),i=o(n(283));function o(e){return e&&e.__esModule?e:{default:e}}var a=i.default.currentCentroidXOfTouchesChangedAfter,s=i.default.currentCentroidYOfTouchesChangedAfter,l=i.default.previousCentroidXOfTouchesChangedAfter,u=i.default.previousCentroidYOfTouchesChangedAfter,c=i.default.currentCentroidX,d=i.default.currentCentroidY,h={_initializeGestureState:function(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=a(t,e._accountsForMovesUpTo),e.moveY=s(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=l(t,n),i=a(t,n),o=u(t,n),c=s(t,n),d=e.dx+(i-r),h=e.dy+(c-o),f=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(d-e.dx)/f,e.vy=(h-e.dy)/f,e.dx=d,e.dy=h,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var t={handle:null,shouldCancelClick:!1,timeout:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(t){return null!=e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return null!=e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&h._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,null!=e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var r=t.touchHistory;return h._updateGestureStateOnMove(n,r),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n)},onResponderGrant:function(i){return t.handle||(t.handle=r.default.createInteractionHandle()),t.timeout&&function(e){clearTimeout(e.timeout)}(t),t.shouldCancelClick=!0,n.x0=c(i.touchHistory),n.y0=d(i.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(i,n),null==e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder(i,n)},onResponderReject:function(r){f(t,e.onPanResponderReject,r,n)},onResponderRelease:function(r){f(t,e.onPanResponderRelease,r,n),p(t),h._initializeGestureState(n)},onResponderStart:function(t){var r=t.touchHistory;n.numberActiveTouches=r.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove:function(t){var r=t.touchHistory;h._updateGestureStateOnMove(n,r),e.onPanResponderMove&&e.onPanResponderMove(t,n)},onResponderEnd:function(r){var i=r.touchHistory;n.numberActiveTouches=i.numberActiveTouches,f(t,e.onPanResponderEnd,r,n)},onResponderTerminate:function(r){f(t,e.onPanResponderTerminate,r,n),p(t),h._initializeGestureState(n)},onResponderTerminationRequest:function(t){return null==e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n)},onClickCapture:function(e){!0===t.shouldCancelClick&&(e.stopPropagation(),e.preventDefault())}},getInteractionHandle:function(){return t.handle}}}};function f(e,t,n,i){e.handle&&(r.default.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,i)}function p(e){e.timeout=setTimeout((function(){e.shouldCancelClick=!1}),250)}var m=h;t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={centroidDimension:function(e,t,n,i){var o=e.touchBank,a=0,s=0,l=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==l)l.touchActive&&l.currentTimeStamp>t&&(a+=i&&n?l.currentPageX:i&&!n?l.currentPageY:!i&&n?l.previousPageX:l.previousPageY,s=1);else for(var u=0;u<o.length;u++){var c=o[u];if(null!=c&&c.touchActive&&c.currentTimeStamp>=t){a+=i&&n?c.currentPageX:i&&!n?c.currentPageY:!i&&n?c.previousPageX:c.previousPageY,s++}}return s>0?a/s:r.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return r.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return r.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return r.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return r.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return r.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return r.centroidDimension(e,0,!1,!0)},noCentroid:-1},i=r;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n,r;return e.share=function(e,t){return void 0===t&&(t={}),(0,i.default)("object"==typeof e&&null!==e,"Content to share must be a valid object"),(0,i.default)("string"==typeof e.url||"string"==typeof e.message,"At least one of URL and message is required"),(0,i.default)("object"==typeof t&&null!==t,"Options must be a valid object"),(0,i.default)(!e.title||"string"==typeof e.title,"Invalid title: title should be a string."),void 0!==window.navigator.share?window.navigator.share({title:e.title,text:e.message,url:e.url}):Promise.reject(new Error("Share is not supported in this browser"))},t=e,r=[{key:"sharedAction",get:function(){return"sharedAction"}},{key:"dismissedAction",get:function(){return"dismissedAction"}}],(n=null)&&o(t.prototype,n),r&&o(t,r),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){"vibrate"in window.navigator&&window.navigator.vibrate(e)},i={cancel:function(){r(0)},vibrate:function(e){void 0===e&&(e=400),r(e)}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),i=s(n(5)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={max:1,min:0},c=function(e){return o.default.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e})},d=(0,o.forwardRef)((function(e,t){var n=e.animating,r=void 0===n||n,a=e.color,s=void 0===a?"#1976D2":a,d=e.hidesWhenStopped,p=void 0===d||d,m=e.size,g=void 0===m?"small":m,_=e.style,y=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["animating","color","hidesWhenStopped","size","style"]),v=o.default.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},c({stroke:s,opacity:.2}),c({stroke:s,strokeDasharray:80,strokeDashoffset:60}));return o.default.createElement(i.default,l({},y,{accessibilityRole:"progressbar",accessibilityValue:u,ref:t,style:[h.container,_]}),o.default.createElement(i.default,{children:v,style:["number"==typeof g?{height:g,width:g}:f[g],h.animation,!r&&h.animationPause,!r&&p&&h.hidesWhenStopped]}))}));d.displayName="ActivityIndicator";var h=r.default.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:[{rotate:"0deg"}]},"100%":{transform:[{rotate:"360deg"}]}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),f=r.default.create({small:{width:20,height:20},large:{width:36,height:36}}),p=d;t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=s(n(3)),o=s(n(127)),a=s(n(92));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=r.forwardRef((function(e,t){var n=e.accessibilityLabel,i=e.color,s=e.disabled,l=e.onPress,u=e.testID,d=e.title;return r.createElement(o.default,{accessibilityLabel:n,accessibilityRole:"button",disabled:s,focusable:!s,onPress:l,ref:t,style:[c.button,i&&{backgroundColor:i},s&&c.buttonDisabled],testID:u},r.createElement(a.default,{style:[c.text,s&&c.textDisabled]},d))}));u.displayName="Button";var c=i.default.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}}),d=u;t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r="ERROR",i=Object.freeze({NOT_RESPONDER:{DELAY:r,RESPONDER_GRANT:"RESPONDER_INACTIVE_PRESS_START",RESPONDER_RELEASE:r,RESPONDER_TERMINATED:r,LONG_PRESS_DETECTED:r},RESPONDER_INACTIVE_PRESS_START:{DELAY:"RESPONDER_ACTIVE_PRESS_START",RESPONDER_GRANT:r,RESPONDER_RELEASE:"NOT_RESPONDER",RESPONDER_TERMINATED:"NOT_RESPONDER",LONG_PRESS_DETECTED:r},RESPONDER_ACTIVE_PRESS_START:{DELAY:r,RESPONDER_GRANT:r,RESPONDER_RELEASE:"NOT_RESPONDER",RESPONDER_TERMINATED:"NOT_RESPONDER",LONG_PRESS_DETECTED:"RESPONDER_ACTIVE_LONG_PRESS_START"},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:r,RESPONDER_GRANT:r,RESPONDER_RELEASE:"NOT_RESPONDER",RESPONDER_TERMINATED:"NOT_RESPONDER",LONG_PRESS_DETECTED:"RESPONDER_ACTIVE_LONG_PRESS_START"},ERROR:{DELAY:"NOT_RESPONDER",RESPONDER_GRANT:"RESPONDER_INACTIVE_PRESS_START",RESPONDER_RELEASE:"NOT_RESPONDER",RESPONDER_TERMINATED:"NOT_RESPONDER",LONG_PRESS_DETECTED:"NOT_RESPONDER"}}),o=function(e){return"RESPONDER_ACTIVE_PRESS_START"===e||"RESPONDER_ACTIVE_LONG_PRESS_START"===e},a=function(e){return"button"===e.getAttribute("role")},s=function(e){return"RESPONDER_INACTIVE_PRESS_START"===e||"RESPONDER_ACTIVE_PRESS_START"===e||"RESPONDER_ACTIVE_LONG_PRESS_START"===e},l=function(){function e(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState="NOT_RESPONDER",this.configure(e)}var t=e.prototype;return t.configure=function(e){this._config=e},t.reset=function(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()},t.getEventHandlers=function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers},t._createEventHandlers=function(){var e=this,t=function(t,n){t.persist(),e._cancelPressOutDelayTimeout(),e._longPressDispatched=!1,e._responder=t.currentTarget,e._selectionTerminated=!1,e._touchState="NOT_RESPONDER",e._isPointerTouch="touchstart"===t.nativeEvent.type,e._receiveSignal("RESPONDER_GRANT",t);var r=u(e._config.delayPressStart,0,50);!1!==n&&r>0?e._pressDelayTimeout=setTimeout((function(){e._receiveSignal("DELAY",t)}),r):e._receiveSignal("DELAY",t);var i=u(e._config.delayLongPress,10,450);e._longPressDelayTimeout=setTimeout((function(){e._handleLongPress(t)}),i+r)},n=function(t){e._receiveSignal("RESPONDER_RELEASE",t)},r=function t(r){"NOT_RESPONDER"!==e._touchState&&(n(r),document.removeEventListener("keyup",t))};return{onStartShouldSetResponder:function(t){var n=e._config.disabled;return n&&a(t.currentTarget)&&t.stopPropagation(),null==n||!n},onKeyDown:function(n){(function(e){var t=e.key,n=e.currentTarget.getAttribute("role"),r=" "===t||"Spacebar"===t;return!e.repeat&&("Enter"===t||r&&("button"===n||"menuitem"===n))})(n)&&("NOT_RESPONDER"===e._touchState&&(t(n,!1),document.addEventListener("keyup",r)),n.stopPropagation())},onResponderGrant:function(e){return t(e)},onResponderMove:function(t){null!=e._config.onPressMove&&e._config.onPressMove(t);var n=c(t);if(null!=e._touchActivatePosition){var r=e._touchActivatePosition.pageX-n.pageX,i=e._touchActivatePosition.pageY-n.pageY;Math.hypot(r,i)>10&&e._cancelLongPressDelayTimeout()}},onResponderRelease:function(e){return n(e)},onResponderTerminate:function(t){"selectionchange"===t.nativeEvent.type&&(e._selectionTerminated=!0),e._receiveSignal("RESPONDER_TERMINATED",t)},onResponderTerminationRequest:function(t){var n=e._config,r=n.cancelable,i=n.disabled,o=n.onLongPress;return!(!i&&null!=o&&e._isPointerTouch&&"contextmenu"===t.nativeEvent.type)&&(null==r||r)},onClick:function(t){var n=e._config,r=n.disabled,i=n.onPress;r?a(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),e._longPressDispatched||e._selectionTerminated?t.preventDefault():null!=i&&!1===t.ctrlKey&&!1===t.altKey&&i(t))},onContextMenu:function(t){var n=e._config,r=n.disabled,i=n.onLongPress;r?a(t.currentTarget)&&t.stopPropagation():null!=i&&e._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}},t._receiveSignal=function(e,t){var n=this._touchState,o=null;null!=i[n]&&(o=i[n][e]),null==this._responder&&"RESPONDER_RELEASE"===e||(null==o||o===r?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==o&&(this._performTransitionSideEffects(n,o,e,t),this._touchState=o))},t._performTransitionSideEffects=function(e,t,n,r){if(function(e){return"RESPONDER_TERMINATED"===e||"RESPONDER_RELEASE"===e}(n)&&(this._isPointerTouch=!1,this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),s(e)&&"LONG_PRESS_DETECTED"===n){var i=this._config.onLongPress;null!=i&&null==r.nativeEvent.key&&(i(r),this._longPressDispatched=!0)}var a=o(e),l=o(t);if(!a&&l?this._activate(r):a&&!l&&this._deactivate(r),s(e)&&"RESPONDER_RELEASE"===n){var u=this._config,c=u.onLongPress;if(null!=u.onPress)null!=c&&"RESPONDER_ACTIVE_LONG_PRESS_START"===e||l||a||(this._activate(r),this._deactivate(r))}this._cancelPressDelayTimeout()},t._activate=function(e){var t=this._config,n=t.onPressChange,r=t.onPressStart,i=c(e);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},null!=r&&r(e),null!=n&&n(!0)},t._deactivate=function(e){var t=this._config,n=t.onPressChange,r=t.onPressEnd;function i(){null!=r&&r(e),null!=n&&n(!1)}var o=u(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout((function(){i()}),o):i()},t._handleLongPress=function(e){"RESPONDER_ACTIVE_PRESS_START"!==this._touchState&&"RESPONDER_ACTIVE_LONG_PRESS_START"!==this._touchState||this._receiveSignal("LONG_PRESS_DETECTED",e)},t._cancelLongPressDelayTimeout=function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)},t._cancelPressDelayTimeout=function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)},t._cancelPressOutDelayTimeout=function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)},e}();function u(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!=e?e:n)}function c(e){var t=e.nativeEvent,n=t.changedTouches,r=t.touches;return null!=r&&r.length>0?r[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=s(n(16)),o=s(n(3)),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=(0,r.forwardRef)((function(e,t){var n=e.color,o=e.disabled,s=e.onChange,l=e.onValueChange,u=e.style,c=e.value,d=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["color","disabled","onChange","onValueChange","style","value"]);var f=r.createElement(a.default,{style:[p.fakeControl,c&&p.fakeControlChecked,c&&n&&{backgroundColor:n,borderColor:n},o&&p.fakeControlDisabled,c&&o&&p.fakeControlCheckedAndDisabled]}),m=(0,i.default)("input",{checked:c,disabled:o,onChange:function(e){var t=e.nativeEvent.target.checked;e.nativeEvent.value=t,s&&s(e),l&&l(t)},ref:t,style:[p.nativeControl,p.cursorInherit],type:"checkbox"});return r.createElement(a.default,h({},d,{accessibilityDisabled:o,style:[p.root,u,o&&p.cursorDefault]}),f,m)}));f.displayName="CheckBox";var p=o.default.create({root:{cursor:"pointer",height:16,userSelect:"none",width:16},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControl:{alignItems:"center",backgroundColor:"#fff",borderColor:"#657786",borderRadius:2,borderStyle:"solid",borderWidth:2,height:"100%",justifyContent:"center",width:"100%"},fakeControlChecked:{backgroundColor:"#009688",backgroundImage:'url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K")',backgroundRepeat:"no-repeat",borderColor:"#009688"},fakeControlDisabled:{borderColor:"#CCD6DD"},fakeControlCheckedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"},nativeControl:c(c({},o.default.absoluteFillObject),{},{height:"100%",margin:0,opacity:0,padding:0,width:"100%"})}),m=f;t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=s(n(91)),o=s(n(3)),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c={},d=(0,r.forwardRef)((function(e,t){var n=e.children,s=e.style,l=void 0===s?c:s,d=e.imageStyle,h=e.imageRef,f=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","style","imageStyle","imageRef"]),p=o.default.flatten(l),m=p.height,g=p.width;return r.createElement(a.default,{ref:t,style:l},r.createElement(i.default,u({},f,{ref:h,style:[o.default.absoluteFill,{width:g,height:m,zIndex:-1},d]})),n)}));d.displayName="ImageBackground";var h=d;t.default=h,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(5)),i=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).frame=null,t.onLayout=function(e){t.frame=e.nativeEvent.layout},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var l=o.prototype;return l.relativeKeyboardHeight=function(e){var t=this.frame;if(!t||!e)return 0;var n=e.screenY-(this.props.keyboardVerticalOffset||0);return Math.max(t.y+t.height-n,0)},l.onKeyboardChange=function(e){},l.render=function(){var e=this.props,t=(e.behavior,e.contentContainerStyle,e.keyboardVerticalOffset,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["behavior","contentContainerStyle","keyboardVerticalOffset"]));return i.default.createElement(r.default,a({onLayout:this.onLayout},t))},o}(i.default.Component);t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=l(n(293)),o=l(n(294)),a=l(n(295)),s=l(n(296));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=0,d=[],h={};function f(){if(0!==d.length){var e=d[d.length-1];d.forEach((function(t){t in h&&h[t](t===e)}))}}function p(e){e in h&&(h[e](!1),delete h[e]);var t=d.indexOf(e);-1!==t&&(d.splice(t,1),f())}var m=(0,r.forwardRef)((function(e,t){var n=e.animationType,l=e.children,u=e.onDismiss,m=e.onRequestClose,g=e.onShow,_=e.transparent,y=e.visible,v=void 0===y||y,b=(0,r.useMemo)((function(){return c++}),[]),x=(0,r.useState)(!1),w=x[0],S=x[1],E=(0,r.useCallback)((function(){p(b),u&&u()}),[b,u]),T=(0,r.useCallback)((function(){!function(e,t){p(e),d.push(e),h[e]=t,f()}(b,S),g&&g()}),[b,g]);return(0,r.useEffect)((function(){return function(){return p(b)}}),[b]),r.default.createElement(i.default,null,r.default.createElement(o.default,{animationType:n,onDismiss:E,onShow:T,visible:v},r.default.createElement(s.default,{active:w},r.default.createElement(a.default,{active:w,onRequestClose:m,ref:t,transparent:_},l))))}));t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=n(0),o=n(6),a=(r=n(44))&&r.__esModule?r:{default:r};var s=function(e){var t=e.children,n=(0,i.useRef)(null);if(o.canUseDOM&&!n.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),n.current=r)}return(0,i.useEffect)((function(){if(o.canUseDOM)return function(){document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}}),[]),n.current&&o.canUseDOM?a.default.createPortal(t,n.current):null};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(0),i=a(n(3)),o=a(n(16));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return"slide"===e?t?u:c:"fade"===e?t?d:h:t?l.container:l.hidden}var l=i.default.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:"300ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:"300ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:[{translateY:"0%"}],animationKeyframes:{"0%":{transform:[{translateY:"100%"}]},"100%":{transform:[{translateY:"0%"}]}}},slideOut:{transform:[{translateY:"100%"}],animationKeyframes:{"0%":{transform:[{translateY:"0%"}]},"100%":{transform:[{translateY:"100%"}]}}},hidden:{opacity:0}}),u=[l.container,l.animatedIn,l.slideIn],c=[l.container,l.animatedOut,l.slideOut],d=[l.container,l.animatedIn,l.fadeIn],h=[l.container,l.animatedOut,l.fadeOut],f=function(e){var t=e.animationType,n=e.children,i=e.onDismiss,a=e.onShow,u=e.visible,c=(0,r.useState)(!1),d=c[0],h=c[1],f=(0,r.useRef)(!1),p=t&&"none"!==t,m=(0,r.useCallback)((function(e){e&&e.currentTarget!==e.target||(u?a&&a():(h(!1),i&&i()))}),[i,a,u]);return(0,r.useEffect)((function(){u&&h(!0),u===f.current||p||m(),f.current=u}),[p,u,m]),d||u?(0,o.default)("div",{style:d?s(t,u):l.hidden,onAnimationEnd:m,children:n}):null};t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(6),o=s(n(5)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=(0,r.forwardRef)((function(e,t){var n=e.active,a=e.children,s=e.onRequestClose,l=e.transparent;(0,r.useEffect)((function(){if(i.canUseDOM){var e=function(e){n&&"Escape"===e.key&&(e.stopPropagation(),s&&s())};return document.addEventListener("keyup",e,!1),function(){return document.removeEventListener("keyup",e,!1)}}}),[n,s]);var u=(0,r.useMemo)((function(){return[c.modal,l?c.modalTransparent:c.modalOpaque]}),[l]);return r.default.createElement(o.default,{accessibilityRole:n?"dialog":null,"aria-modal":!0,ref:t,style:u},r.default.createElement(o.default,{style:c.container},a))})),c=a.default.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}}),d=u;t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(6),o=u(n(5)),a=u(n(16)),s=u(n(3)),l=u(n(20));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var d=function(){return(0,a.default)("div",{accessibilityRole:"none",tabIndex:0,style:p.focusBracket})};function h(e){if(!i.canUseDOM)return!1;try{e.focus()}catch(e){}return document.activeElement===e}var f=function(e){var t=e.active,n=e.children,a=(0,r.useRef)(),s=(0,r.useRef)({trapFocusInProgress:!1,lastFocusedElement:null});return(0,r.useEffect)((function(){if(i.canUseDOM){var e=function(){if(null!=a.current&&!s.current.trapFocusInProgress&&t){try{if(s.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!a.current.contains(document.activeElement)){var e=function e(t){for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(h(r)||e(r))return!0}return!1}(a.current);s.current.lastFocusedElement===document.activeElement&&(e=function e(t){for(var n=t.childNodes.length-1;n>=0;n--){var r=t.childNodes[n];if(h(r)||e(r))return!0}return!1}(a.current)),!e&&null!=a.current&&document.activeElement&&l.default.focus(a.current)}}finally{s.current.trapFocusInProgress=!1}s.current.lastFocusedElement=document.activeElement}};return e(),document.addEventListener("focus",e,!0),function(){return document.removeEventListener("focus",e,!0)}}}),[t]),(0,r.useEffect)((function(){if(i.canUseDOM){var e=document.activeElement;return function(){e&&document.contains(e)&&l.default.focus(e)}}}),[]),r.default.createElement(r.default.Fragment,null,r.default.createElement(d,null),r.default.createElement(o.default,{ref:a},n),r.default.createElement(d,null))};t.default=f;var p=s.default.create({focusBracket:{outlineStyle:"none"}});e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(16)),i=u(n(22)),o=u(n(49)),a=u(n(298)),s=u(n(3)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(0,l.forwardRef)((function(e,t){var n=e.children,a=e.enabled,s=e.onValueChange,u=e.selectedValue,h=e.style,p=e.testID,m=(e.itemStyle,e.mode,e.prompt,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","enabled","onValueChange","selectedValue","style","testID","itemStyle","mode","prompt"])),g=(0,l.useRef)(null);var _=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({children:n,disabled:!1===a||void 0,onChange:function(e){var t=e.target,n=t.selectedIndex,r=t.value;s&&s(r,n)},style:[f.initial,h],testID:p,value:u},m),y=(0,o.default)(_),v=(0,i.default)(g,y,t);return _.ref=v,(0,r.default)("select",_)}));h.Item=a.default;var f=s.default.create({initial:{fontFamily:"System",fontSize:"inherit",margin:0}}),p=h;t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.color,n=e.label,r=e.testID,o=e.value,a={color:t};return(0,i.default)("option",{style:a,testID:r,value:o},n)};var r,i=(r=n(16))&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=u(n(22)),o=u(n(300)),a=u(n(52)),s=u(n(3)),l=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){var n=e.children,s=e.delayLongPress,u=e.delayPressIn,c=e.delayPressOut,h=e.disabled,m=e.focusable,g=e.onBlur,_=e.onFocus,y=e.onHoverIn,v=e.onHoverOut,b=e.onKeyDown,x=e.onLongPress,w=e.onPress,S=e.onPressMove,E=e.onPressIn,T=e.onPressOut,k=e.style,C=e.testOnly_hovered,P=e.testOnly_pressed,R=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_hovered","testOnly_pressed"]),O=f(!0===C),M=O[0],A=O[1],I=f(!1),D=I[0],L=I[1],z=f(!0===P),N=z[0],F=z[1],B=(0,r.useRef)(null),j=(0,i.default)(t,B),V=(0,r.useMemo)((function(){return{delayLongPress:s,delayPressStart:u,delayPressEnd:c,disabled:h,onLongPress:x,onPress:w,onPressChange:F,onPressStart:E,onPressMove:S,onPressEnd:T}}),[s,u,c,h,x,w,E,S,T,F]),U=(0,a.default)(B,V),W=U.onKeyDown;(0,o.default)(B,{contain:!0,disabled:h,onHoverChange:A,onHoverStart:y,onHoverEnd:v});var G={hovered:M,focused:D,pressed:N},H=r.useCallback((function(e){e.nativeEvent.target===B.current&&(L(!1),null!=g&&g(e))}),[B,L,g]),q=r.useCallback((function(e){e.nativeEvent.target===B.current&&(L(!0),null!=_&&_(e))}),[B,L,_]),$=r.useCallback((function(e){null!=W&&W(e),null!=b&&b(e)}),[b,W]);return r.createElement(l.default,d({},R,U,{accessibilityDisabled:h,focusable:!h&&!1!==m,onBlur:H,onFocus:q,onKeyDown:$,ref:j,style:[!h&&p.root,"function"==typeof k?k(G):k]}),"function"==typeof n?n(G):n)}function f(e){var t=(0,r.useState)(!1);return[t[0]||e,t[1]]}var p=s.default.create({root:{cursor:"pointer",touchAction:"manipulation"}}),m=(0,r.memo)((0,r.forwardRef)(h));m.displayName="Pressable";var g=m;t.default=g,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=t.contain,r=t.disabled,a=t.onHoverStart,s=t.onHoverChange,d=t.onHoverUpdate,h=t.onHoverEnd,f=!("undefined"==typeof window||null==window.PointerEvent),p=(0,i.default)(f?"pointermove":"mousemove",l),m=(0,i.default)(f?"pointerenter":"mouseenter",l),g=(0,i.default)(f?"pointerleave":"mouseleave",l),_=(0,i.default)("react-gui:hover:lock",l),y=(0,i.default)("react-gui:hover:unlock",l);(0,o.default)((function(){var t=e.current;if(null!==t){var i=function(e){null!=h&&h(e),null!=s&&s(!1),p(t,null),g(t,null)},o=function(t){var r=e.current;null!=r&&"touch"!==c(t)&&(n&&u(r,"react-gui:hover:unlock"),i(t))},l=function(e){"touch"!==c(e)&&null!=d&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),d(e))},f=function(e){null!=a&&a(e),null!=s&&s(!0),null!=d&&p(t,r?null:l),g(t,r?null:o)};m(t,r?null:function(t){var o=e.current;if(null!=o&&"touch"!==c(t)){n&&u(o,"react-gui:hover:lock"),f(t);_(o,r?null:function(e){e.target!==o&&i(t)}),y(o,r?null:function(e){e.target!==o&&f(t)})}})}}),[m,p,g,_,y,n,r,a,s,d,h,e])};var r=n(301),i=a(n(302)),o=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}var s={},l={passive:!0};function u(e,t,n){var r=document.createEvent("CustomEvent"),i=n||s,o=i.bubbles,a=void 0===o||o,l=i.cancelable,u=void 0===l||l,c=i.detail;r.initCustomEvent(t,a,u,c),e.dispatchEvent(r)}function c(e){var t=e.pointerType;return null!=t?t:(0,r.getModality)()}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getActiveModality=function(){return l},t.getModality=function(){return u},t.addModalityListener=function(e){return d.add(e),function(){d.delete(e)}},t.testOnly_resetActiveModality=function(){c=!1,l="keyboard",u="keyboard"};var r,i=n(6),o=(r=n(128))&&r.__esModule?r:{default:r};var a,s,l="keyboard",u="keyboard",c=!1,d=new Set,h={passive:!0},f={capture:!0,passive:!0},p=(0,o.default)("blur",h),m=(0,o.default)("focus",h),g=(0,o.default)("visibilitychange",f),_=(0,o.default)("keydown",f),y=(0,o.default)("pointerdown",f),v=(0,o.default)("pointermove",f),b=(0,o.default)("contextmenu",f),x=(0,o.default)("mousedown",f),w=(0,o.default)("mousemove",f),S=(0,o.default)("mouseup",f),E=(0,o.default)("scroll",f),T=(0,o.default)("selectionchange",f),k=(0,o.default)("touchcancel",f),C=(0,o.default)("touchmove",f),P=(0,o.default)("touchstart",f);function R(){null==a&&null==s||(null!=a&&(u=a,a=null),null!=s&&(l=s,s=null),M())}function O(e){var t=e.type;if("undefined"!=typeof window&&null!=window.PointerEvent){if("pointerdown"===t)return void(l!==e.pointerType&&(u=e.pointerType,l=e.pointerType,M()));if("pointermove"===t)return void(u!==e.pointerType&&(u=e.pointerType,M()))}else{if(c||("mousedown"===t&&"mouse"!==l&&(u="mouse",l="mouse",M()),"mousemove"===t&&"mouse"!==u&&(u="mouse",M())),"touchstart"===t)return c=!0,e.touches&&e.touches.length>1&&(c=!1),void("touch"!==l&&(u="touch",l="touch",M()));"contextmenu"!==t&&"mouseup"!==t&&"selectionchange"!==t&&"scroll"!==t&&"touchcancel"!==t&&"touchmove"!==t||(c=!1)}}function M(){var e={activeModality:l,modality:u};d.forEach((function(t){t(e)}))}i.canUseDOM&&(p(window,(function(){a=u,s=l,l="keyboard",u="keyboard",M(),c=!1})),m(window,(function(){R()})),_(document,(function(e){e.metaKey||e.altKey||e.ctrlKey||"keyboard"!==u&&(u="keyboard",l="keyboard",M())})),y(document,O),v(document,O),g(document,(function(){"hidden"!==document.visibilityState&&R()})),b(document,O),x(document,O),w(document,O),S(document,O),k(document,O),C(document,O),P(document,O),T(document,O),E(document,O))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=(0,o.default)((function(){return new Map})),a=(0,o.default)((function(){var i=(0,r.default)(e,t);return function(e,t){var r=n.get(e);null!=r&&r(),null==t&&n.delete(e);var o=i(e,t);return n.set(e,o),o}}));return(0,i.default)((function(){return function(){null!=a&&(n.forEach((function(e){e()})),n.clear()),a=null}}),[a]),a};var r=a(n(128)),i=a(n(48)),o=a(n(118));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),i=s(n(5)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=(0,o.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"#1976D2":n,a=e.indeterminate,s=void 0!==a&&a,u=e.progress,d=void 0===u?0:u,h=e.trackColor,f=void 0===h?"transparent":h,p=e.style,m=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["color","indeterminate","progress","trackColor","style"]),g=100*d,_=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=s?"25%":g+"%";null!=_.current&&_.current.setNativeProps({style:{width:e}})}),[s,g,_]),o.default.createElement(i.default,l({},m,{accessibilityRole:"progressbar",accessibilityValue:{max:100,min:0,now:s?null:g},ref:t,style:[c.track,p,{backgroundColor:f}]}),o.default.createElement(i.default,{ref:_,style:[c.progress,s&&c.animation,{backgroundColor:r}]}))}));u.displayName="ProgressBar";var c=r.default.create({track:{height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:[{translateX:"-100%"}]},"100%":{transform:[{translateX:"400%"}]}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}}),d=u;t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(6),i=l(n(3)),o=l(n(5)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=r.canUseDOM&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",d=(0,a.forwardRef)((function(e,t){var n=e.style,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["style"]);return a.default.createElement(o.default,u({},r,{ref:t,style:i.default.compose(h.root,n)}))}));d.displayName="SafeAreaView";var h=i.default.create({root:{paddingTop:c+"(safe-area-inset-top)",paddingRight:c+"(safe-area-inset-right)",paddingBottom:c+"(safe-area-inset-bottom)",paddingLeft:c+"(safe-area-inset-left)"}}),f=d;t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){};function i(){return null}i.setBackgroundColor=r,i.setBarStyle=r,i.setHidden=r,i.setNetworkActivityIndicatorVisible=r,i.setTranslucent=r;var o=i;t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=l(n(16)),o=l(n(105)),a=l(n(3)),s=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p={},m=(0,r.forwardRef)((function(e,t){var n=e.accessibilityLabel,l=e.activeThumbColor,u=void 0===l?"#009688":l,c=e.activeTrackColor,d=void 0===c?"#A3D3CF":c,h=e.disabled,m=void 0!==h&&h,_=e.onValueChange,y=e.style,v=void 0===y?p:y,b=e.thumbColor,x=void 0===b?"#FAFAFA":b,w=e.trackColor,S=void 0===w?"#939393":w,E=e.value,T=void 0!==E&&E,k=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value"]),C=(0,r.useRef)(null);function P(e){var t="focus"===e.nativeEvent.type?"0px 1px 3px rgba(0,0,0,0.5), 0 0 0 10px rgba(0,0,0,0.1)":"0px 1px 3px rgba(0,0,0,0.5)";null!=C.current&&(C.current.style.boxShadow=t)}var R=a.default.flatten(v),O=R.height,M=R.width,A=O||"20px",I=(0,o.default)(A,2),D=M>I?M:I,L=(0,o.default)(A,.5),z=!0===T?null!=S&&"object"==typeof S?S.true:d:null!=S&&"object"==typeof S?S.false:S,N=T?u:x,F=A,B=F,j=[g.root,v,m&&g.cursorDefault,{height:A,width:D}],V=[g.track,{backgroundColor:m?"#D5D5D5":z,borderRadius:L}],U=[g.thumb,T&&g.thumbActive,{backgroundColor:m?"#BDBDBD":N,height:F,marginStart:T?(0,o.default)(B,-1):0,width:B}],W=(0,i.default)("input",{accessibilityLabel:n,checked:T,disabled:m,onBlur:P,onChange:function(e){null!=_&&_(e.nativeEvent.target.checked)},onFocus:P,ref:t,style:[g.nativeControl,g.cursorInherit],type:"checkbox",role:"switch"});return r.createElement(s.default,f({},k,{style:j}),r.createElement(s.default,{style:V}),r.createElement(s.default,{ref:C,style:U}),W)}));m.displayName="Switch";var g=a.default.create({root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},track:d(d({},a.default.absoluteFillObject),{},{height:"70%",margin:"auto",transitionDuration:"0.1s",width:"100%"}),thumb:{alignSelf:"flex-start",borderRadius:"100%",boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",start:"0%",transform:[{translateZ:0}],transitionDuration:"0.1s"},thumbActive:{start:"100%"},nativeControl:d(d({},a.default.absoluteFillObject),{},{height:"100%",margin:0,opacity:0,padding:0,width:"100%"})}),_=m;t.default=_,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(0),i=g(n(16)),o=g(n(36)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(85)),s=g(n(47)),l=g(n(86)),u=g(n(48)),c=g(n(22)),d=g(n(49)),h=g(n(87)),f=g(n(3)),p=g(n(90));function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=y(y(y(y(y(y(y(y(y({},a.defaultProps),a.accessibilityProps),a.clickProps),a.focusProps),a.keyboardProps),a.mouseProps),a.touchProps),a.styleProps),{},{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0});var x=(0,r.forwardRef)((function(e,t){var n,o,a=e.autoCapitalize,m=void 0===a?"sentences":a,g=e.autoComplete,_=e.autoCompleteType,y=e.autoCorrect,v=void 0===y||y,x=e.blurOnSubmit,S=e.clearTextOnFocus,E=e.dir,T=e.editable,k=void 0===T||T,C=e.keyboardType,P=void 0===C?"default":C,R=e.multiline,O=void 0!==R&&R,M=e.numberOfLines,A=void 0===M?1:M,I=e.onBlur,D=e.onChange,L=e.onChangeText,z=e.onContentSizeChange,N=e.onFocus,F=e.onKeyPress,B=e.onLayout,j=e.onMoveShouldSetResponder,V=e.onMoveShouldSetResponderCapture,U=e.onResponderEnd,W=e.onResponderGrant,G=e.onResponderMove,H=e.onResponderReject,q=e.onResponderRelease,$=e.onResponderStart,Z=e.onResponderTerminate,K=e.onResponderTerminationRequest,X=e.onScrollShouldSetResponder,Y=e.onScrollShouldSetResponderCapture,Q=e.onSelectionChange,J=e.onSelectionChangeShouldSetResponder,ee=e.onSelectionChangeShouldSetResponderCapture,te=e.onStartShouldSetResponder,ne=e.onStartShouldSetResponderCapture,re=e.onSubmitEditing,ie=e.placeholderTextColor,oe=e.returnKeyType,ae=e.secureTextEntry,se=void 0!==ae&&ae,le=e.selection,ue=e.selectTextOnFocus,ce=e.spellCheck;switch(P){case"email-address":n="email";break;case"number-pad":case"numeric":o="numeric";break;case"decimal-pad":o="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}se&&(n="password");var de=(0,r.useRef)({height:null,width:null}),he=(0,r.useRef)(null),fe=(0,r.useCallback)((function(){var e=he.current;if(O&&z&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===de.current.height&&n===de.current.width||(de.current.height=t,de.current.width=n,z({nativeEvent:{contentSize:{height:de.current.height,width:de.current.width}}}))}}),[he,O,z]),pe=(0,r.useMemo)((function(){return function(e){null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&p.default.currentlyFocusedField()===e},fe())}}),[fe]);(0,u.default)((function(){var e=he.current;null!=e&&null!=le&&function(e,t){if(function(e,t){var n=e.selectionEnd,r=e.selectionStart,i=t.start,o=t.end;return i!==r||o!==n}(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(e){}}}(e,le),document.activeElement===e&&(p.default._currentlyFocusedNode=e)}),[he,le]);var me=O?"textarea":"input",ge=[w.textinput],_e=f.default.compose(e.style,ie&&{placeholderTextColor:ie});(0,l.default)(he,B),(0,h.default)(he,{onMoveShouldSetResponder:j,onMoveShouldSetResponderCapture:V,onResponderEnd:U,onResponderGrant:W,onResponderMove:G,onResponderReject:H,onResponderRelease:q,onResponderStart:$,onResponderTerminate:Z,onResponderTerminationRequest:K,onScrollShouldSetResponder:X,onScrollShouldSetResponderCapture:Y,onSelectionChangeShouldSetResponder:J,onSelectionChangeShouldSetResponderCapture:ee,onStartShouldSetResponder:te,onStartShouldSetResponderCapture:ne});var ye=function(e){return(0,s.default)(e,b)}(e);ye.autoCapitalize=m,ye.autoComplete=g||_||"on",ye.autoCorrect=v?"on":"off",ye.classList=ge,ye.dir=void 0!==E?E:"auto",ye.enterKeyHint=oe,ye.onBlur=function(e){p.default._currentlyFocusedNode=null,I&&(e.nativeEvent.text=e.target.value,I(e))},ye.onChange=function(e){var t=e.target.value;e.nativeEvent.text=t,fe(),D&&D(e),L&&L(t)},ye.onFocus=function(e){var t=he.current;null!=t&&(p.default._currentlyFocusedNode=t,N&&(e.nativeEvent.text=e.target.value,N(e)),S&&(t.value=""),ue&&setTimeout((function(){t.select()}),0))},ye.onKeyDown=function(e){e.stopPropagation();var t=null==x?!O:x,n=e.nativeEvent,r=function(e){return e.isComposing||229===e.keyCode}(n);F&&F(e),"Enter"!==e.key||e.shiftKey||r||e.isDefaultPrevented()||(!x&&O||!re||(e.preventDefault(),n.text=e.target.value,re(e)),t&&null!=he.current&&he.current.blur())},ye.onSelect=function(e){if(Q)try{var t=e.target,n=t.selectionStart,r=t.selectionEnd;e.nativeEvent.selection={start:n,end:r},e.nativeEvent.text=e.target.value,Q(e)}catch(e){}},ye.readOnly=!k,ye.rows=O?A:void 0,ye.spellCheck=null!=ce?ce:v,ye.style=_e,ye.type=O?void 0:n,ye.inputMode=o;var ve=(0,d.default)(ye),be=(0,c.default)(he,ve,pe,t);return ye.ref=be,(0,i.default)(me,ye)}));x.displayName="TextInput",x.State=p.default;var w=o.default.create({textinput:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"}}),S=x;t.default=S,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(75)),i=d(n(309)),o=d(n(29)),a=d(n(77)),s=d(n(310)),l=d(n(0)),u=d(n(20)),c=d(n(5));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,i=n&&n.length>0;return!r&&i?n[0]:r?t[0]:e},g="NOT_RESPONDER",_="RESPONDER_INACTIVE_PRESS_IN",y="RESPONDER_INACTIVE_PRESS_OUT",v="RESPONDER_ACTIVE_PRESS_IN",b="RESPONDER_ACTIVE_PRESS_OUT",x="RESPONDER_ACTIVE_LONG_PRESS_IN",w="RESPONDER_ACTIVE_LONG_PRESS_OUT",S="ERROR",E={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},T=f(f({},E),{},{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),k=f(f({},E),{},{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),C=f(f({},E),{},{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),P="DELAY",R="RESPONDER_GRANT",O="RESPONDER_RELEASE",M="RESPONDER_TERMINATED",A="ENTER_PRESS_RECT",I="LEAVE_PRESS_RECT",D="LONG_PRESS_DETECTED",L={NOT_RESPONDER:{DELAY:S,RESPONDER_GRANT:_,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:S,LONG_PRESS_DETECTED:S},RESPONDER_INACTIVE_PRESS_IN:{DELAY:v,RESPONDER_GRANT:S,RESPONDER_RELEASE:g,RESPONDER_TERMINATED:g,ENTER_PRESS_RECT:_,LEAVE_PRESS_RECT:y,LONG_PRESS_DETECTED:S},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:b,RESPONDER_GRANT:S,RESPONDER_RELEASE:g,RESPONDER_TERMINATED:g,ENTER_PRESS_RECT:_,LEAVE_PRESS_RECT:y,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_PRESS_IN:{DELAY:S,RESPONDER_GRANT:S,RESPONDER_RELEASE:g,RESPONDER_TERMINATED:g,ENTER_PRESS_RECT:v,LEAVE_PRESS_RECT:b,LONG_PRESS_DETECTED:x},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:S,RESPONDER_GRANT:S,RESPONDER_RELEASE:g,RESPONDER_TERMINATED:g,ENTER_PRESS_RECT:v,LEAVE_PRESS_RECT:b,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:S,RESPONDER_GRANT:S,RESPONDER_RELEASE:g,RESPONDER_TERMINATED:g,ENTER_PRESS_RECT:x,LEAVE_PRESS_RECT:w,LONG_PRESS_DETECTED:x},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:S,RESPONDER_GRANT:S,RESPONDER_RELEASE:g,RESPONDER_TERMINATED:g,ENTER_PRESS_RECT:x,LEAVE_PRESS_RECT:w,LONG_PRESS_DETECTED:S},error:{DELAY:g,RESPONDER_GRANT:_,RESPONDER_RELEASE:g,RESPONDER_TERMINATED:g,ENTER_PRESS_RECT:g,LEAVE_PRESS_RECT:g,LONG_PRESS_DETECTED:g}},z={componentDidMount:function(){var e=this;this._touchableNode=(0,o.default)(this),this._touchableNode&&this._touchableNode.addEventListener&&(this._touchableBlurListener=function(t){e._isTouchableKeyboardActive&&(e.state.touchable.touchState&&e.state.touchable.touchState!==g&&e.touchableHandleResponderTerminate({nativeEvent:t}),e._isTouchableKeyboardActive=!1)},this._touchableNode.addEventListener("blur",this._touchableBlurListener))},componentWillUnmount:function(){this._touchableNode&&this._touchableNode.addEventListener&&this._touchableNode.removeEventListener("blur",this._touchableBlurListener),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(e){var t=e.currentTarget;e.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=g,this.state.touchable.responderID=t,this._receiveSignal(R,e);var n=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(n=isNaN(n)?130:n)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,e),n):this._handleDelay(e);var r=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;r=isNaN(r)?370:r,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,e),r+n)},touchableHandleResponderRelease:function(e){this.pressInLocation=null,this._receiveSignal(O,e)},touchableHandleResponderTerminate:function(e){this.pressInLocation=null,this._receiveSignal(M,e)},touchableHandleResponderMove:function(e){if(this.state.touchable.positionOnActivate){var t=this.state.touchable.positionOnActivate,n=this.state.touchable.dimensionsOnActivate,r=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},i=r.left,o=r.top,a=r.right,s=r.bottom,l=this.touchableGetHitSlop?this.touchableGetHitSlop():null;l&&(i+=l.left||0,o+=l.top||0,a+=l.right||0,s+=l.bottom||0);var u=m(e.nativeEvent),c=u&&u.pageX,d=u&&u.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(c,d,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(c>t.left-i&&d>t.top-o&&c<t.left+n.width+a&&d<t.top+n.height+s){var h=this.state.touchable.touchState;this._receiveSignal(A,e),this.state.touchable.touchState===_&&h!==_&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(I,e)}},touchableHandleFocus:function(e){this.props.onFocus&&this.props.onFocus(e)},touchableHandleBlur:function(e){this.props.onBlur&&this.props.onBlur(e)},_remeasureMetricsOnActivation:function(){var e=this.state.touchable.responderID;null!=e&&u.default.measure(e,this._handleQueryLayout)},_handleQueryLayout:function(e,t,n,r,o,a){(e||t||n||r||o||a)&&(this.state.touchable.positionOnActivate&&s.default.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&i.default.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=s.default.getPooled(o,a),this.state.touchable.dimensionsOnActivate=i.default.getPooled(n,r))},_handleDelay:function(e){this.touchableDelayTimeout=null,this._receiveSignal(P,e)},_handleLongDelay:function(e){this.longPressDelayTimeout=null;var t=this.state.touchable.touchState;t!==v&&t!==x?console.error("Attempted to transition from state `"+t+"` to `"+x+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(D,e)},_receiveSignal:function(e,t){var n=this.state.touchable.responderID,r=this.state.touchable.touchState,i=L[r]&&L[r][e];if(n||e!==O){if(!i)throw new Error("Unrecognized signal `"+e+"` or state `"+r+"` for Touchable responder `"+n+"`");if(i===S)throw new Error("Touchable cannot transition from `"+r+"` to `"+e+"` for responder `"+n+"`");r!==i&&(this._performSideEffectsForTransition(r,i,e,t),this.state.touchable.touchState=i)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(e){return e===v||e===x},_savePressInLocation:function(e){var t=m(e.nativeEvent),n=t&&t.pageX,r=t&&t.pageY,i=t&&t.locationX,o=t&&t.locationY;this.pressInLocation={pageX:n,pageY:r,locationX:i,locationY:o}},_getDistanceBetweenPoints:function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)},_performSideEffectsForTransition:function(e,t,n,r){var i=this._isHighlight(e),o=this._isHighlight(t);(n===M||n===O)&&this._cancelLongPressDelayTimeout();var a=e===g&&t===_,s=!T[e]&&T[t];if((a||s)&&this._remeasureMetricsOnActivation(),k[e]&&n===D&&this.touchableHandleLongPress&&this.touchableHandleLongPress(r),o&&!i?this._startHighlight(r):!o&&i&&this._endHighlight(r),k[e]&&n===O){var l=!!this.props.onLongPress,u=C[e]&&(!l||!this.touchableLongPressCancelsPress());(!C[e]||u)&&this.touchableHandlePress&&(o||i||(this._startHighlight(r),this._endHighlight(r)),this.touchableHandlePress(r))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_playTouchSound:function(){u.default.playTouchSound()},_startHighlight:function(e){this._savePressInLocation(e),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(e)},_endHighlight:function(e){var t=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout((function(){t.touchableHandleActivePressOut(e)}),this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(e))},touchableHandleKeyEvent:function(e){var t=e.type,n=e.key;"Enter"!==n&&" "!==n||("keydown"===t?this._isTouchableKeyboardActive||this.state.touchable.touchState&&this.state.touchable.touchState!==g||(this.touchableHandleResponderGrant(e),this._isTouchableKeyboardActive=!0):"keyup"===t&&this._isTouchableKeyboardActive&&this.state.touchable.touchState&&this.state.touchable.touchState!==g&&(this.touchableHandleResponderRelease(e),this._isTouchableKeyboardActive=!1),e.stopPropagation(),"Enter"===n&&"link"===r.default.propsToAriaRole(this.props)||e.preventDefault())},withoutDefaultFocusAndBlur:{}},N=(z.touchableHandleFocus,z.touchableHandleBlur,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(z,["touchableHandleFocus","touchableHandleBlur"]));z.withoutDefaultFocusAndBlur=N;var F={Mixin:z,TOUCH_TARGET_DEBUG:!1,renderDebugView:function(e){var t=e.color,n=e.hitSlop;if(!F.TOUCH_TARGET_DEBUG)return null;var r={};for(var i in n=n||{top:0,bottom:0,left:0,right:0})r[i]=-n[i];var o=(0,a.default)(t);if("number"!=typeof o)return null;var s="#"+("00000000"+o.toString(16)).substr(-8);return l.default.createElement(c.default,{pointerEvents:"none",style:f({position:"absolute",borderColor:s.slice(0,-2)+"55",borderWidth:1,borderStyle:"dashed",backgroundColor:s.slice(0,-2)+"0F"},r)})}},B=F;t.default=B,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(129))&&r.__esModule?r:{default:r};var o=i.default.twoArgumentPooler;function a(e,t){this.width=e,this.height=t}a.prototype.destructor=function(){this.width=null,this.height=null},a.getPooledFromElement=function(e){return a.getPooled(e.offsetWidth,e.offsetHeight)},i.default.addPoolingTo(a,o);var s=a;t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(129))&&r.__esModule?r:{default:r};var o=i.default.twoArgumentPooler;function a(e,t){this.left=e,this.top=t}a.prototype.destructor=function(){this.left=null,this.top=null},i.default.addPoolingTo(a,o);var s=a;t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=l(n(22)),o=l(n(52)),a=l(n(3)),s=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){return{child:{opacity:null!=e?e:.85},underlay:{backgroundColor:void 0===t?"black":t}}}function h(e){return null!=e.onPress||null!=e.onPressIn||null!=e.onPressOut||null!=e.onLongPress}function f(e,t){var n=e.activeOpacity,l=e.children,u=e.delayPressIn,f=e.delayPressOut,m=e.delayLongPress,g=e.disabled,_=e.focusable,y=e.onHideUnderlay,v=e.onLongPress,b=e.onPress,x=e.onPressIn,w=e.onPressOut,S=e.onShowUnderlay,E=e.rejectResponderTermination,T=e.style,k=e.testOnly_pressed,C=e.underlayColor,P=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"]),R=(0,r.useRef)(null),O=(0,i.default)(t,R),M=(0,r.useState)(!0===k?d(n,C):null),A=M[0],I=M[1],D=(0,r.useCallback)((function(){h(e)&&(I(d(n,C)),null!=S&&S())}),[n,S,e,C]),L=(0,r.useCallback)((function(){!0!==k&&h(e)&&(I(null),null!=y&&y())}),[y,e,k]),z=(0,r.useMemo)((function(){return{cancelable:!E,disabled:g,delayLongPress:m,delayPressStart:u,delayPressEnd:f,onLongPress:v,onPress:b,onPressStart:function(e){D(),null!=x&&x(e)},onPressEnd:function(e){L(),null!=w&&w(e)}}}),[m,u,f,g,v,b,x,w,E,D,L]),N=(0,o.default)(R,z),F=r.Children.only(l);return r.createElement(s.default,c({},P,N,{accessibilityDisabled:g,focusable:!g&&!1!==_,ref:O,style:[p.root,T,!g&&p.actionable,A&&A.underlay]}),r.cloneElement(F,{style:a.default.compose(F.props.style,A&&A.child)}))}var p=a.default.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),m=r.memo(r.forwardRef(f));m.displayName="TouchableHighlight";var g=m;t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(39))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=s(n(47)),o=s(n(22)),a=s(n(52));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u={accessibilityDisabled:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,children:!0,disabled:!0,focusable:!0,nativeID:!0,onBlur:!0,onFocus:!0,onLayout:!0,testID:!0};function c(e,t){var n=e.delayPressIn,s=e.delayPressOut,l=e.delayLongPress,c=e.disabled,d=e.focusable,h=e.onLongPress,f=e.onPress,p=e.onPressIn,m=e.onPressOut,g=e.rejectResponderTermination,_=(0,r.useRef)(null),y=(0,r.useMemo)((function(){return{cancelable:!g,disabled:c,delayLongPress:l,delayPressStart:n,delayPressEnd:s,onLongPress:h,onPress:f,onPressStart:p,onPressEnd:m}}),[c,n,s,l,h,f,p,m,g]),v=(0,a.default)(_,y),b=r.Children.only(e.children),x=[b.props.children],w=function(e){return(0,i.default)(e,u)}(e);w.accessibilityDisabled=c,w.focusable=!c&&!1!==d,w.ref=(0,o.default)(t,_,b.ref);var S=Object.assign(w,v);return r.cloneElement.apply(r,[b,S].concat(x))}var d=r.memo(r.forwardRef(c));d.displayName="TouchableWithoutFeedback";var h=d;t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(89))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(0)),i=o(n(39));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return r.default.createElement(i.default,e)}a.ignoreWarnings=function(){};var s=a;t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={ignoreLogs:function(){},ignoreAllLogs:function(){},uninstall:function(){},install:function(){}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(39))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(39))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(39))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){return Promise.resolve(!1)},i={PERMISSIONS:{},RESULTS:{},checkPermission:r,check:r,requestPermission:r,request:r,requestMultiple:r};t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default={},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default={},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default={},e.exports=t.default},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(114))&&r.__esModule?r:{default:r}).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=i.useState(o.default.getColorScheme()),t=e[0],n=e[1];return i.useEffect((function(){function e(e){n(e.colorScheme)}return o.default.addChangeListener(e),function(){return o.default.removeChangeListener(e)}})),t};var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=(r=n(126))&&r.__esModule?r:{default:r};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=(0,o.useState)((function(){return i.default.get("window")})),t=e[0],n=e[1];return(0,o.useEffect)((function(){function e(e){var t=e.window;n(t)}return i.default.addEventListener("change",e),n(i.default.get("window")),function(){i.default.removeEventListener("change",e)}}),[]),t};var r,i=(r=n(38))&&r.__esModule?r:{default:r},o=n(0);e.exports=t.default},function(e,t,n){var r=n(53),i=n(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(0)),a=n(8),s=n(385),l=i(n(342)),u=i(n(380)),c=this,d="C:\\Users\\masze\\Documents\\UST\\ISDN 2002\\Github\\CatchProject\\src\\App.js",h=(0,s.createStackNavigator)(),f=function(e){return o.createElement(a.NavigationContainer,{__self:c,__source:{fileName:d,lineNumber:12,columnNumber:5}},o.createElement(h.Navigator,{initialRouteName:"Login",__self:c,__source:{fileName:d,lineNumber:13,columnNumber:7}},o.createElement(h.Screen,{name:"InGame",component:l.default,options:{headerLeft:null,title:null,headerShown:!1,headerStyle:{backgroundColor:"black"}},__self:c,__source:{fileName:d,lineNumber:14,columnNumber:9}}),o.createElement(h.Screen,{name:"Login",component:u.default,options:{headerLeft:null,title:null,headerShown:!1,headerStyle:{backgroundColor:"black"}},__self:c,__source:{fileName:d,lineNumber:26,columnNumber:9}})))};t.default=f},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict"},function(e,t,n){"use strict";e.exports=n(331)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,_=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case _:case g:case u:return e;default:return t}}case o:return t}}}function S(e){return w(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=_,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===_},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===l||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var l=o[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},function(e,t,n){"use strict";n.r(t),n.d(t,"enableScreens",(function(){return c})),n.d(t,"screensEnabled",(function(){return d})),n.d(t,"NativeScreen",(function(){return h})),n.d(t,"Screen",(function(){return f})),n.d(t,"ScreenContainer",(function(){return p})),n.d(t,"NativeScreenContainer",(function(){return m})),n.d(t,"ScreenStack",(function(){return g})),n.d(t,"ScreenStackHeaderBackButtonImage",(function(){return _})),n.d(t,"ScreenStackHeaderRightView",(function(){return y})),n.d(t,"ScreenStackHeaderLeftView",(function(){return v})),n.d(t,"ScreenStackHeaderCenterView",(function(){return b})),n.d(t,"ScreenStackHeaderConfig",(function(){return x})),n.d(t,"ScreenStackHeaderSubview",(function(){return w})),n.d(t,"shouldUseActivityState",(function(){return S}));var r=n(0),i=n.n(r),o=n(1),a=n(152);for(var s in a)["default","enableScreens","screensEnabled","NativeScreen","Screen","ScreenContainer","NativeScreenContainer","ScreenStack","ScreenStackHeaderBackButtonImage","ScreenStackHeaderRightView","ScreenStackHeaderLeftView","ScreenStackHeaderCenterView","ScreenStackHeaderConfig","ScreenStackHeaderSubview","shouldUseActivityState"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let u=!0;function c(e=!0){u=e}function d(){return u}class h extends i.a.Component{render(){let{active:e,activityState:t,style:n,enabled:r=!0,...a}=this.props;return void 0!==e&&void 0===t&&(t=0!==e?2:0),i.a.createElement(o.View,l({style:[n,u&&r&&2!==t?{display:"none"}:null]},a))}}const f=o.Animated.createAnimatedComponent(h),p=o.View,m=o.View,g=o.View,_=e=>i.a.createElement(o.View,null,i.a.createElement(o.Image,l({resizeMode:"center",fadeDuration:0},e))),y=e=>i.a.createElement(o.View,e),v=e=>i.a.createElement(o.View,e),b=e=>i.a.createElement(o.View,e),x=o.View,w=o.View,S=!0},function(e,t,n){var r=n(153),i=n(338),o={};for(var a in r)r.hasOwnProperty(a)&&(o[r[a]]=a);var s=e.exports={to:{},get:{}};function l(e,t,n){return Math.min(Math.max(t,e),n)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,n,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(t.slice(a,a+2),16)}i&&(o[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);i&&(o[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=r[t[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=l(o[n],0,255);return o[3]=l(o[3],0,1),o},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var e=i(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return o[e.slice(0,3)]}},function(e,t,n){"use strict";var r=n(339),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,n){var r=n(154),i=n(341),o={};Object.keys(r).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},function(e,t,n){var r=n(154);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var l=o[s],u=t[l];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,n.unshift(l))}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var l=r[s];null!==t[l].parent&&(n[l]=a(l,t))}return n}},function(e,t,n){var r=n(41),i=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(343)),a=r(n(346)),s=i(n(0)),l=i(n(352)),u=(i(n(353)),r(n(354))),c=r(n(386)),d=n(355),h=r(n(155)),f=r(n(377)),p=r(n(378)),m=r(n(379)),g=n(1),_=this,y="C:\\Users\\masze\\Documents\\UST\\ISDN 2002\\Github\\CatchProject\\src\\components\\InGame.js";p.default.workerClass=m.default,p.default.accessToken="pk.eyJ1IjoiaGVjdG9yY2hjaCIsImEiOiJja205YmhldXUwdHQ1Mm9xbGw4N2RodndhIn0.yX90QKE2jcgG-7V5wOGXeQ";var v="GG01-PP02",b=[{latitude:22.335083,longitude:114.262832},{latitude:22.33459,longitude:114.262834},{latitude:22.334605,longitude:114.263299},{latitude:22.335091,longitude:114.263291}],x={rid:v,CID:-1,time:0,is_in:null},w=function(e){var t,n,r=(0,s.useRef)(),i=(0,s.useState)(""),m=(0,a.default)(i,2),w=(m[0],m[1]),E=(0,s.useState)(null),T=(0,a.default)(E,2),k=T[0],C=T[1],P=(0,s.useState)(-1),R=(0,a.default)(P,2),O=R[0],M=R[1],A=(0,s.useState)(0),I=(0,a.default)(A,2),D=(I[0],I[1]),L=(0,s.useState)(""),z=(0,a.default)(L,2),N=(z[0],z[1]),F=(0,s.useState)(114.263069),B=(0,a.default)(F,2),j=B[0],V=B[1],U=(0,s.useState)(22.334851),W=(0,a.default)(U,2),G=W[0],H=W[1],q=(0,s.useState)(18),$=(0,a.default)(q,2),Z=$[0],K=$[1],X=(0,s.useState)(""),Y=(0,a.default)(X,2),Q=Y[0],J=Y[1],ee=(0,s.useState)(0),te=(0,a.default)(ee,2),ne=te[0],re=te[1],ie=(0,s.useState)(!1),oe=(0,a.default)(ie,2),ae=oe[0],se=oe[1],le=(0,s.useState)(""),ue=(0,a.default)(le,2),ce=ue[0],de=ue[1],he=(0,s.useState)([]),fe=(0,a.default)(he,2),pe=fe[0],me=fe[1],ge=(0,s.useState)(),_e=(0,a.default)(ge,2),ye=_e[0],ve=_e[1],be=(0,s.useState)(l),xe=(0,a.default)(be,2),we=xe[0],Se=xe[1],Ee=(0,s.useState)(x),Te=(0,a.default)(Ee,2),ke=Te[0],Ce=Te[1],Pe=(0,s.useState)(null),Re=(0,a.default)(Pe,2),Oe=Re[0],Me=Re[1],Ae=[],Ie=[];return(0,s.useEffect)((function(){var e=new p.default.Map({container:r.current,style:"mapbox://styles/mapbox/streets-v11",center:[j,G],zoom:Z});return Ie[0]=new p.default.Popup({offset:25}).setText(we.cpEnergyLevel[0]<0?"Occuplied by Team Blue by "+we.cpEnergyLevel[0]:"Occuplied by Team Red by "+we.cpEnergyLevel[0]),Ie[1]=new p.default.Popup({offset:25}).setText(we.cpEnergyLevel[1]<0?"Occuplied by Team Blue by "+we.cpEnergyLevel[1]:"Occuplied by Team Red by "+we.cpEnergyLevel[1]),Ie[2]=new p.default.Popup({offset:25}).setText(we.cpEnergyLevel[2]<0?"Occuplied by Team Blue by "+we.cpEnergyLevel[2]:"Occuplied by Team Red by "+we.cpEnergyLevel[2]),Ie[3]=new p.default.Popup({offset:25}).setText(we.cpEnergyLevel[3]<0?"Occuplied by Team Blue by "+we.cpEnergyLevel[3]:"Occuplied by Team Red by "+we.cpEnergyLevel[3]),Ae[0]=new p.default.Marker({color:we.cpEnergyLevel[0]<0?"#A9BCF5":"#F6CECE"}).setLngLat([114.262832,22.335083]).setPopup(Ie[0]).addTo(e),Ae[1]=new p.default.Marker({color:we.cpEnergyLevel[1]<0?"#A9BCF5":"#F6CECE"}).setLngLat([114.262834,22.33459]).setPopup(Ie[1]).addTo(e),Ae[2]=new p.default.Marker({color:we.cpEnergyLevel[2]<0?"#A9BCF5":"#F6CECE"}).setLngLat([114.263299,22.334605]).setPopup(Ie[2]).addTo(e),Ae[3]=new p.default.Marker({color:we.cpEnergyLevel<0?"#A9BCF5":"#F6CECE"}).setLngLat([114.263291,22.335091]).setPopup(Ie[3]).addTo(e),e.addControl(new p.default.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),e.on("move",(function(){V(e.getCenter().lng.toFixed(4)),H(e.getCenter().lat.toFixed(4)),K(e.getZoom().toFixed(2))})),function(){e.remove()}}),[]),(0,s.useEffect)((function(){null!=we&&ve(-1!=we.playerStatus.cp?pe.map((function(e){return s.createElement(g.View,{style:[S.enegryBar,{backgroundColor:e.color}],key:e.key,__self:_,__source:{fileName:y,lineNumber:119,columnNumber:11}})})):s.createElement(g.Text,{__self:_,__source:{fileName:y,lineNumber:126,columnNumber:14}},"Hurry to next CP"))}),[pe]),(0,f.default)((function(){(0,u.default)(Se,we,Oe,Me,v)}),1e3),(0,s.useEffect)((function(){null!=we&&-1!=we.playerStatus.cp&&me(function(){var e,t=[],n=we.cpEnergyLevel[we.playerStatus.cp];for(e=0;e<Math.abs(n);e++)n>0?t.push({key:e,color:"#2E64FE"}):t.push({key:e,color:"red"});for(;e<10;e++)t.push({key:e,color:"white"});return t}())}),[Oe]),(0,s.useEffect)((function(){return null!=we&&ne<we.eventLog.length&&!ae&&(de(we.eventLog[ne].slice(9,we.eventLog[ne].length)),se(!0)),function(){}}),[ne,Oe]),(0,s.useEffect)((function(){var e=new p.default.Map({container:r.current,style:"mapbox://styles/mapbox/streets-v11",center:[j,G],zoom:Z});return e.on("move",(function(){V(e.getCenter().lng.toFixed(4)),H(e.getCenter().lat.toFixed(4)),K(e.getZoom().toFixed(2))})),function(){e.remove()}}),[]),(0,s.useEffect)((function(){var e=c.default.watchPosition((function(e){C(e.coords),D(e.timestamp);var t=(0,h.default)(e.timestamp);N(t),console.log("Location updated at "+t),w("Latitude: "+(0,o.default)(e.coords.latitude)+"\nLongitude: "+(0,o.default)(e.coords.longitude))}),(function(e){console.log(e.code,e.message)}),{enableHighAccuracy:!0,timeout:15e3,distanceFilter:1,interval:1e5,fastestInterval:1e5}),t=!1;if(null!=k){for(var n=0;n<4;n++)if((0,d.getDistance)(k,b[n])<=5){-1==O&&(Ce({rid:v,CID:n,time:(new Date).getTime,is_in:!0}),fetch("http://localhost:3001/posting",{method:"POST",body:(0,o.default)(ke),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))),M(n),t=!0;break}t||(-1!=O&&Ce({rid:v,CID:O,time:(new Date).getTime,is_in:!1}),M(-1))}return function(){e&&c.default.clearWatch(e)}}),[k]),s.createElement(g.SafeAreaView,{style:S.container,__self:_,__source:{fileName:y,lineNumber:350,columnNumber:5}},s.createElement(g.Modal,{animationType:"fade",transparent:!0,visible:ae,onShow:function(){setTimeout((function(){se(!1)}),3e3)},onDismiss:function(){var e;re(ne+1),J((e="",ne>=4&&(e+=we.eventLog[ne-4]+"\n"),ne>=3&&(e+=we.eventLog[ne-3]+"\n"),ne>=2&&(e+=we.eventLog[ne-2]+"\n"),ne>=1&&(e+=we.eventLog[ne-1]+"\n"),e+=we.eventLog[ne]+"\n",console.log(1),e))},__self:_,__source:{fileName:y,lineNumber:351,columnNumber:7}},s.createElement(g.View,{style:S.notificationContainer,__self:_,__source:{fileName:y,lineNumber:365,columnNumber:9}},s.createElement(g.Text,{style:S.notificationText,__self:_,__source:{fileName:y,lineNumber:366,columnNumber:11}},ce))),s.createElement(g.View,{style:S.mapContainer,__self:_,__source:{fileName:y,lineNumber:369,columnNumber:7}},s.createElement("div",{className:"map-container",ref:r,__self:_,__source:{fileName:y,lineNumber:370,columnNumber:9}})),s.createElement("map",{__self:_,__source:{fileName:y,lineNumber:372,columnNumber:7}}),s.createElement(g.View,{style:S.scoreContainer,__self:_,__source:{fileName:y,lineNumber:373,columnNumber:7}},s.createElement(g.View,{style:S.scoreBarContainer,__self:_,__source:{fileName:y,lineNumber:374,columnNumber:9}},s.createElement(g.ProgressBar,{color:"red",trackColor:"#F6CECE",progress:we.score[0]/1e3,style:S.scoreBar,__self:_,__source:{fileName:y,lineNumber:375,columnNumber:11}}),s.createElement(g.ProgressBar,{color:"#A9BCF5",trackColor:"#2E64FE",progress:(1e3-we.score[1])/1e3,style:S.scoreBar,__self:_,__source:{fileName:y,lineNumber:381,columnNumber:11}})),s.createElement(g.View,{style:S.score,__self:_,__source:{fileName:y,lineNumber:388,columnNumber:9}},s.createElement(g.Text,{style:S.scoreRed,__self:_,__source:{fileName:y,lineNumber:389,columnNumber:11}},we.score[0]),s.createElement(g.Text,{style:S.scoreBlue,__self:_,__source:{fileName:y,lineNumber:390,columnNumber:11}},we.score[1]))),s.createElement(g.View,{style:S.eventLogContainer,__self:_,__source:{fileName:y,lineNumber:394,columnNumber:7}},s.createElement(g.Text,{__self:_,__source:{fileName:y,lineNumber:395,columnNumber:9}},Q)),s.createElement(g.View,{style:S.playerStatusContainer,__self:_,__source:{fileName:y,lineNumber:397,columnNumber:7}},s.createElement(g.View,{style:S.currentEnergyBar,__self:_,__source:{fileName:y,lineNumber:398,columnNumber:9}},ye),s.createElement(g.View,{style:S.captureAlertContainer,__self:_,__source:{fileName:y,lineNumber:399,columnNumber:9}},(t=function(){return s.createElement(g.ProgressBar,{color:"#A9BCF5",trackColor:"#2E64FE",indeterminate:!0,style:S.scoreBar,__self:_,__source:{fileName:y,lineNumber:132,columnNumber:7}})},n=function(){return s.createElement(g.ProgressBar,{color:"red",trackColor:"#F6CECE",indeterminate:!0,style:S.scoreBar,__self:_,__source:{fileName:y,lineNumber:140,columnNumber:7}})},0==we.playerStatus.status?s.createElement(g.ProgressBar,{trackColor:"grey",style:S.scoreBar,__self:_,__source:{fileName:y,lineNumber:148,columnNumber:14}}):-1==we.playerStatus.status?t():1==we.playerStatus.status?n():2==we.playerStatus.status?s.createElement(g.ProgressBar,{trackColor:"red",style:S.scoreBar,__self:_,__source:{fileName:y,lineNumber:155,columnNumber:9}}):void 0))))};t.default=w;var S=g.StyleSheet.create({container:{position:"absolute",height:g.Dimensions.get("window").height,width:g.Dimensions.get("window").width},notificationContainer:{width:"80%",backgroundColor:"white",borderRadius:10,height:"8%",justifyContent:"center",alignSelf:"center"},notificationText:{color:"black",textAlign:"center",textAlignVertical:"center"},mapContainer:{flex:.6,justifyContent:"center",backgroundColor:"white"},scoreContainer:{flex:.1},scoreBarContainer:{flex:1,flexDirection:"row",backgroundColor:"white"},score:{flexDirection:"row"},scoreRed:{flex:.5,alignSelf:"flex-start",color:"black"},scoreBlue:{flex:.5,textAlign:"end",color:"black"},scoreBar:{flex:.5,height:50},eventLogContainer:{flex:.15,backgroundColor:"white"},playerStatusContainer:{flex:.15,backgroundColor:"white"},currentEnergyBar:{flexDirection:"row",flex:.75},enegryBar:{flex:.1,height:"80%",borderRadius:5,marginHorizontal:5},captureAlertContainer:{flex:.25}})},function(e,t,n){e.exports=n(344)},function(e,t,n){var r=n(345),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(347),i=n(348),o=n(349),a=n(351);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(350);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e){e.exports=JSON.parse('{"cpEnergyLevel":[9,-1,-9,10],"score":[900,700],"eventLog":[],"playerStatus":{"cp":0,"status":1}}')},function(e){e.exports=JSON.parse('{"checkpoint_snapshots":[{"capturing_players":0,"capturing_team":"None","cid":"A1","energy":0,"name":"Alpha 1","role_snapshots":[],"team":"None","time":0},{"capturing_players":0,"capturing_team":"None","cid":"B1","energy":0,"name":"Bravo 1","role_snapshots":[],"team":"None","time":0},{"capturing_players":0,"capturing_team":"None","cid":"C1","energy":0,"name":"Charlie 1","role_snapshots":[],"team":"None","time":0}],"gid":"G01","role_snapshots":[],"team_scores":{"Blue":0,"Red":0},"time":0}')},function(e,t,n){var r=n(41);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(155)),o=function(e,t,n,r,o){fetch("http://localhost:3001/users").then((function(e){return e.json()})).then((function(a){null!=n&&function(e,t,n,r,o){for(var a=t,s=!0,l=0;l<r.checkpoint_snapshots.length;++l)a.cpEnergyLevel[l]=r.checkpoint_snapshots[l].energy,"Red"==r.checkpoint_snapshots[l].team&&(a.cpEnergyLevel[l]*=-1),console.log("None"===n.checkpoint_snapshots[l].team&&"None"!=r.checkpoint_snapshots[l].team),"None"===n.checkpoint_snapshots[l].team&&"None"!=r.checkpoint_snapshots[l].team&&a.eventLog.push((0,i.default)(r.time)+" Team "+r.checkpoint_snapshots[l].team+" has captured "+r.checkpoint_snapshots[l].name),n.checkpoint_snapshots[l].capturing_team!=r.checkpoint_snapshots[l].capturing_team&&"None"!=r.checkpoint_snapshots[l].capturing_team&&a.eventLog.push((0,i.default)(r.time)+" Team "+r.checkpoint_snapshots[l].team+" is capturing "+r.checkpoint_snapshots[l].name),s&&(pos=r.checkpoint_snapshots[l].role_snapshots.map((function(e){return e.rid})).indexOf(o),-1!=pos&&(s=!1,a.playerStatus.cp=l,3==r.checkpoint_snapshots[l].role_snapshots[pos].contributed?a.playerStatus.status=2:"None"==r.checkpoint_snapshots[l].capturing_team?a.playerStatus.status=0:r.checkpoint_snapshots[l].capturing_team==r.checkpoint_snapshots[l].role_snapshots[pos].team?a.playerStatus.status=1:a.playerStatus.status=-1));s&&(a.playerStatus.cp=-1,a.playerStatus.status=0),a.score[1]=r.team_scores.Blue,a.score[0]=r.team_scores.Red,e(a)}(e,t,n,a,o),r(a)})).catch((function(e){console.error(e)}))};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(t,"computeDestinationPoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"convertArea",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"convertDistance",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"convertSpeed",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"decimalToSexagesimal",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"findNearest",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"getAreaOfPolygon",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"getBounds",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getBoundsOfDistance",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"getCenter",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"getCenterOfBounds",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"getCompassDirection",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"getCoordinateKey",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"getCoordinateKeys",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"getDistance",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"getDistanceFromLine",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"getGreatCircleBearing",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"getLatitude",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"getLongitude",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"getPathLength",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"getPreciseDistance",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"getRhumbLineBearing",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"getRoughCompassDirection",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"getSpeed",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"isDecimal",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"isPointInLine",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"isPointInPolygon",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"isPointNearLine",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"isPointWithinRadius",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"isSexagesimal",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"isValidCoordinate",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"isValidLatitude",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"isValidLongitude",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(t,"orderByDistance",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"sexagesimalToDecimal",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"toDecimal",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"toRad",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"toDeg",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"wktToPolygon",{enumerable:!0,get:function(){return U.default}});var i=G(n(356)),o=G(n(357)),a=G(n(358)),s=G(n(359)),l=G(n(360)),u=G(n(361)),c=G(n(362)),d=G(n(161)),h=G(n(363)),f=G(n(364)),p=G(n(365)),m=G(n(366)),g=G(n(54)),_=G(n(96)),y=G(n(28)),v=G(n(163)),b=G(n(367)),x=G(n(18)),w=G(n(19)),S=G(n(368)),E=G(n(369)),T=G(n(162)),k=G(n(370)),C=G(n(371)),P=G(n(55)),R=G(n(372)),O=G(n(373)),M=G(n(374)),A=G(n(375)),I=G(n(56)),D=G(n(156)),L=G(n(157)),z=G(n(158)),N=G(n(159)),F=G(n(57)),B=G(n(95)),j=G(n(23)),V=G(n(30)),U=G(n(376)),W=n(10);function G(e){return e&&e.__esModule?e:{default:e}}Object.keys(W).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return W[e]}}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(18)),i=l(n(19)),o=l(n(23)),a=l(n(30)),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6371e3,u=(0,r.default)(e),c=(0,i.default)(e),d=t/l,h=(0,o.default)(n),f=(0,o.default)(u),p=(0,o.default)(c),m=Math.asin(Math.sin(f)*Math.cos(d)+Math.cos(f)*Math.sin(d)*Math.cos(h)),g=p+Math.atan2(Math.sin(h)*Math.sin(d)*Math.cos(f),Math.cos(d)-Math.sin(f)*Math.sin(m)),_=(0,a.default)(g);return(_<s.MINLON||_>s.MAXLON)&&(g=(g+3*Math.PI)%(2*Math.PI)-Math.PI,_=(0,a.default)(g)),{latitude:(0,a.default)(m),longitude:_}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=r.areaConversion[t];if(n)return e*n;throw new Error("Invalid unit used for area conversion.")};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=r.distanceConversion[t];if(n)return e*n;throw new Error("Invalid unit used for distance conversion.")};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kmh";switch(t){case"kmh":return e*r.timeConversion.h*r.distanceConversion.km;case"mph":return e*r.timeConversion.h*r.distanceConversion.mi;default:return e}};t.default=i},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){var t=Math.pow(10,12);return Math.round(e*t)/t},a=function(e){var t=r(e.toString().split("."),2),n=t[0],i=t[1],a=Math.abs(Number(n)),s=o(60*Number("0."+(i||0))),l=Math.floor(s),u=o(60*(s%l||0));return a+"° "+Number(l.toFixed(6)).toString().split(".").map((function(e,t){return 0===t?e.padStart(2,"0"):e})).join(".")+"' "+Number(u.toFixed(4)).toString().split(".").map((function(e,t){return 0===t?e.padStart(2,"0"):e})).join(".")+'"'};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(159))&&r.__esModule?r:{default:r};var o=function(e,t){return(0,i.default)(e,t)[0]};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(23)),i=s(n(18)),o=s(n(19)),a=n(10);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=0;if(e.length>2){for(var n,s,l,u=0;u<e.length;u++){u===e.length-2?(n=e.length-2,s=e.length-1,l=0):u===e.length-1?(n=e.length-1,s=0,l=1):(n=u,s=u+1,l=u+2);var c=(0,o.default)(e[n]),d=(0,i.default)(e[s]),h=(0,o.default)(e[l]);t+=((0,r.default)(h)-(0,r.default)(c))*Math.sin((0,r.default)(d))}t=t*a.earthRadius*a.earthRadius/2}return Math.abs(t)};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(18)),i=l(n(19)),o=l(n(23)),a=l(n(30)),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){var n,l,u=(0,r.default)(e),c=(0,i.default)(e),d=(0,o.default)(u),h=(0,o.default)(c),f=t/s.earthRadius,p=d-f,m=d+f,g=(0,o.default)(s.MAXLAT),_=(0,o.default)(s.MINLAT),y=(0,o.default)(s.MAXLON),v=(0,o.default)(s.MINLON);if(p>_&&m<g){var b=Math.asin(Math.sin(f)/Math.cos(d));(n=h-b)<v&&(n+=2*Math.PI),(l=h+b)>y&&(l-=2*Math.PI)}else p=Math.max(p,_),m=Math.min(m,g),n=v,l=y;return[{latitude:(0,a.default)(p),longitude:(0,a.default)(n)},{latitude:(0,a.default)(m),longitude:(0,a.default)(l)}]};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(18)),i=s(n(19)),o=s(n(23)),a=s(n(30));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){if(!1===Array.isArray(e)||0===e.length)return!1;var t=e.length,n=e.reduce((function(e,t){var n=(0,o.default)((0,r.default)(t)),a=(0,o.default)((0,i.default)(t));return{X:e.X+Math.cos(n)*Math.cos(a),Y:e.Y+Math.cos(n)*Math.sin(a),Z:e.Z+Math.sin(n)}}),{X:0,Y:0,Z:0}),s=n.X/t,l=n.Y/t,u=n.Z/t;return{longitude:(0,a.default)(Math.atan2(l,s)),latitude:(0,a.default)(Math.atan2(u,Math.sqrt(s*s+l*l)))}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(161))&&r.__esModule?r:{default:r};var o=function(e){var t=(0,i.default)(e),n=t.minLat+(t.maxLat-t.minLat)/2,r=t.minLng+(t.maxLng-t.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(r.toFixed(6))}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(162))&&r.__esModule?r:{default:r};var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default,r="function"==typeof n?n(e,t):(0,i.default)(e,t);if(isNaN(r))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(r/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(18)),i=s(n(19)),o=s(n(23)),a=s(n(30));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=(0,r.default)(t),s=(0,i.default)(t),l=(0,r.default)(e),u=(0,i.default)(e);return((0,a.default)(Math.atan2(Math.sin((0,o.default)(s)-(0,o.default)(u))*Math.cos((0,o.default)(n)),Math.cos((0,o.default)(l))*Math.sin((0,o.default)(n))-Math.sin((0,o.default)(l))*Math.cos((0,o.default)(n))*Math.cos((0,o.default)(s)-(0,o.default)(u))))+360)%360};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(28))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default;return e.reduce((function(e,n){return"object"===o(e)&&null!==e.last&&(e.distance+=t(n,e.last)),e.last=n,e}),{last:null,distance:0}).distance};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(18)),i=s(n(19)),o=s(n(23)),a=n(10);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n=void 0===n||isNaN(n)?1:n;var s,l,u,c,d,h,f,p=(0,r.default)(e),m=(0,i.default)(e),g=(0,r.default)(t),_=(0,i.default)(t),y=6356752.314245,v=1/298.257223563,b=(0,o.default)(_-m),x=Math.atan((1-v)*Math.tan((0,o.default)(parseFloat(p)))),w=Math.atan((1-v)*Math.tan((0,o.default)(parseFloat(g)))),S=Math.sin(x),E=Math.cos(x),T=Math.sin(w),k=Math.cos(w),C=b,P=100;do{var R=Math.sin(C),O=Math.cos(C);if(0===(h=Math.sqrt(k*R*(k*R)+(E*T-S*k*O)*(E*T-S*k*O))))return 0;s=S*T+E*k*O,l=Math.atan2(h,s),d=s-2*S*T/(c=1-(u=E*k*R/h)*u),isNaN(d)&&(d=0);var M=v/16*c*(4+v*(4-3*c));f=C,C=b+(1-M)*v*u*(l+M*h*(d+M*s*(2*d*d-1)))}while(Math.abs(C-f)>1e-12&&--P>0);if(0===P)return NaN;var A=c*(a.earthRadius*a.earthRadius-y*y)/(y*y),I=1+A/16384*(4096+A*(A*(320-175*A)-768)),D=A/1024*(256+A*(A*(74-47*A)-128)),L=D*h*(d+D/4*(s*(2*d*d-1)-D/6*d*(4*h*h-3)*(4*d*d-3))),z=y*I*(l-L);return Math.round(z/n)*n};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return/^NNE|NE|NNW|N$/.test(e)?"N":/^ENE|E|ESE|SE$/.test(e)?"E":/^SSE|S|SSW|SW$/.test(e)?"S":/^WSW|W|WNW|NW$/.test(e)?"W":void 0};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(28))&&r.__esModule?r:{default:r};var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default,r=n(e,t),o=Number(t.time)-Number(e.time),a=r/o*1e3;return a};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(28))&&r.__esModule?r:{default:r};var o=function(e,t,n){return(0,i.default)(t,e)+(0,i.default)(e,n)===(0,i.default)(t,n)};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(18)),i=o(n(19));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t){for(var n=!1,o=t.length,a=-1,s=o-1;++a<o;s=a)((0,i.default)(t[a])<=(0,i.default)(e)&&(0,i.default)(e)<(0,i.default)(t[s])||(0,i.default)(t[s])<=(0,i.default)(e)&&(0,i.default)(e)<(0,i.default)(t[a]))&&(0,r.default)(e)<((0,r.default)(t[s])-(0,r.default)(t[a]))*((0,i.default)(e)-(0,i.default)(t[a]))/((0,i.default)(t[s])-(0,i.default)(t[a]))+(0,r.default)(t[a])&&(n=!n);return n};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(163))&&r.__esModule?r:{default:r};var o=function(e,t,n,r){return(0,i.default)(e,t,n)<r};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(28))&&r.__esModule?r:{default:r};var o=function(e,t,n){return(0,i.default)(e,t)<n};t.default=o},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(!e.startsWith("POLYGON"))throw new Error("Invalid wkt.");return e.slice(e.indexOf("(")+2,e.indexOf(")")).split(", ").map((function(e){var t=r(e.split(" "),2),n=t[0],i=t[1];return{longitude:parseFloat(n),latitude:parseFloat(i)}}))};t.default=o},function(e,t,n){var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0));var o=function(e,t){var n=(0,i.useRef)();(0,i.useEffect)((function(){n.current=e}),[e]),(0,i.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])};t.default=o},function(e,t,n){(function(t){e.exports=function(){"use strict";var e=n;function n(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,r=function(e){var t=document.createElement("canvas"),r=Object.create(n.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}(e);if(!r)return!1;try{t=r.createShader(r.VERTEX_SHADER)}catch(e){return!1}return!(!t||r.isContextLost())&&(r.shaderSource(t,"void main() {}"),r.compileShader(t),!0===r.getShaderParameter(t,r.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var i="2.2.0",o=a;function a(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}a.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},a.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},a.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},a.prototype.solveCurveX=function(e,t){var n,r,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},a.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var s=l;function l(e,t){this.x=e,this.y=t}l.prototype={clone:function(){return new l(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},l.convert=function(e){return e instanceof l?e:Array.isArray(e)?new l(e[0],e[1]):e};var u="undefined"!=typeof self?self:{};function c(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!c(e[n],t[n]))return!1;return!0}return e===t}const d=Math.pow(2,53)-1,h=Math.PI/180,f=180/Math.PI;function p(e){return e*h}function m(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function g(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);return{min:new s(t,n),max:new s(r,i)}}function _(e,t,n=0,r=!0){const i=new s(n,n),o=e.sub(i),a=t.add(i),l=[o,new s(a.x,o.y),a,new s(o.x,a.y)];return r&&l.push(o),l}function y(e,t,n,r){const i=new o(e,t,n,r);return function(e){return i.solve(e)}}const v=y(.25,.1,.25,1);function b(e,t,n){return Math.min(n,Math.max(t,e))}function x(e,t,n){const r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function w(e,t,n){if(!e.length)return n(null,[]);let r=e.length;const i=new Array(e.length);let o=null;e.forEach((e,a)=>{t(e,(e,t)=>{e&&(o=e),i[a]=t,0==--r&&n(o,i)})})}function S(e){const t=[];for(const n in e)t.push(e[n]);return t}function E(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}function T(e,t){const n={};for(let r=0;r<t.length;r++){const i=t[r];i in e&&(n[i]=e[i])}return n}let k=1;function C(){return k++}function P(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function R(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function O(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t))})}function M(e,t){return-1!==e.indexOf(t,e.length-t.length)}function A(e,t,n){const r={};for(const i in e)r[i]=t.call(n||this,e[i],i,e);return r}function I(e,t,n){const r={};for(const i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function D(e){return Array.isArray(e)?e.map(D):"object"==typeof e&&e?A(e,D):e}const L={};function z(e){L[e]||("undefined"!=typeof console&&console.warn(e),L[e]=!0)}function N(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function F(e){let t=0;for(let n,r,i=0,o=e.length,a=o-1;i<o;a=i++)n=e[i],r=e[a],t+=(r.x-n.x)*(n.y+r.y);return t}function B(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function j(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,n,r,i)=>{const o=r||i;return t[n]=!o||o.toLowerCase(),""}),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let V,U,W,G=null;function H(e){if(null==G){const t=e.navigator?e.navigator.userAgent:null;G=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return G}function q(e){try{const t=u[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}const $={now:()=>void 0!==W?W:u.performance.now(),setNow(e){W=e},restoreNow(){W=void 0},frame(e){const t=u.requestAnimationFrame(e);return{cancel:()=>u.cancelAnimationFrame(t)}},getImageData(e,t=0){const n=u.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:e=>(V||(V=u.document.createElement("a")),V.href=e,V.href),get devicePixelRatio(){return u.devicePixelRatio},get prefersReducedMotion(){return!!u.matchMedia&&(null==U&&(U=u.matchMedia("(prefers-reduced-motion: reduce)")),U.matches)}},Z={create:function(e,t,n){const r=u.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r},createNS:function(e,t){return u.document.createElementNS(e,t)}},K=u.document&&u.document.documentElement.style,X=K&&void 0!==K.userSelect?"userSelect":"WebkitUserSelect";let Y;Z.disableDrag=function(){K&&X&&(Y=K[X],K[X]="none")},Z.enableDrag=function(){K&&X&&(K[X]=Y)},Z.setTransform=function(e,t){e.style.transform=t};let Q=!1;try{const e=Object.defineProperty({},"passive",{get(){Q=!0}});u.addEventListener("test",e,e),u.removeEventListener("test",e,e)}catch(e){Q=!1}Z.addEventListener=function(e,t,n,r={}){e.addEventListener(t,n,"passive"in r&&Q?r:r.capture)},Z.removeEventListener=function(e,t,n,r={}){e.removeEventListener(t,n,"passive"in r&&Q?r:r.capture)};const J=function(e){e.preventDefault(),e.stopPropagation(),u.removeEventListener("click",J,!0)};function ee(e,t,n){const r=e.offsetWidth===t.width?1:e.offsetWidth/t.width;return new s((n.clientX-t.left)*r,(n.clientY-t.top)*r)}let te;Z.suppressClick=function(){u.addEventListener("click",J,!0),u.setTimeout(()=>{u.removeEventListener("click",J,!0)},0)},Z.mousePos=function(e,t){const n=e.getBoundingClientRect();return ee(e,n,t)},Z.touchPos=function(e,t){const n=e.getBoundingClientRect(),r=[];for(let i=0;i<t.length;i++)r.push(ee(e,n,t[i]));return r},Z.mouseButton=function(e){return void 0!==u.InstallTrigger&&2===e.button&&e.ctrlKey&&u.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},Z.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};const ne={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==te){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{te=null!=t.env.API_URL_REGEX?new RegExp(t.env.API_URL_REGEX):e}catch(t){te=e}}return te},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},re={supported:!1,testSupport:function(e){!ae&&oe&&(se?le(e):ie=e)}};let ie,oe,ae=!1,se=!1;function le(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,oe),e.isContextLost())return;re.supported=!0}catch(e){}e.deleteTexture(t),ae=!0}u.document&&(oe=u.document.createElement("img"),oe.onload=function(){ie&&le(ie),ie=null,se=!0},oe.onerror=function(){ae=!0,ie=null},oe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const ue="01",ce="NO_ACCESS_TOKEN";class de{constructor(e,t,n){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!n,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ue,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!he(e))return e;const n=me(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!he(e))return e;const n=me(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)}normalizeSourceURL(e,t){if(!he(e))return e;const n=me(e);return n.path=`/v4/${n.authority}.json`,n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||t)}normalizeSpriteURL(e,t,n,r){const i=me(e);return he(e)?(i.path=`/styles/v1${i.path}/sprite${t}${n}`,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=`${t}${n}`,ge(i))}normalizeTileURL(e,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!he(e))return e;const r=me(e);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||n&&"raster"!==r.authority&&512===n?"@2x":""}${re.supported?".webp":"$1"}`),"raster"===r.authority?r.path=`/${ne.RASTER_URL_PREFIX}${r.path}`:(r.path=r.path.replace(/^.+\/v4\//,"/"),r.path=`/${ne.TILE_URL_VERSION}${r.path}`);const i=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(r.params)||ne.ACCESS_TOKEN;return ne.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&r.params.push("sku="+this._skuToken),this._makeAPIURL(r,i)}canonicalizeTileURL(e,t){const n=me(e);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return e;let r="mapbox://";n.path.match(/^\/raster\/v1\//)?r+="raster/"+n.path.replace(`/${ne.RASTER_URL_PREFIX}/`,""):r+="tiles/"+n.path.replace(`/${ne.TILE_URL_VERSION}/`,"");let i=n.params;return t&&(i=i.filter(e=>!e.match(/^access_token=/))),i.length&&(r+="?"+i.join("&")),r}canonicalizeTileset(e,t){const n=!!t&&he(t),r=[];for(const t of e.tiles||[])fe(t)?r.push(this.canonicalizeTileURL(t,n)):r.push(t);return r}_makeAPIURL(e,t){const n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=me(ne.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==r.path&&(e.path=`${r.path}${e.path}`),!ne.REQUIRE_ACCESS_TOKEN)return ge(e);if(t=t||ne.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n)}return e.params=e.params.filter(e=>-1===e.indexOf("access_token")),e.params.push("access_token="+(t||"")),ge(e)}}function he(e){return 0===e.indexOf("mapbox:")}function fe(e){return ne.API_URL_REGEX.test(e)}const pe=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function me(e){const t=e.match(pe);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function ge(e){const t=e.params.length?"?"+e.params.join("&"):"";return`${e.protocol}://${e.authority}${e.path}${t}`}function _e(e){if(!e)return null;const t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(u.atob(t[1]).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(e){return null}}class ye{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const t=_e(ne.ACCESS_TOKEN);let n="";return n=t&&t.u?u.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(Number("0x"+t)))):ne.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${n}`:"mapbox.eventData:"+n}fetchEventData(){const e=q("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{const e=u.localStorage.getItem(t);e&&(this.eventData=JSON.parse(e));const r=u.localStorage.getItem(n);r&&(this.anonId=r)}catch(e){z("Unable to read from LocalStorage")}}saveEventData(){const e=q("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{u.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&u.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){z("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,n,r){if(!ne.EVENTS_URL)return;const o=me(ne.EVENTS_URL);o.params.push("access_token="+(r||ne.ACCESS_TOKEN||""));const a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:i,skuId:ue,userId:this.anonId},s=t?E(a,t):a,l={url:ge(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Ge(l,e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(r)})}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const ve=new class extends ye{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){ne.EVENTS_URL&&ne.ACCESS_TOKEN&&Array.isArray(e)&&e.some(e=>he(e)||fe(e))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=_e(ne.ACCESS_TOKEN),n=t?t.u:ne.ACCESS_TOKEN;let r=n!==this.eventData.tokenU;R(this.anonId)||(this.anonId=P(),r=!0);const i=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(i),n=(i-this.eventData.lastSuccess)/864e5;r=r||n>=1||n<-1||e.getDate()!==t.getDate()}else r=!0;if(!r)return this.processRequests();this.postEvent(i,{"enabled.telemetry":!1},e=>{e||(this.eventData.lastSuccess=i,this.eventData.tokenU=n)},e)}},be=ve.postTurnstileEvent.bind(ve),xe=new class extends ye{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,n,r){this.skuToken=t,this.errorCb=r,ne.EVENTS_URL&&(n||ne.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ce)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),R(this.anonId)||(this.anonId=P()),this.postEvent(n,{skuToken:this.skuToken},e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e))}},we=xe.postMapLoadEvent.bind(xe),Se=new class extends ye{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,n,r){if(!ne.API_URL||!ne.SESSION_PATH)return;const i=me(ne.API_URL+ne.SESSION_PATH);i.params.push("sku="+(t||"")),i.params.push("access_token="+(r||ne.ACCESS_TOKEN||""));const o={url:ge(i),headers:{"Content-Type":"text/plain"}};this.pendingRequest=He(o,e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(r)})}getSessionAPI(e,t,n,r){this.skuToken=t,this.errorCb=r,ne.SESSION_PATH&&ne.API_URL&&(n||ne.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ce)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||this.getSession(n,this.skuToken,e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e)}},Ee=Se.getSessionAPI.bind(Se),Te=new Set;function ke(e,t){t?Te.add(e):Te.delete(e)}const Ce="mapbox-tiles";let Pe,Re,Oe=500,Me=50;function Ae(){u.caches&&!Pe&&(Pe=u.caches.open(Ce))}function Ie(e){const t=e.indexOf("?");return t<0?e:e.slice(0,t)}let De,Le=1/0;function ze(e){Le++,Le>Me&&(e.getActor().send("enforceCacheSizeLimit",Oe),Le=0)}function Ne(){return null==De&&(De=u.OffscreenCanvas&&new u.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof u.createImageBitmap),De}const Fe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Fe);class Be extends Error{constructor(e,t,n){401===t&&fe(n)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=n}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const je=B()?()=>self.worker&&self.worker.referrer:()=>("blob:"===u.location.protocol?u.parent:u).location.href,Ve=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(je())&&!/^\w+:/.test(n))){if(u.fetch&&u.Request&&u.AbortController&&u.Request.prototype.hasOwnProperty("signal"))return function(e,t){const n=new u.AbortController,r=new u.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:je(),signal:n.signal});let i=!1,o=!1;const a=(s=r.url).indexOf("sku=")>0&&fe(s);var s;"json"===e.type&&r.headers.set("Accept","application/json");const l=(n,i,s)=>{if(o)return;if(n&&"SecurityError"!==n.message&&z(n),i&&s)return c(i);const l=Date.now();u.fetch(r).then(n=>{if(n.ok){const e=a?n.clone():null;return c(n,e,l)}return t(new Be(n.statusText,n.status,e.url))}).catch(e=>{20!==e.code&&t(new Error(e.message))})},c=(n,a,s)=>{("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then(e=>{o||(a&&s&&function(e,t,n){if(Ae(),!Pe)return;const r={status:t.status,statusText:t.statusText,headers:new u.Headers};t.headers.forEach((e,t)=>r.headers.set(t,e));const i=j(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===Re)try{new Response(new ReadableStream),Re=!0}catch(e){Re=!1}Re?t(e.body):e.blob().then(t)}(t,t=>{const n=new u.Response(t,r);Ae(),Pe&&Pe.then(t=>t.put(Ie(e.url),n)).catch(e=>z(e.message))}))}(r,a,s),i=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))}).catch(e=>{o||t(new Error(e.message))})};return a?function(e,t){if(Ae(),!Pe)return t(null);const n=Ie(e.url);Pe.then(e=>{e.match(n).then(r=>{const i=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),n=j(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)}).catch(t)}).catch(t)}(r,l):l(null,null),{cancel:()=>{o=!0,i||n.abort()}}}(e,t);if(B()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){const n=new u.XMLHttpRequest;n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer");for(const t in e.headers)n.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=()=>{t(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new Be(n.statusText,n.status,e.url))},n.send(e.body),{cancel:()=>n.abort()}}(e,t)},Ue=function(e,t){return Ve(E(e,{type:"json"}),t)},We=function(e,t){return Ve(E(e,{type:"arrayBuffer"}),t)},Ge=function(e,t){return Ve(E(e,{method:"POST"}),t)},He=function(e,t){return Ve(E(e,{method:"GET"}),t)};function qe(e){const t=u.document.createElement("a");return t.href=e,t.protocol===u.document.location.protocol&&t.host===u.document.location.host}const $e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Ze,Ke;Ze=[],Ke=0;const Xe=function(e,t){if(re.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),Ke>=ne.MAX_PARALLEL_IMAGE_REQUESTS){const n={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return Ze.push(n),n}Ke++;let n=!1;const r=()=>{if(!n)for(n=!0,Ke--;Ze.length&&Ke<ne.MAX_PARALLEL_IMAGE_REQUESTS;){const e=Ze.shift(),{requestParameters:t,callback:n,cancelled:r}=e;r||(e.cancel=Xe(t,n).cancel)}},i=We(e,(e,n,i,o)=>{r(),e?t(e):n&&(Ne()?function(e,t){const n=new u.Blob([new Uint8Array(e)],{type:"image/png"});u.createImageBitmap(n).then(e=>{t(null,e)}).catch(e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(n,t):function(e,t,n,r){const i=new u.Image,o=u.URL;i.onload=()=>{t(null,i),o.revokeObjectURL(i.src),i.onload=null,u.requestAnimationFrame(()=>{i.src=$e})},i.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const a=new u.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=e.byteLength?o.createObjectURL(a):$e}(n,t,i,o))});return{cancel:()=>{i.cancel(),r()}}};function Ye(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function Qe(e,t,n){if(n&&n[e]){const r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}class Je{constructor(e,t={}){E(this,t),this.type=e}}class et extends Je{constructor(e,t={}){super("error",E({error:e},t))}}class tt{on(e,t){return this._listeners=this._listeners||{},Ye(e,t,this._listeners),this}off(e,t){return Qe(e,t,this._listeners),Qe(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Ye(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new Je(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const r=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const t of r)Qe(n,t,this._oneTimeListeners),t.call(this,e);const i=this._eventedParent;i&&(E(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof et&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var nt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class rt{constructor(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)}}function it(e){const t=e.value;return t?[new rt(e.key,t,"constants have been deprecated as of v8")]:[]}function ot(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}function at(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function st(e){if(Array.isArray(e))return e.map(st);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=st(e[n]);return t}return at(e)}class lt extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class ut{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new ut(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const ct={kind:"null"},dt={kind:"number"},ht={kind:"string"},ft={kind:"boolean"},pt={kind:"color"},mt={kind:"object"},gt={kind:"value"},_t={kind:"collator"},yt={kind:"formatted"},vt={kind:"resolvedImage"};function bt(e,t){return{kind:"array",itemType:e,N:t}}function xt(e){if("array"===e.kind){const t=xt(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const wt=[ct,dt,ht,ft,pt,yt,mt,bt(gt),vt];function St(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!St(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of wt)if(!St(e,t))return null}return`Expected ${xt(e)} but found ${xt(t)} instead.`}function Et(e,t){return t.some(t=>t.kind===e.kind)}function Tt(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}function kt(e){var t={exports:{}};return e(t,t.exports),t.exports}var Ct=kt((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),d=s.substr(l+1,u-(l+1)).split(","),h=1;switch(c){case"rgba":if(4!==d.length)return null;h=o(d.pop());case"rgb":return 3!==d.length?null:[i(d[0]),i(d[1]),i(d[2]),h];case"hsla":if(4!==d.length)return null;h=o(d.pop());case"hsl":if(3!==d.length)return null;var f=(parseFloat(d[0])%360+360)%360/360,p=o(d[1]),m=o(d[2]),g=m<=.5?m*(p+1):m+p-m*p,_=2*m-g;return[r(255*a(_,g,f+1/3)),r(255*a(_,g,f)),r(255*a(_,g,f-1/3)),h];default:return null}}return null}}catch(e){}}));class Pt{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof Pt)return e;if("string"!=typeof e)return;const t=Ct.parseCSSColor(e);return t?new Pt(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}}Pt.black=new Pt(0,0,0,1),Pt.white=new Pt(1,1,1,1),Pt.transparent=new Pt(0,0,0,0),Pt.red=new Pt(1,0,0,1),Pt.blue=new Pt(0,0,1,1);class Rt{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ot{constructor(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i}}class Mt{constructor(e){this.sections=e}static fromString(e){return new Mt([new Ot(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof Mt?e:Mt.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class At{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new At({name:e,available:!1}):null}serialize(){return["image",this.name]}}function It(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Dt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Pt)return!0;if(e instanceof Rt)return!0;if(e instanceof Mt)return!0;if(e instanceof At)return!0;if(Array.isArray(e)){for(const t of e)if(!Dt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Dt(e[t]))return!1;return!0}return!1}function Lt(e){if(null===e)return ct;if("string"==typeof e)return ht;if("boolean"==typeof e)return ft;if("number"==typeof e)return dt;if(e instanceof Pt)return pt;if(e instanceof Rt)return _t;if(e instanceof Mt)return yt;if(e instanceof At)return vt;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=Lt(t);if(n){if(n===e)continue;n=gt;break}n=e}return bt(n||gt,t)}return mt}function zt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Pt||e instanceof Mt||e instanceof At?e.toString():JSON.stringify(e)}class Nt{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Dt(e[1]))return t.error("invalid value");const n=e[1];let r=Lt(n);const i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new Nt(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Pt?["rgba"].concat(this.value.toArray()):this.value instanceof Mt?this.value.serialize():this.value}}class Ft{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const Bt={string:ht,number:dt,boolean:ft,object:mt};class jt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,r=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in Bt)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=Bt[n],r++}else i=gt;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=bt(i,o)}else n=Bt[i];const o=[];for(;r<e.length;r++){const n=t.parse(e[r],r,gt);if(!n)return null;o.push(n)}return new jt(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!St(this.type,Lt(n)))return n;if(t===this.args.length-1)throw new Ft(`Expected value to be of type ${xt(this.type)}, but found ${xt(Lt(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map(e=>e.serialize()))}}class Vt{constructor(e){this.type=yt,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const r=[];let i=!1;for(let n=1;n<=e.length-1;++n){const o=e[n];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,dt),!e))return null;let n=null;if(o["text-font"]&&(n=t.parse(o["text-font"],1,bt(ht)),!n))return null;let a=null;if(o["text-color"]&&(a=t.parse(o["text-color"],1,pt),!a))return null;const s=r[r.length-1];s.scale=e,s.font=n,s.textColor=a}else{const o=t.parse(e[n],1,gt);if(!o)return null;const a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:o,scale:null,font:null,textColor:null})}}return new Vt(r)}evaluate(e){return new Mt(this.sections.map(t=>{const n=t.content.evaluate(e);return Lt(n)===vt?new Ot("",n,null,null,null):new Ot(zt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Ut{constructor(e){this.type=vt,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,ht);return n?new Ut(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=At.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Wt={"to-boolean":ft,"to-color":pt,"to-number":dt,"to-string":ht};class Gt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const r=Wt[n],i=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],n,gt);if(!r)return null;i.push(r)}return new Gt(r,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof Pt)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:It(t[0],t[1],t[2],t[3]),!n))return new Pt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ft(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new Ft(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?Mt.fromString(zt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?At.fromString(zt(this.args[0].evaluate(e))):zt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Vt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ut(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}const Ht=["Unknown","Point","LineString","Polygon"];class qt{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Ht[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Pt.parse(e)),t}}class $t{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const n=e[0],r=$t.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let s=null;for(const[r,o]of a){s=new _n(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],i=Array.isArray(r)?r[t-1]:r.type,o=s.parse(n,1+a.length,i);if(!o){l=!0;break}a.push(o)}if(!l)if(Array.isArray(r)&&r.length!==a.length)s.error(`Expected ${r.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(r)?r[e]:r.type,n=a[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new $t(n,i,o,a)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(xt).join(", ")})`:`(${xt(t.type)}...)`;var t}).join(" | "),r=[];for(let n=1;n<e.length;n++){const i=t.parse(e[n],1+r.length);if(!i)return null;r.push(xt(i.type))}t.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){$t.definitions=t;for(const n in t)e[n]=$t}}class Zt{constructor(e,t,n){this.type=_t,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,ft);if(!r)return null;const i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,ft);if(!i)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,ht),!o)?null:new Zt(r,i,o)}evaluate(e){return new Rt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Kt=8192;function Xt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Yt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Qt(e,t){const n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*Kt),Math.round(r*i*Kt)]}function Jt(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i==0&&r*o<=0&&i*a<=0}function en(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(Jt(e,s[t],s[t+1]))return!1;(i=s[t])[1]>(r=e)[1]!=(o=s[t+1])[1]>r[1]&&r[0]<(o[0]-i[0])*(r[1]-i[1])/(o[1]-i[1])+i[0]&&(n=!n)}}var r,i,o;return n}function tn(e,t){for(let n=0;n<t.length;n++)if(en(e,t[n]))return!0;return!1}function nn(e,t,n,r){const i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function rn(e,t,n){for(const u of n)for(let n=0;n<u.length-1;++n)if(0!=(s=[(a=u[n+1])[0]-(o=u[n])[0],a[1]-o[1]])[0]*(l=[(i=t)[0]-(r=e)[0],i[1]-r[1]])[1]-s[1]*l[0]&&nn(r,i,o,a)&&nn(o,a,r,i))return!0;var r,i,o,a,s,l;return!1}function on(e,t){for(let n=0;n<e.length;++n)if(!en(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(rn(e[n],e[n+1],t))return!1;return!0}function an(e,t){for(let n=0;n<t.length;n++)if(on(e,t[n]))return!0;return!1}function sn(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let r=0;r<e[i].length;r++){const a=Qt(e[i][r],n);Xt(t,a),o.push(a)}r.push(o)}return r}function ln(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=sn(e[i],t,n);r.push(o)}return r}function un(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const t=.5*r;let i=e[0]-n[0]>t?-r:n[0]-e[0]>t?r:0;0===i&&(i=e[0]-n[2]>t?-r:n[2]-e[0]>t?r:0),e[0]+=i}Xt(t,e)}function cn(e,t,n,r){const i=Math.pow(2,r.z)*Kt,o=[r.x*Kt,r.y*Kt],a=[];for(const r of e)for(const e of r){const r=[e.x+o[0],e.y+o[1]];un(r,t,n,i),a.push(r)}return a}function dn(e,t,n,r){const i=Math.pow(2,r.z)*Kt,o=[r.x*Kt,r.y*Kt],a=[];for(const n of e){const e=[];for(const r of n){const n=[r.x+o[0],r.y+o[1]];Xt(t,n),e.push(n)}a.push(e)}if(t[2]-t[0]<=i/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const r of e)un(r,t,n,i)}var s;return a}class hn{constructor(e,t){this.type=ft,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Dt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new hn(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new hn(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new hn(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=sn(t.coordinates,r,i),a=cn(e.geometry(),n,r,i);if(!Yt(n,r))return!1;for(const e of a)if(!en(e,o))return!1}if("MultiPolygon"===t.type){const o=ln(t.coordinates,r,i),a=cn(e.geometry(),n,r,i);if(!Yt(n,r))return!1;for(const e of a)if(!tn(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=sn(t.coordinates,r,i),a=dn(e.geometry(),n,r,i);if(!Yt(n,r))return!1;for(const e of a)if(!on(e,o))return!1}if("MultiPolygon"===t.type){const o=ln(t.coordinates,r,i),a=dn(e.geometry(),n,r,i);if(!Yt(n,r))return!1;for(const e of a)if(!an(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function fn(e){if(e instanceof $t){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof hn)return!1;let t=!0;return e.eachChild(e=>{t&&!fn(e)&&(t=!1)}),t}function pn(e){if(e instanceof $t&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!pn(e)&&(t=!1)}),t}function mn(e,t){if(e instanceof $t&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(e=>{n&&!mn(e,t)&&(n=!1)}),n}class gn{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new gn(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class _n{constructor(e,t=[],n,r=new ut,i=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=r,this.errors=i,this.expectedType=n}parse(e,t,n,r,i={}){return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}_parse(e,t){function n(e,t,n){return"assert"===n?new jt(t,[e]):"coerce"===n?new Gt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[r];if(i){let r=i.parse(e,this);if(!r)return null;if(this.expectedType){const e=this.expectedType,i=r.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(e,i))return null}else r=n(r,e,t.typeAnnotation||"coerce");else r=n(r,e,t.typeAnnotation||"assert")}if(!(r instanceof Nt)&&"resolvedImage"!==r.type.kind&&function e(t){if(t instanceof gn)return e(t.boundExpression);if(t instanceof $t&&"error"===t.name)return!1;if(t instanceof Zt)return!1;if(t instanceof hn)return!1;const n=t instanceof Gt||t instanceof jt;let r=!0;return t.eachChild(t=>{r=n?r&&e(t):r&&t instanceof Nt}),!!r&&fn(t)&&mn(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}(r)){const t=new qt;try{r=new Nt(r.type,r.evaluate(t))}catch(e){return this.error(e.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new _n(this.registry,r,t||null,i,this.errors)}error(e,...t){const n=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new lt(n,e))}checkSubtype(e,t){const n=St(e,t);return n&&this.error(n),n}}function yn(e,t){const n=e.length-1;let r,i,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),r=e[s],i=e[s+1],r<=t){if(s===n||t<i)return s;o=s+1}else{if(!(r>t))throw new Ft("Input is not a number.");a=s-1}return 0}class vn{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,dt);if(!n)return null;const r=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let n=1;n<e.length;n+=2){const o=1===n?-1/0:e[n],a=e[n+1],s=n,l=n+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const u=t.parse(a,l,i);if(!u)return null;i=i||u.type,r.push([o,u])}return new vn(i,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[yn(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}function bn(e,t,n){return e*(1-n)+t*n}var xn=Object.freeze({__proto__:null,number:bn,color:function(e,t,n){return new Pt(bn(e.r,t.r,n),bn(e.g,t.g,n),bn(e.b,t.b,n),bn(e.a,t.a,n))},array:function(e,t,n){return e.map((e,r)=>bn(e,t[r],n))}});const wn=6/29*3*(6/29),Sn=Math.PI/180,En=180/Math.PI;function Tn(e){return e>.008856451679035631?Math.pow(e,1/3):e/wn+4/29}function kn(e){return e>6/29?e*e*e:wn*(e-4/29)}function Cn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Pn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Rn(e){const t=Pn(e.r),n=Pn(e.g),r=Pn(e.b),i=Tn((.4124564*t+.3575761*n+.1804375*r)/.95047),o=Tn((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Tn((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function On(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*kn(t),n=.95047*kn(n),r=1.08883*kn(r),new Pt(Cn(3.2404542*n-1.5371385*t-.4985314*r),Cn(-.969266*n+1.8760108*t+.041556*r),Cn(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Mn(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}const An={forward:Rn,reverse:On,interpolate:function(e,t,n){return{l:bn(e.l,t.l,n),a:bn(e.a,t.a,n),b:bn(e.b,t.b,n),alpha:bn(e.alpha,t.alpha,n)}}},In={forward:function(e){const{l:t,a:n,b:r}=Rn(e),i=Math.atan2(r,n)*En;return{h:i<0?i+360:i,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Sn,n=e.c;return On({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Mn(e.h,t.h,n),c:bn(e.c,t.c,n),l:bn(e.l,t.l,n),alpha:bn(e.alpha,t.alpha,n)}}};var Dn=Object.freeze({__proto__:null,lab:An,hcl:In});class Ln{constructor(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,n,r){let i=0;if("exponential"===e.name)i=zn(t,e.base,n,r);else if("linear"===e.name)i=zn(t,1,n,r);else if("cubic-bezier"===e.name){const a=e.controlPoints;i=new o(a[0],a[1],a[2],a[3]).solve(zn(t,1,n,r))}return i}static parse(e,t){let[n,r,i,...o]=e;if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const e=r[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:e}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);{const e=r.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,dt),!i)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=pt:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<o.length;e+=2){const n=o[e],r=o[e+1],i=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const u=t.parse(r,l,s);if(!u)return null;s=s||u.type,a.push([n,u])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new Ln(s,n,r,i,a):t.error(`Type ${xt(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);const o=yn(t,r),a=Ln.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?xn[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?In.reverse(In.interpolate(In.forward(s),In.forward(l),a)):An.reverse(An.interpolate(An.forward(s),An.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function zn(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}class Nn{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&"value"!==r.kind&&(n=r);const i=[];for(const r of e.slice(1)){const e=t.parse(r,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,i.push(e)}const o=r&&i.some(e=>St(r,e.type));return new Nn(o?gt:n,i)}evaluate(e){let t,n=null,r=0;for(const i of this.args)if(r++,n=i.evaluate(e),n&&n instanceof At&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class Fn{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new Fn(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}class Bn{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,dt),r=t.parse(e[2],2,bt(t.expectedType||gt));return n&&r?new Bn(r.type.itemType,n,r):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ft(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Ft(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Ft(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class jn{constructor(e,t){this.type=ft,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,gt),r=t.parse(e[2],2,gt);return n&&r?Et(n.type,[ft,ht,dt,ct,gt])?new jn(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${xt(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Tt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${xt(Lt(t))} instead.`);if(!Tt(n,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${xt(Lt(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Vn{constructor(e,t,n){this.type=dt,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,gt),r=t.parse(e[2],2,gt);if(!n||!r)return null;if(!Et(n.type,[ft,ht,dt,ct,gt]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${xt(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,dt);return i?new Vn(n,r,i):null}return new Vn(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Tt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${xt(Lt(t))} instead.`);if(!Tt(n,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${xt(Lt(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Un{constructor(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const i={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return u.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,Lt(e)))return null}else n=Lt(e);if(void 0!==i[String(e)])return u.error("Branch labels must be unique.");i[String(e)]=o.length}const c=t.parse(l,a,r);if(!c)return null;r=r||c.type,o.push(c)}const a=t.parse(e[1],1,gt);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,r);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new Un(n,r,a,i,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Lt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],r={};for(const e of t){const t=r[this.cases[e]];void 0===t?(r[this.cases[e]]=n.length,n.push([this.cases[e],[e]])):n[t][1].push(e)}const i=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,r]of n)e.push(1===r.length?i(r[0]):r.map(i)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}class Wn{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r=[];for(let i=1;i<e.length-1;i+=2){const o=t.parse(e[i],i,ft);if(!o)return null;const a=t.parse(e[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}const i=t.parse(e[e.length-1],e.length-1,n);return i?new Wn(n,r,i):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class Gn{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,gt),r=t.parse(e[2],2,dt);if(!n||!r)return null;if(!Et(n.type,[bt(gt),ht,gt]))return t.error(`Expected first argument to be of type array or string, but found ${xt(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,dt);return i?new Gn(n.type,n,r,i):null}return new Gn(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Tt(t,["string","array"]))throw new Ft(`Expected first argument to be of type array or string, but found ${xt(Lt(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Hn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function qn(e,t,n,r){return 0===r.compare(t,n)}function $n(e,t,n){const r="=="!==e&&"!="!==e;return class i{constructor(e,t,n){this.type=ft,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,gt);if(!o)return null;if(!Hn(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${xt(o.type)}'.`);let a=t.parse(e[2],2,gt);if(!a)return null;if(!Hn(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${xt(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${xt(o.type)}' and '${xt(a.type)}'.`);r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new jt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new jt(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,_t),!s)return null}return new i(o,a,s)}evaluate(i){const o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){const t=Lt(o),n=Lt(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ft(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=Lt(o),n=Lt(a);if("string"!==e.kind||"string"!==n.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const Zn=$n("==",(function(e,t,n){return t===n}),qn),Kn=$n("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!qn(0,t,n,r)})),Xn=$n("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),Yn=$n(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),Qn=$n("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),Jn=$n(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0}));class er{constructor(e,t,n,r,i){this.type=ht,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,dt);if(!n)return null;const r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let i=null;if(r.locale&&(i=t.parse(r.locale,1,ht),!i))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,ht),!o))return null;let a=null;if(r["min-fraction-digits"]&&(a=t.parse(r["min-fraction-digits"],1,dt),!a))return null;let s=null;return r["max-fraction-digits"]&&(s=t.parse(r["max-fraction-digits"],1,dt),!s)?null:new er(n,i,o,a,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class tr{constructor(e){this.type=dt,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${xt(n.type)} instead.`):new tr(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ft(`Expected value to be of type string or array, but found ${xt(Lt(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const nr={"==":Zn,"!=":Kn,">":Yn,"<":Xn,">=":Jn,"<=":Qn,array:jt,at:Bn,boolean:jt,case:Wn,coalesce:Nn,collator:Zt,format:Vt,image:Ut,in:jn,"index-of":Vn,interpolate:Ln,"interpolate-hcl":Ln,"interpolate-lab":Ln,length:tr,let:Fn,literal:Nt,match:Un,number:jt,"number-format":er,object:jt,slice:Gn,step:vn,string:jt,"to-boolean":Gt,"to-color":Gt,"to-number":Gt,"to-string":Gt,var:gn,within:hn};function rr(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=It(t,n,r,o);if(a)throw new Ft(a);return new Pt(t/255*o,n/255*o,r/255*o,o)}function ir(e,t){return e in t}function or(e,t){const n=t[e];return void 0===n?null:n}function ar(e){return{type:e}}function sr(e){return{result:"success",value:e}}function lr(e){return{result:"error",value:e}}function ur(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function cr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function dr(e){return!!e.expression&&e.expression.interpolated}function hr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function fr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function pr(e){return e}function mr(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function gr(e,t,n,r,i){return mr(typeof n===i?r[n]:void 0,e.default,t.default)}function _r(e,t,n){if("number"!==hr(n))return mr(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=yn(e.stops.map(e=>e[0]),n);return e.stops[i][1]}function yr(e,t,n){const r=void 0!==e.base?e.base:1;if("number"!==hr(n))return mr(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=yn(e.stops.map(e=>e[0]),n),a=function(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let u=xn[t.type]||pr;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Dn[e.colorSpace];u=(e,n)=>t.reverse(t.interpolate(t.forward(e),t.forward(n),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==n)return u(t,n,a)}}:u(s,l,a)}function vr(e,t,n){return"color"===t.type?n=Pt.parse(n):"formatted"===t.type?n=Mt.fromString(n.toString()):"resolvedImage"===t.type?n=At.fromString(n.toString()):hr(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),mr(n,e.default,t.default)}$t.register(nr,{error:[{kind:"error"},[ht],(e,[t])=>{throw new Ft(t.evaluate(e))}],typeof:[ht,[gt],(e,[t])=>xt(Lt(t.evaluate(e)))],"to-rgba":[bt(dt,4),[pt],(e,[t])=>t.evaluate(e).toArray()],rgb:[pt,[dt,dt,dt],rr],rgba:[pt,[dt,dt,dt,dt],rr],has:{type:ft,overloads:[[[ht],(e,[t])=>ir(t.evaluate(e),e.properties())],[[ht,mt],(e,[t,n])=>ir(t.evaluate(e),n.evaluate(e))]]},get:{type:gt,overloads:[[[ht],(e,[t])=>or(t.evaluate(e),e.properties())],[[ht,mt],(e,[t,n])=>or(t.evaluate(e),n.evaluate(e))]]},"feature-state":[gt,[ht],(e,[t])=>or(t.evaluate(e),e.featureState||{})],properties:[mt,[],e=>e.properties()],"geometry-type":[ht,[],e=>e.geometryType()],id:[gt,[],e=>e.id()],zoom:[dt,[],e=>e.globals.zoom],"heatmap-density":[dt,[],e=>e.globals.heatmapDensity||0],"line-progress":[dt,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[dt,[],e=>e.globals.skyRadialProgress||0],accumulated:[gt,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[dt,ar(dt),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[dt,ar(dt),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:dt,overloads:[[[dt,dt],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[dt],(e,[t])=>-t.evaluate(e)]]},"/":[dt,[dt,dt],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[dt,[dt,dt],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[dt,[],()=>Math.LN2],pi:[dt,[],()=>Math.PI],e:[dt,[],()=>Math.E],"^":[dt,[dt,dt],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[dt,[dt],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[dt,[dt],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[dt,[dt],(e,[t])=>Math.log(t.evaluate(e))],log2:[dt,[dt],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[dt,[dt],(e,[t])=>Math.sin(t.evaluate(e))],cos:[dt,[dt],(e,[t])=>Math.cos(t.evaluate(e))],tan:[dt,[dt],(e,[t])=>Math.tan(t.evaluate(e))],asin:[dt,[dt],(e,[t])=>Math.asin(t.evaluate(e))],acos:[dt,[dt],(e,[t])=>Math.acos(t.evaluate(e))],atan:[dt,[dt],(e,[t])=>Math.atan(t.evaluate(e))],min:[dt,ar(dt),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[dt,ar(dt),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[dt,[dt],(e,[t])=>Math.abs(t.evaluate(e))],round:[dt,[dt],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[dt,[dt],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[dt,[dt],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[ft,[ht,gt],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[ft,[gt],(e,[t])=>e.id()===t.value],"filter-type-==":[ft,[ht],(e,[t])=>e.geometryType()===t.value],"filter-<":[ft,[ht,gt],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[ft,[gt],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[ft,[ht,gt],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[ft,[gt],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[ft,[ht,gt],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[ft,[gt],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[ft,[ht,gt],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[ft,[gt],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[ft,[gt],(e,[t])=>t.value in e.properties()],"filter-has-id":[ft,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[ft,[bt(ht)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[ft,[bt(gt)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[ft,[ht,bt(gt)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[ft,[ht,bt(gt)],(e,[t,n])=>function(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:ft,overloads:[[[ft,ft],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[ar(ft),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:ft,overloads:[[[ft,ft],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[ar(ft),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[ft,[ft],(e,[t])=>!t.evaluate(e)],"is-supported-script":[ft,[ht],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[ht,[ht],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[ht,[ht],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[ht,ar(gt),(e,t)=>t.map(t=>zt(t.evaluate(e))).join("")],"resolved-locale":[ht,[_t],(e,[t])=>t.evaluate(e).resolvedLocale()]});class br{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new qt,this._defaultValue=t?function(e){return"color"===e.type&&fr(e.default)?new Pt(0,0,0,0):"color"===e.type?Pt.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ft(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function xr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in nr}function wr(e,t){const n=new _n(nr,[],t?function(e){const t={color:pt,string:ht,number:dt,enum:ht,boolean:ft,formatted:yt,resolvedImage:vt};return"array"===e.type?bt(t[e.value]||gt,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?sr(new br(r,t)):lr(n.errors)}class Sr{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!pn(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}}class Er{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!pn(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}interpolationFactor(e,t,n){return this.interpolationType?Ln.interpolationFactor(this.interpolationType,e,t,n):0}}function Tr(e,t){if("error"===(e=wr(e,t)).result)return e;const n=e.value.expression,r=fn(n);if(!r&&!ur(t))return lr([new lt("","data expressions not supported")]);const i=mn(n,["zoom"]);if(!i&&!cr(t))return lr([new lt("","zoom expressions not supported")]);const o=function e(t){let n=null;if(t instanceof Fn)n=e(t.result);else if(t instanceof Nn){for(const r of t.args)if(n=e(r),n)break}else(t instanceof vn||t instanceof Ln)&&t.input instanceof $t&&"zoom"===t.input.name&&(n=t);return n instanceof lt||t.eachChild(t=>{const r=e(t);r instanceof lt?n=r:!n&&r?n=new lt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new lt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}(n);return o||i?o instanceof lt?lr([o]):o instanceof Ln&&!dr(t)?lr([new lt("",'"interpolate" expressions cannot be used with this property')]):sr(o?new Er(r?"camera":"composite",e.value,o.labels,o instanceof Ln?o.interpolation:void 0):new Sr(r?"constant":"source",e.value)):lr([new lt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class kr{constructor(e,t){this._parameters=e,this._specification=t,ot(this,function e(t,n){const r="color"===n.type,i=t.stops&&"object"==typeof t.stops[0][0],o=i||!(i||void 0!==t.property),a=t.type||(dr(n)?"exponential":"interval");if(r&&((t=ot({},t)).stops&&(t.stops=t.stops.map(e=>[e[0],Pt.parse(e[1])])),t.default=Pt.parse(t.default?t.default:n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Dn[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);let s,l,u;if("exponential"===a)s=yr;else if("interval"===a)s=_r;else if("categorical"===a){s=gr,l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];u=typeof t.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);s=vr}if(i){const r={},i=[];for(let e=0;e<t.stops.length;e++){const n=t.stops[e],o=n[0].zoom;void 0===r[o]&&(r[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},i.push(o)),r[o].stops.push([n[0].value,n[1]])}const o=[];for(const t of i)o.push([r[t].zoom,e(r[t],n)]);const a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:Ln.interpolationFactor.bind(void 0,a),zoomStops:o.map(e=>e[0]),evaluate:({zoom:e},r)=>yr({stops:o,base:t.base},n,e).evaluate(e,r)}}if(o){const e="exponential"===a?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:e,interpolationFactor:Ln.interpolationFactor.bind(void 0,e),zoomStops:t.stops.map(e=>e[0]),evaluate:({zoom:e})=>s(t,n,e,l,u)}}return{kind:"source",evaluate(e,r){const i=r&&r.properties?r.properties[t.property]:void 0;return void 0===i?mr(t.default,n.default):s(t,n,i,l,u)}}}(this._parameters,this._specification))}static deserialize(e){return new kr(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Cr(e){const t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=hr(n);if("object"!==l)return[new rt(t,n,`object expected, ${l} found`)];for(const e in n){const l=e.split(".")[0],u=r[l]||r["*"];let c;if(i[l])c=i[l];else if(r[l])c=ei;else if(i["*"])c=i["*"];else{if(!r["*"]){s.push(new rt(t,n[e],`unknown property "${e}"`));continue}c=ei}s=s.concat(c({key:(t?t+".":t)+e,value:n[e],valueSpec:u,style:o,styleSpec:a,object:n,objectKey:e},n))}for(const e in r)i[e]||r[e].required&&void 0===r[e].default&&void 0===n[e]&&s.push(new rt(t,n,`missing required property "${e}"`));return s}function Pr(e){const t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||ei;if("array"!==hr(t))return[new rt(o,t,`array expected, ${hr(t)} found`)];if(n.length&&t.length!==n.length)return[new rt(o,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new rt(o,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let s={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum};i.$version<7&&(s.function=n.function),"object"===hr(n.value)&&(s=n.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:r,styleSpec:i,key:`${o}[${e}]`}));return l}function Rr(e){const t=e.key,n=e.value,r=e.valueSpec;let i=hr(n);if("number"===i&&n!=n&&(i="NaN"),"number"!==i)return[new rt(t,n,`number expected, ${i} found`)];if("minimum"in r){let i=r.minimum;if("array"===hr(r.minimum)&&(i=r.minimum[e.arrayIndex]),n<i)return[new rt(t,n,`${n} is less than the minimum value ${i}`)]}if("maximum"in r){let i=r.maximum;if("array"===hr(r.maximum)&&(i=r.maximum[e.arrayIndex]),n>i)return[new rt(t,n,`${n} is greater than the maximum value ${i}`)]}return[]}function Or(e){const t=e.valueSpec,n=at(e.value.type);let r,i,o,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,u="array"===hr(e.value.stops)&&"array"===hr(e.value.stops[0])&&"object"===hr(e.value.stops[0][0]),c=Cr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new rt(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const r=e.value;return t=t.concat(Pr({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===hr(r)&&0===r.length&&t.push(new rt(e.key,r,"array must have at least one stop")),t},default:function(e){return ei({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&c.push(new rt(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||c.push(new rt(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!dr(e.valueSpec)&&c.push(new rt(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!ur(e.valueSpec)?c.push(new rt(e.key,e.value,"property functions not supported")):s&&!cr(e.valueSpec)&&c.push(new rt(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!u||void 0!==e.value.property||c.push(new rt(e.key,e.value,'"property" property is required')),c;function d(e){let n=[];const r=e.value,s=e.key;if("array"!==hr(r))return[new rt(s,r,`array expected, ${hr(r)} found`)];if(2!==r.length)return[new rt(s,r,`array length 2 expected, length ${r.length} found`)];if(u){if("object"!==hr(r[0]))return[new rt(s,r,`object expected, ${hr(r[0])} found`)];if(void 0===r[0].zoom)return[new rt(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new rt(s,r,"object stop key must have value")];if(o&&o>at(r[0].zoom))return[new rt(s,r[0].zoom,"stop zoom values must appear in ascending order")];at(r[0].zoom)!==o&&(o=at(r[0].zoom),i=void 0,a={}),n=n.concat(Cr({key:s+"[0]",value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Rr,value:h}}))}else n=n.concat(h({key:s+"[0]",value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return xr(st(r[1]))?n.concat([new rt(s+"[1]",r[1],"expressions are not allowed in function stops.")]):n.concat(ei({key:s+"[1]",value:r[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function h(e,o){const s=hr(e.value),l=at(e.value),u=null!==e.value?e.value:o;if(r){if(s!==r)return[new rt(e.key,u,`${s} stop domain type must match previous stop domain type ${r}`)]}else r=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new rt(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let r=`number expected, ${s} found`;return ur(t)&&void 0===n&&(r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new rt(e.key,u,r)]}return"categorical"!==n||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&void 0!==i&&l<i?[new rt(e.key,u,"stop domain values must appear in ascending order")]:(i=l,"categorical"===n&&l in a?[new rt(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new rt(e.key,u,"integer expected, found "+l)]}}function Mr(e){const t=("property"===e.expressionContext?Tr:wr)(st(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new rt(`${e.key}${t.key}`,e.value,t.message));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new rt(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!pn(n))return[new rt(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!pn(n))return[new rt(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!mn(n,["zoom","feature-state"]))return[new rt(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!fn(n))return[new rt(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ar(e){const t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(at(n))&&i.push(new rt(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(r.values).indexOf(at(n))&&i.push(new rt(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function Ir(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Ir(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Dr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Lr(e){if(null==e)return{filter:()=>!0,needGeometry:!1};Ir(e)||(e=Fr(e));const t=wr(e,Dr);if("error"===t.result)throw new Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));return{filter:(e,n,r)=>t.value.evaluate(e,n,{},r),needGeometry:Nr(e)}}function zr(e,t){return e<t?-1:e>t?1:0}function Nr(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(Nr(e[t]))return!0;return!1}function Fr(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?Br(e[1],e[2],"=="):"!="===t?Ur(Br(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Br(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(Fr))):"all"===t?["all"].concat(e.slice(1).map(Fr)):"none"===t?["all"].concat(e.slice(1).map(Fr).map(Ur)):"in"===t?jr(e[1],e.slice(2)):"!in"===t?Ur(jr(e[1],e.slice(2))):"has"===t?Vr(e[1]):"!has"===t?Ur(Vr(e[1])):"within"!==t||e;var n}function Br(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function jr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(zr)]]:["filter-in-small",e,["literal",t]]}}function Vr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Ur(e){return["!",e]}function Wr(e){return Ir(st(e.value))?Mr(ot({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){const n=t.value,r=t.key;if("array"!==hr(n))return[new rt(r,n,`array expected, ${hr(n)} found`)];const i=t.styleSpec;let o,a=[];if(n.length<1)return[new rt(r,n,"filter array must have at least 1 element")];switch(a=a.concat(Ar({key:r+"[0]",value:n[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),at(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===at(n[1])&&a.push(new rt(r,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":3!==n.length&&a.push(new rt(r,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(o=hr(n[1]),"string"!==o&&a.push(new rt(r+"[1]",n[1],`string expected, ${o} found`)));for(let e=2;e<n.length;e++)o=hr(n[e]),"$type"===at(n[1])?a=a.concat(Ar({key:`${r}[${e}]`,value:n[e],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new rt(`${r}[${e}]`,n[e],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let i=1;i<n.length;i++)a=a.concat(e({key:`${r}[${i}]`,value:n[i],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=hr(n[1]),2!==n.length?a.push(new rt(r,n,`filter array for "${n[0]}" operator must have 2 elements`)):"string"!==o&&a.push(new rt(r+"[1]",n[1],`string expected, ${o} found`));break;case"within":o=hr(n[1]),2!==n.length?a.push(new rt(r,n,`filter array for "${n[0]}" operator must have 2 elements`)):"object"!==o&&a.push(new rt(r+"[1]",n[1],`object expected, ${o} found`))}return a}(e)}function Gr(e,t){const n=e.key,r=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return ei({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});const u=e.valueSpec||s[a];if(!u)return[new rt(n,o,`unknown property "${a}"`)];let c;if("string"===hr(o)&&ur(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(o)))return[new rt(n,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(c[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&d.push(new rt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&fr(st(o))&&"identity"===at(o.type)&&d.push(new rt(n,o,'"text-font" does not support identity functions'))),d.concat(ei({key:e.key,value:o,valueSpec:u,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function Hr(e){return Gr(e,"paint")}function qr(e){return Gr(e,"layout")}function $r(e){let t=[];const n=e.value,r=e.key,i=e.style,o=e.styleSpec;n.type||n.ref||t.push(new rt(r,n,'either "type" or "ref" is required'));let a=at(n.type);const s=at(n.ref);if(n.id){const o=at(n.id);for(let a=0;a<e.arrayIndex;a++){const e=i.layers[a];at(e.id)===o&&t.push(new rt(r,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in n&&t.push(new rt(r,n[e],`"${e}" is prohibited for ref layers`))}),i.layers.forEach(t=>{at(t.id)===s&&(e=t)}),e?e.ref?t.push(new rt(r,n.ref,"ref cannot reference another ref layer")):a=at(e.type):t.push(new rt(r,n.ref,`ref layer "${s}" not found`))}else if("background"!==a&&"sky"!==a)if(n.source){const e=i.sources&&i.sources[n.source],o=e&&at(e.type);e?"vector"===o&&"raster"===a?t.push(new rt(r,n.source,`layer "${n.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new rt(r,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new rt(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]||"geojson"===o&&e.lineMetrics||t.push(new rt(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new rt(r,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new rt(r,n.source,`source "${n.source}" not found`))}else t.push(new rt(r,n,'missing required property "source"'));return t=t.concat(Cr({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>ei({key:r+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"}),filter:Wr,layout:e=>Cr({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>qr(ot({layerType:a},e))}}),paint:e=>Cr({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>Hr(ot({layerType:a},e))}})}})),t}function Zr(e){const t=e.value,n=e.key,r=hr(t);return"string"!==r?[new rt(n,t,`string expected, ${r} found`)]:[]}const Kr={promoteId:function({key:e,value:t}){if("string"===hr(t))return Zr({key:e,value:t});{const n=[];for(const r in t)n.push(...Zr({key:`${e}.${r}`,value:t[r]}));return n}}};function Xr(e){const t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new rt(n,t,'"type" is required')];const o=at(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=Cr({key:n,value:t,valueSpec:r["source_"+o.replace("-","_")],style:e.style,styleSpec:r,objectElementValidators:Kr}),a;case"geojson":if(a=Cr({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:Kr}),t.cluster)for(const e in t.clusterProperties){const[r,i]=t.clusterProperties[e],o="string"==typeof r?[r,["accumulated"],["get",e]]:r;a.push(...Mr({key:`${n}.${e}.map`,value:i,expressionContext:"cluster-map"})),a.push(...Mr({key:`${n}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return Cr({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Cr({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new rt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ar({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function Yr(e){const t=e.value,n=e.styleSpec,r=n.light,i=e.style;let o=[];const a=hr(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new rt("light",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&r[a[1]]&&r[a[1]].transition?ei({key:e,value:t[e],valueSpec:n.transition,style:i,styleSpec:n}):r[e]?ei({key:e,value:t[e],valueSpec:r[e],style:i,styleSpec:n}):[new rt(e,t[e],`unknown property "${e}"`)])}return o}function Qr(e){const t=e.value,n=e.key,r=e.style,i=e.styleSpec,o=i.terrain;let a=[];const s=hr(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new rt("terrain",t,`object expected, ${s} found`)]),a;for(const e in t){const n=e.match(/^(.*)-transition$/);a=a.concat(n&&o[n[1]]&&o[n[1]].transition?ei({key:e,value:t[e],valueSpec:i.transition,style:r,styleSpec:i}):o[e]?ei({key:e,value:t[e],valueSpec:o[e],style:r,styleSpec:i}):[new rt(e,t[e],`unknown property "${e}"`)])}if(t.source){const e=r.sources&&r.sources[t.source],i=e&&at(e.type);e?"raster-dem"!==i&&a.push(new rt(n,t.source,`terrain cannot be used with a source of type ${i}, it only be used with a "raster-dem" source type`)):a.push(new rt(n,t.source,`source "${t.source}" not found`))}else a.push(new rt(n,t,'terrain is missing required property "source"'));return a}const Jr={"*":()=>[],array:Pr,boolean:function(e){const t=e.value,n=e.key,r=hr(t);return"boolean"!==r?[new rt(n,t,`boolean expected, ${r} found`)]:[]},number:Rr,color:function(e){const t=e.key,n=e.value,r=hr(n);return"string"!==r?[new rt(t,n,`color expected, ${r} found`)]:null===Ct.parseCSSColor(n)?[new rt(t,n,`color expected, "${n}" found`)]:[]},constants:it,enum:Ar,filter:Wr,function:Or,layer:$r,object:Cr,source:Xr,light:Yr,terrain:Qr,string:Zr,formatted:function(e){return 0===Zr(e).length?[]:Mr(e)},resolvedImage:function(e){return 0===Zr(e).length?[]:Mr(e)}};function ei(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&fr(at(t))?Or(e):n.expression&&xr(st(t))?Mr(e):n.type&&Jr[n.type]?Jr[n.type](e):Cr(ot({},e,{valueSpec:n.type?r[n.type]:n}))}function ti(e){const t=e.value,n=e.key,r=Zr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new rt(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new rt(n,t,'"glyphs" url must include a "{range}" token'))),r}function ni(e,t=nt){let n=[];return n=n.concat(ei({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:ti,"*":()=>[]}})),e.constants&&(n=n.concat(it({key:"constants",value:e.constants,style:e,styleSpec:t}))),ri(n)}function ri(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function ii(e){return function(...t){return ri(e.apply(this,t))}}ni.source=ii(Xr),ni.light=ii(Yr),ni.terrain=ii(Qr),ni.layer=ii($r),ni.filter=ii(Wr),ni.paintProperty=ii(Hr),ni.layoutProperty=ii(qr);const oi=ni,ai=oi.light,si=oi.paintProperty,li=oi.layoutProperty;function ui(e,t){let n=!1;if(t&&t.length)for(const r of t)e.fire(new et(new Error(r.message))),n=!0;return n}var ci=di;function di(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var c=n/t*e;this.min=-c,this.max=e+c}di.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},di.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},di.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},di.prototype.query=function(e,t,n,r,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},di.prototype._queryCell=function(e,t,n,r,i,o,a,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,d=0;d<l.length;d++){var h=l[d];if(void 0===a[h]){var f=4*h;(s?s(c[f+0],c[f+1],c[f+2],c[f+3]):e<=c[f+2]&&t<=c[f+3]&&n>=c[f+0]&&r>=c[f+1])?(a[h]=!0,o.push(u[h])):a[h]=!1}}},di.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(n),d=this._convertToCellCoord(r),h=l;h<=c;h++)for(var f=u;f<=d;f++){var p=this.d*f+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(f),this._convertFromCellCoord(h+1),this._convertFromCellCoord(f+1)))&&i.call(this,e,t,n,r,p,o,a,s))return}},di.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},di.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},di.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};const{ImageData:hi,ImageBitmap:fi}=u,pi={};function mi(e,t,n={}){Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),pi[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}mi("Object",Object),ci.serialize=function(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},ci.deserialize=function(e){return new ci(e.buffer)},mi("Grid",ci),mi("Color",Pt),mi("Error",Error),mi("ResolvedImage",At),mi("StylePropertyFunction",kr),mi("StyleExpression",br,{omit:["_evaluator"]}),mi("ZoomDependentExpression",Er),mi("ZoomConstantExpression",Sr),mi("CompoundExpression",$t,{omit:["_evaluate"]});for(const e in nr)nr[e]._classRegistryKey||mi("Expression_"+e,nr[e]);function gi(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function _i(e){return fi&&e instanceof fi}function yi(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(gi(e)||_i(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const n=e;return t&&t.push(n.buffer),n}if(e instanceof hi)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const r of e)n.push(yi(r,t));return n}if("object"==typeof e){const n=e.constructor,r=n._classRegistryKey;if(!r)throw new Error("can't serialize object of unregistered class");const i=n.serialize?n.serialize(e,t):{};if(!n.serialize){for(const n in e){if(!e.hasOwnProperty(n))continue;if(pi[r].omit.indexOf(n)>=0)continue;const o=e[n];i[n]=pi[r].shallow.indexOf(n)>=0?o:yi(o,t)}e instanceof Error&&(i.message=e.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==r&&(i.$name=r),i}throw new Error("can't serialize object of type "+typeof e)}function vi(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||gi(e)||_i(e)||ArrayBuffer.isView(e)||e instanceof hi)return e;if(Array.isArray(e))return e.map(vi);if("object"==typeof e){const t=e.$name||"Object",{klass:n}=pi[t];if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);const r=Object.create(n.prototype);for(const n of Object.keys(e)){if("$name"===n)continue;const i=e[n];r[n]=pi[t].shallow.indexOf(n)>=0?i:vi(i)}return r}throw new Error("can't deserialize object of type "+typeof e)}class bi{constructor(){this.first=!0}update(e,t){const n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}const xi=e=>e>=12352&&e<=12447,wi=e=>e>=12448&&e<=12543,Si=e=>e>=19968&&e<=40959,Ei=e=>e>=44032&&e<=55215;function Ti(e){for(const t of e)if(ki(t.charCodeAt(0)))return!0;return!1}function ki(e){return!(746!==e&&747!==e&&(e<4352||!((e=>e>=12704&&e<=12735)(e)||(e=>e>=12544&&e<=12591)(e)||(e=>e>=65072&&e<=65103)(e)&&!(e>=65097&&e<=65103)||(e=>e>=63744&&e<=64255)(e)||(e=>e>=13056&&e<=13311)(e)||(e=>e>=11904&&e<=12031)(e)||(e=>e>=12736&&e<=12783)(e)||!(!(e=>e>=12288&&e<=12351)(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||(e=>e>=13312&&e<=19903)(e)||Si(e)||(e=>e>=12800&&e<=13055)(e)||(e=>e>=12592&&e<=12687)(e)||(e=>e>=43360&&e<=43391)(e)||(e=>e>=55216&&e<=55295)(e)||(e=>e>=4352&&e<=4607)(e)||Ei(e)||xi(e)||(e=>e>=12272&&e<=12287)(e)||(e=>e>=12688&&e<=12703)(e)||(e=>e>=12032&&e<=12255)(e)||(e=>e>=12784&&e<=12799)(e)||wi(e)&&12540!==e||!(!(e=>e>=65280&&e<=65519)(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!(e=>e>=65104&&e<=65135)(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(e=>e>=5120&&e<=5759)(e)||(e=>e>=6320&&e<=6399)(e)||(e=>e>=65040&&e<=65055)(e)||(e=>e>=19904&&e<=19967)(e)||(e=>e>=40960&&e<=42127)(e)||(e=>e>=42128&&e<=42191)(e))))}function Ci(e){return e>=1424&&e<=2303||(e=>e>=64336&&e<=65023)(e)||(e=>e>=65136&&e<=65279)(e)}function Pi(e,t){return!(!t&&Ci(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||(e=>e>=6016&&e<=6143)(e))}function Ri(e){for(const t of e)if(Ci(t.charCodeAt(0)))return!0;return!1}const Oi="deferred",Mi="loading",Ai="loaded";let Ii=null,Di="unavailable",Li=null;const zi=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Di="error"),Ii&&Ii(e)};function Ni(){Fi.fire(new Je("pluginStateChange",{pluginStatus:Di,pluginURL:Li}))}const Fi=new tt,Bi=function(){return Di},ji=function(){if(Di!==Oi||!Li)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Di=Mi,Ni(),Li&&We({url:Li},e=>{e?zi(e):(Di=Ai,Ni())})},Vi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Di===Ai||null!=Vi.applyArabicShaping,isLoading:()=>Di===Mi,setState(e){Di=e.pluginStatus,Li=e.pluginURL},isParsed:()=>null!=Vi.applyArabicShaping&&null!=Vi.processBidirectionalText&&null!=Vi.processStyledBidirectionalText,getPluginURL:()=>Li};class Ui{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new bi,this.transition={})}isSupportedScript(e){return function(e,t){for(const n of e)if(!Pi(n.charCodeAt(0),t))return!1;return!0}(e,Vi.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}class Wi{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(fr(e))return new kr(e,t);if(xr(e)){const n=Tr(e,t);if("error"===n.result)throw new Error(n.value.map(e=>`${e.key}: ${e.message}`).join(", "));return n.value}{let n=e;return"string"==typeof e&&"color"===t.type&&(n=Pt.parse(e)),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class Gi{constructor(e){this.property=e,this.value=new Wi(e,void 0)}transitioned(e,t){return new qi(this.property,this.value,t,E({},e.transition,this.transition),e.now)}untransitioned(){return new qi(this.property,this.value,null,{},0)}}class Hi{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return D(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Gi(this._values[e].property)),this._values[e].value=new Wi(this._values[e].property,null===t?void 0:D(t))}getTransition(e){return D(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Gi(this._values[e].property)),this._values[e].transition=D(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const r=this.getTransition(t);void 0!==r&&(e[t+"-transition"]=r)}return e}transitioned(e,t){const n=new $i(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].transitioned(e,t._values[r]);return n}untransitioned(){const e=new $i(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class qi{constructor(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);{const a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,m(a))}}return i}}class $i{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const r=new Xi(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(e,t,n);return r}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Zi{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return D(this._values[e].value)}setValue(e,t){this._values[e]=new Wi(this._values[e].property,null===t?void 0:D(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const r=new Xi(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(e,t,n);return r}}class Ki{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}class Xi{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class Yi{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,n){const r=xn[this.specification.type];return r?r(e,t,n):e}}class Qi{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,r){return new Ki(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Ki(this,{kind:"constant",value:void 0},e.parameters);const r=xn[this.specification.type];return r?new Ki(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e}evaluate(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)}}class Ji extends Qi{possiblyEvaluate(e,t,n,r){if(void 0===e.value)return new Ki(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new Ki(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Ki(this,{kind:"constant",value:n},t)}return new Ki(this,e.expression,t)}evaluate(e,t,n,r,i,o){if("source"===e.kind){const a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class eo{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Ui(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Ui(Math.floor(t.zoom),t)),e.expression.evaluate(new Ui(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class to{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}interpolate(){return!1}}class no{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const n=e[t];n.specification.overridable&&this.overridableProperties.push(t);const r=this.defaultPropertyValues[t]=new Wi(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new Gi(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}}}function ro(e,t){return 256*(e=b(Math.floor(e),0,255))+b(Math.floor(t),0,255)}mi("DataDrivenProperty",Qi),mi("DataConstantProperty",Yi),mi("CrossFadedDataDrivenProperty",Ji),mi("CrossFadedProperty",eo),mi("ColorRampProperty",to);const io={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class oo{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ao{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function so(e,t=1){let n=0,r=0;return{members:e.map(e=>{const i=io[e.type].BYTES_PER_ELEMENT,o=n=lo(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}}),size:lo(n,Math.max(r,t)),alignment:t}}function lo(e,t){return Math.ceil(e/t)*t}class uo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}uo.prototype.bytesPerElement=4,mi("StructArrayLayout2i4",uo);class co extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e}}co.prototype.bytesPerElement=8,mi("StructArrayLayout4i8",co);class ho extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,r,i,o,a)}emplace(e,t,n,r,i,o,a,s){const l=6*e,u=12*e,c=3*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=o,this.uint8[u+7]=a,this.float32[c+2]=s,e}}ho.prototype.bytesPerElement=12,mi("StructArrayLayout2i4ub1f12",ho);class fo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}fo.prototype.bytesPerElement=8,mi("StructArrayLayout2f8",fo);class po extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,l,u)}emplace(e,t,n,r,i,o,a,s,l,u,c){const d=10*e;return this.uint16[d+0]=t,this.uint16[d+1]=n,this.uint16[d+2]=r,this.uint16[d+3]=i,this.uint16[d+4]=o,this.uint16[d+5]=a,this.uint16[d+6]=s,this.uint16[d+7]=l,this.uint16[d+8]=u,this.uint16[d+9]=c,e}}po.prototype.bytesPerElement=20,mi("StructArrayLayout10ui20",po);class mo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u,c,d){const h=this.length;return this.resize(h+1),this.emplace(h,e,t,n,r,i,o,a,s,l,u,c,d)}emplace(e,t,n,r,i,o,a,s,l,u,c,d,h){const f=12*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=r,this.int16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=d,this.int16[f+11]=h,e}}mo.prototype.bytesPerElement=24,mi("StructArrayLayout4i4ui4i24",mo);class go extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}go.prototype.bytesPerElement=12,mi("StructArrayLayout3f12",go);class _o extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}_o.prototype.bytesPerElement=4,mi("StructArrayLayout1ul4",_o);class yo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,l,u)}emplace(e,t,n,r,i,o,a,s,l,u,c){const d=16*e,h=8*e;return this.int16[d+0]=t,this.int16[d+1]=n,this.float32[h+1]=r,this.float32[h+2]=i,this.float32[h+3]=o,this.float32[h+4]=a,this.int16[d+10]=s,this.uint32[h+6]=l,this.uint16[d+14]=u,this.uint16[d+15]=c,e}}yo.prototype.bytesPerElement=32,mi("StructArrayLayout2i4f1i1ul2ui32",yo);class vo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}vo.prototype.bytesPerElement=12,mi("StructArrayLayout2i2i2i12",vo);class bo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)}emplace(e,t,n,r,i,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e}}bo.prototype.bytesPerElement=16,mi("StructArrayLayout2f1f2i16",bo);class xo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,e}}xo.prototype.bytesPerElement=12,mi("StructArrayLayout2ub2f12",xo);class wo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e}}wo.prototype.bytesPerElement=6,mi("StructArrayLayout3ui6",wo);class So extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g){const _=this.length;return this.resize(_+1),this.emplace(_,e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g)}emplace(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g,_){const y=24*e,v=12*e,b=48*e;return this.int16[y+0]=t,this.int16[y+1]=n,this.uint16[y+2]=r,this.uint16[y+3]=i,this.uint32[v+2]=o,this.uint32[v+3]=a,this.uint32[v+4]=s,this.uint16[y+10]=l,this.uint16[y+11]=u,this.uint16[y+12]=c,this.float32[v+7]=d,this.float32[v+8]=h,this.uint8[b+36]=f,this.uint8[b+37]=p,this.uint8[b+38]=m,this.uint32[v+10]=g,this.int16[y+22]=_,e}}So.prototype.bytesPerElement=48,mi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",So);class Eo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g,_,y,v,b,x,w,S,E,T,k,C){const P=this.length;return this.resize(P+1),this.emplace(P,e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g,_,y,v,b,x,w,S,E,T,k,C)}emplace(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g,_,y,v,b,x,w,S,E,T,k,C,P){const R=34*e,O=17*e;return this.int16[R+0]=t,this.int16[R+1]=n,this.int16[R+2]=r,this.int16[R+3]=i,this.int16[R+4]=o,this.int16[R+5]=a,this.int16[R+6]=s,this.int16[R+7]=l,this.uint16[R+8]=u,this.uint16[R+9]=c,this.uint16[R+10]=d,this.uint16[R+11]=h,this.uint16[R+12]=f,this.uint16[R+13]=p,this.uint16[R+14]=m,this.uint16[R+15]=g,this.uint16[R+16]=_,this.uint16[R+17]=y,this.uint16[R+18]=v,this.uint16[R+19]=b,this.uint16[R+20]=x,this.uint16[R+21]=w,this.uint16[R+22]=S,this.uint32[O+12]=E,this.float32[O+13]=T,this.float32[O+14]=k,this.float32[O+15]=C,this.float32[O+16]=P,e}}Eo.prototype.bytesPerElement=68,mi("StructArrayLayout8i15ui1ul4f68",Eo);class To extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}To.prototype.bytesPerElement=4,mi("StructArrayLayout1f4",To);class ko extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e}}ko.prototype.bytesPerElement=6,mi("StructArrayLayout3i6",ko);class Co extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=n,this.uint16[o+3]=r,this.uint16[o+4]=i,e}}Co.prototype.bytesPerElement=12,mi("StructArrayLayout1ul3ui12",Co);class Po extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}Po.prototype.bytesPerElement=4,mi("StructArrayLayout2ui4",Po);class Ro extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Ro.prototype.bytesPerElement=2,mi("StructArrayLayout1ui2",Ro);class Oo extends ao{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e}}Oo.prototype.bytesPerElement=16,mi("StructArrayLayout4f16",Oo);class Mo extends oo{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.float32[this._pos4+1]}get y1(){return this._structArray.float32[this._pos4+2]}get x2(){return this._structArray.float32[this._pos4+3]}get y2(){return this._structArray.float32[this._pos4+4]}get padding(){return this._structArray.int16[this._pos2+10]}get featureIndex(){return this._structArray.uint32[this._pos4+6]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+14]}get bucketIndex(){return this._structArray.uint16[this._pos2+15]}get anchorPoint(){return new s(this.anchorPointX,this.anchorPointY)}}Mo.prototype.size=32;class Ao extends yo{get(e){return new Mo(this,e)}}mi("CollisionBoxArray",Ao);class Io extends oo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Io.prototype.size=48;class Do extends So{get(e){return new Io(this,e)}}mi("PlacedSymbolArray",Do);class Lo extends oo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Lo.prototype.size=68;class zo extends Eo{get(e){return new Lo(this,e)}}mi("SymbolInstanceArray",zo);class No extends To{getoffsetX(e){return this.float32[1*e+0]}}mi("GlyphOffsetArray",No);class Fo extends ko{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}mi("SymbolLineVertexArray",Fo);class Bo extends oo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Bo.prototype.size=12;class jo extends Co{get(e){return new Bo(this,e)}}mi("FeatureIndexArray",jo);class Vo extends oo{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Vo.prototype.size=4;class Uo extends Po{get(e){return new Vo(this,e)}}mi("FillExtrusionCentroidArray",Uo);const Wo=so([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]);var Go=kt((function(e){e.exports=function(e,t){var n,r,i,o,a,s,l,u;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,u=0;u<r;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),Ho=kt((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),qo=Go,$o=Ho;qo.murmur3=Go,qo.murmur2=$o;class Zo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,r){this.ids.push(Ko(e)),this.positions.push(t,n,r)}getPositions(e){const t=Ko(e);let n=0,r=this.ids.length-1;for(;n<r;){const e=n+r>>1;this.ids[e]>=t?r=e:n=e+1}const i=[];for(;this.ids[n]===t;)i.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return i}static serialize(e,t){const n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){const o=t[r+i>>1];let a=r-1,s=i+1;for(;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;Xo(t,a,s),Xo(n,3*a,3*s),Xo(n,3*a+1,3*s+1),Xo(n,3*a+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}static deserialize(e){const t=new Zo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function Ko(e){const t=+e;return!isNaN(t)&&t<=d?t:qo(String(e))}function Xo(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}mi("FeaturePositionMap",Zo);class Yo{constructor(e,t){this.gl=e.gl,this.location=t}}class Qo extends Yo{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}}class Jo extends Yo{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class ea extends Yo{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}}class ta extends Yo{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}}class na extends Yo{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class ra extends Yo{constructor(e,t){super(e,t),this.current=Pt.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const ia=new Float32Array(16);class oa extends Yo{constructor(e,t){super(e,t),this.current=ia}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}}const aa=new Float32Array(9);class sa extends Yo{constructor(e,t){super(e,t),this.current=aa}set(e){for(let t=0;t<9;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix3fv(this.location,!1,e);break}}}function la(e){return[ro(255*e.r,255*e.g),ro(255*e.b,255*e.a)]}class ua{constructor(e,t,n){this.value=e,this.uniformNames=t.map(e=>"u_"+e),this.type=n}setUniform(e,t,n){e.set(n.constantOr(this.value))}getBinding(e,t,n){return"color"===this.type?new ra(e,t):new Jo(e,t)}}class ca{constructor(e,t){this.uniformNames=t.map(e=>"u_"+e),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,n,r){const i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)}getBinding(e,t,n){return"u_pattern"===n.substr(0,9)?new na(e,t):new Jo(e,t)}}class da{constructor(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0})),this.paintVertexArray=new r}populatePaintArray(e,t,n,r,i){const o=this.paintVertexArray.length,a=this.expression.evaluate(new Ui(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)}updatePaintArray(e,t,n,r){const i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)}_setPaintValue(e,t,n){if("color"===this.type){const r=la(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ha{constructor(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0})),this.paintVertexArray=new o}populatePaintArray(e,t,n,r,i){const o=this.expression.evaluate(new Ui(this.zoom),t,{},r,[],i),a=this.expression.evaluate(new Ui(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)}updatePaintArray(e,t,n,r){const i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,o)}_setPaintValue(e,t,n,r){if("color"===this.type){const i=la(n),o=la(r);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1],o[0],o[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=b(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)}getBinding(e,t,n){return new Jo(e,t)}}class fa{constructor(e,t,n,r,i,o,a){this.expression=e,this.type=n,this.useIntegerZoom=r,this.zoom=i,this.layerId=a;for(let e=0;e<t.length;++e);this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}populatePaintArray(e,t,n){const r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)}_setPaintValues(e,t,n,r){if(!r||!n)return;const{min:i,mid:o,max:a}=n,s=r[i],l=r[o],u=r[a];if(s&&l&&u)for(let n=e;n<t;n++)this.zoomInPaintVertexArray.emplace(n,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(n,l.tl[0],l.tl[1],l.br[0],l.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1],l.pixelRatio,u.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,Wo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,Wo.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class pa{constructor(e,t,n=(()=>!0)){this.binders={},this._buffers=[];const r=[];for(const i in e.paint._values){if(!n(i))continue;const o=e.paint.get(i);if(!(o instanceof Ki&&ur(o.property.specification)))continue;const a=ga(i,e.type),s=o.value,l=o.property.specification.type,u=o.property.useIntegerZoom,c=o.property.specification["property-type"],d="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=d?new ca(s.value,a):new ua(s.value,a,l),r.push("/u_"+i);else if("source"===s.kind||d){const n=_a(i,l,"source");this.binders[i]=d?new fa(s,a,l,u,t,n,e.id):new da(s,a,l,n),r.push("/a_"+i)}else{const e=_a(i,l,"composite");this.binders[i]=new ha(s,a,l,u,t,e),r.push("/z_"+i)}}this.cacheKey=r.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof da||t instanceof ha?t.maxValue:0}populatePaintArrays(e,t,n,r,i){for(const o in this.binders){const a=this.binders[o];(a instanceof da||a instanceof ha||a instanceof fa)&&a.populatePaintArray(e,t,n,r,i)}}setConstantPatternPositions(e,t){for(const n in this.binders){const r=this.binders[n];r instanceof ca&&r.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,n,r,i){let o=!1;for(const a in e){const s=t.getPositions(a);for(const t of s){const s=n.feature(t.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof da||l instanceof ha||l instanceof fa)&&!0===l.expression.isStateDependent){const u=r.paint.get(n);l.expression=u.value,l.updatePaintArray(t.start,t.end,s,e[a],i),o=!0}}}}return o}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof ua||n instanceof ca)&&e.push(...n.uniformNames.map(e=>"#define HAS_UNIFORM_"+e))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof da||n instanceof ha)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name);else if(n instanceof fa)for(let t=0;t<Wo.members.length;t++)e.push(Wo.members[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof ua||n instanceof ca||n instanceof ha)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const n=[];for(const r in this.binders){const i=this.binders[r];if(i instanceof ua||i instanceof ca||i instanceof ha)for(const o of i.uniformNames)if(t[o]){const a=i.getBinding(e,t[o],o);n.push({name:o,property:r,binding:a})}}return n}setUniforms(e,t,n,r){for(const{name:e,property:i,binding:o}of t)this.binders[i].setUniform(o,r,n.get(i),e)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const n=this.binders[t];if(e&&n instanceof fa){const t=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(n instanceof da||n instanceof ha)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof da||n instanceof ha||n instanceof fa)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof da||t instanceof ha||t instanceof fa)&&t.destroy()}}}class ma{constructor(e,t,n=(()=>!0)){this.programConfigurations={};for(const r of e)this.programConfigurations[r.id]=new pa(r,t,n);this.needsUpload=!1,this._featureMap=new Zo,this._bufferOffset=0}populatePaintArrays(e,t,n,r,i,o){for(const n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(e,t,r,i,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,r){for(const i of n)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(e,this._featureMap,t,i,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function ga(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function _a(e,t,n){const r={color:{source:fo,composite:Oo},number:{source:To,composite:fo}},i=function(e){return{"line-pattern":{source:po,composite:po},"fill-pattern":{source:po,composite:po},"fill-extrusion-pattern":{source:po,composite:po}}[e]}(e);return i&&i[n]||r[t][n]}mi("ConstantBinder",ua),mi("CrossFadedConstantBinder",ca),mi("SourceExpressionBinder",da),mi("CrossFadedCompositeBinder",fa),mi("CompositeExpressionBinder",ha),mi("ProgramConfiguration",pa,{omit:["_buffers"]}),mi("ProgramConfigurationSet",ma);const ya="-transition";class va extends tt{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Zi(t.layout)),t.paint)){this._transitionablePaint=new Hi(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xi(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,n={}){null!=t&&this._validate(li,`layers.${this.id}.layout.${e}`,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return M(e,ya)?this._transitionablePaint.getTransition(e.slice(0,-ya.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,n={}){if(null!=t&&this._validate(si,`layers.${this.id}.paint.${e}`,e,t,n))return!1;if(M(e,ya))return this._transitionablePaint.setTransition(e.slice(0,-ya.length),t||void 0),!1;{const n=this._transitionablePaint._values[e],r="cross-faded-data-driven"===n.property.specification["property-type"],i=n.value.isDataDriven(),o=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||i||r||this._handleOverridablePaintPropertyUpdate(e,o,a)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),I(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,n,r,i={}){return(!i||!1!==i.validate)&&ui(this,e.call(oi,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:nt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof Ki&&ur(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const ba=so([{name:"a_pos",components:2,type:"Int16"}],4),{members:xa}=ba;class wa{constructor(e=[]){this.segments=e}prepareSegment(e,t,n,r){let i=this.segments[this.segments.length-1];return e>wa.MAX_VERTEX_ARRAY_LENGTH&&z(`Max vertices per segment is ${wa.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!i||i.vertexLength+e>wa.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,r){return new wa([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])}}wa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,mi("SegmentVector",wa);var Sa=8192;const Ea=Math.pow(2,14)-1,Ta=-Ea-1;function ka(e){const t=Sa/e.extent,n=e.loadGeometry();for(let e=0;e<n.length;e++){const r=n[e];for(let e=0;e<r.length;e++){const n=r[e],i=Math.round(n.x*t),o=Math.round(n.y*t);n.x=b(i,Ta,Ea),n.y=b(o,Ta,Ea),(i<n.x||i>n.x+1||o<n.y||o>n.y+1)&&z("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function Ca(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?ka(e):[]}}function Pa(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}class Ra{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new uo,this.indexArray=new wo,this.segments=new wa,this.programConfigurations=new ma(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n){const r=this.layers[0],i=[];let o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(const{feature:t,id:r,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,l=Ca(t,e);if(!this.layers[0]._featureFilter.filter(new Ui(this.zoom),l,n))continue;const u=o?o.evaluate(l,{},n):void 0,c={id:r,properties:t.properties,type:t.type,sourceLayerIndex:s,index:a,geometry:e?l.geometry:ka(t),patterns:{},sortKey:u};i.push(c)}o&&i.sort((e,t)=>e.sortKey-t.sortKey);for(const r of i){const{geometry:i,index:o,sourceLayerIndex:a}=r,s=e[o].feature;this.addFeature(r,i,o,n),t.featureIndex.insert(s,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,xa),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,r){for(const n of t)for(const t of n){const n=t.x,r=t.y;if(n<0||n>=Sa||r<0||r>=Sa)continue;const i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),o=i.vertexLength;Pa(this.layoutVertexArray,n,r,-1,-1),Pa(this.layoutVertexArray,n,r,1,-1),Pa(this.layoutVertexArray,n,r,1,1),Pa(this.layoutVertexArray,n,r,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+3,o+2),i.vertexLength+=4,i.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)}}function Oa(e,t){for(let n=0;n<e.length;n++)if(Ba(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Ba(e,t[n]))return!0;return!!Da(e,t)}function Ma(e,t,n){return!!Ba(e,t)||!!za(t,e,n)}function Aa(e,t){if(1===e.length)return Fa(t,e[0]);for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length;t++)if(Ba(e,r[t]))return!0}for(let n=0;n<e.length;n++)if(Fa(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Da(e,t[n]))return!0;return!1}function Ia(e,t,n){if(e.length>1){if(Da(e,t))return!0;for(let r=0;r<t.length;r++)if(za(t[r],e,n))return!0}for(let r=0;r<e.length;r++)if(za(e[r],t,n))return!0;return!1}function Da(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const r=e[n],i=e[n+1];for(let e=0;e<t.length-1;e++)if(La(r,i,t[e],t[e+1]))return!0}return!1}function La(e,t,n,r){return N(e,n,r)!==N(t,n,r)&&N(e,t,n)!==N(e,t,r)}function za(e,t,n){const r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(let n=1;n<t.length;n++)if(Na(e,t[n-1],t[n])<r)return!0;return!1}function Na(e,t,n){const r=t.distSqr(n);if(0===r)return e.distSqr(t);const i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Fa(e,t){let n,r,i,o=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)r=n[e],i=n[a],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function Ba(e,t){let n=!1;for(let r=0,i=e.length-1;r<e.length;i=r++){const o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ja(e,t,n,r,i){for(const o of e)if(t<=o.x&&n<=o.y&&r>=o.x&&i>=o.y)return!0;const o=[new s(t,n),new s(t,i),new s(r,i),new s(r,n)];if(e.length>2)for(const t of o)if(Ba(e,t))return!0;for(let t=0;t<e.length-1;t++)if(Va(e[t],e[t+1],o))return!0;return!1}function Va(e,t,n){const r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;const o=N(e,t,n[0]);return o!==N(e,t,n[1])||o!==N(e,t,n[2])||o!==N(e,t,n[3])}function Ua(e,t,n){const r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function Wa(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Ga(e,t,n,r,i){if(!t[0]&&!t[1])return e;const o=s.convert(t)._mult(i);"viewport"===n&&o._rotate(-r);const a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(o));return a}function Ha(e,t,n,r){const i=s.convert(e)._mult(r);return"viewport"===t&&i._rotate(-n),i}mi("CircleBucket",Ra,{omit:["layers"]});const qa=new no({"circle-sort-key":new Qi(nt.layout_circle["circle-sort-key"])});var $a={paint:new no({"circle-radius":new Qi(nt.paint_circle["circle-radius"]),"circle-color":new Qi(nt.paint_circle["circle-color"]),"circle-blur":new Qi(nt.paint_circle["circle-blur"]),"circle-opacity":new Qi(nt.paint_circle["circle-opacity"]),"circle-translate":new Yi(nt.paint_circle["circle-translate"]),"circle-translate-anchor":new Yi(nt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yi(nt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yi(nt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qi(nt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qi(nt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qi(nt.paint_circle["circle-stroke-opacity"])}),layout:qa},Za="undefined"!=typeof Float32Array?Float32Array:Array;function Ka(){var e=new Za(9);return Za!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Xa(){var e=new Za(16);return Za!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ya(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Qa(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],f=t[11],p=t[12],m=t[13],g=t[14],_=t[15],y=n*s-r*a,v=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,S=i*u-o*l,E=c*m-d*p,T=c*g-h*p,k=c*_-f*p,C=d*g-h*m,P=d*_-f*m,R=h*_-f*g,O=y*R-v*P+b*C+x*k-w*T+S*E;return O?(e[0]=(s*R-l*P+u*C)*(O=1/O),e[1]=(i*P-r*R-o*C)*O,e[2]=(m*S-g*w+_*x)*O,e[3]=(h*w-d*S-f*x)*O,e[4]=(l*k-a*R-u*T)*O,e[5]=(n*R-i*k+o*T)*O,e[6]=(g*b-p*S-_*v)*O,e[7]=(c*S-h*b+f*v)*O,e[8]=(a*P-s*k+u*E)*O,e[9]=(r*k-n*P-o*E)*O,e[10]=(p*w-m*b+_*y)*O,e[11]=(d*b-c*w-f*y)*O,e[12]=(s*T-a*C-l*E)*O,e[13]=(n*C-r*T+i*E)*O,e[14]=(m*v-p*x-g*y)*O,e[15]=(c*x-d*v+h*y)*O,e):null}function Ja(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],f=t[10],p=t[11],m=t[12],g=t[13],_=t[14],y=t[15],v=n[0],b=n[1],x=n[2],w=n[3];return e[0]=v*r+b*s+x*d+w*m,e[1]=v*i+b*l+x*h+w*g,e[2]=v*o+b*u+x*f+w*_,e[3]=v*a+b*c+x*p+w*y,e[4]=(v=n[4])*r+(b=n[5])*s+(x=n[6])*d+(w=n[7])*m,e[5]=v*i+b*l+x*h+w*g,e[6]=v*o+b*u+x*f+w*_,e[7]=v*a+b*c+x*p+w*y,e[8]=(v=n[8])*r+(b=n[9])*s+(x=n[10])*d+(w=n[11])*m,e[9]=v*i+b*l+x*h+w*g,e[10]=v*o+b*u+x*f+w*_,e[11]=v*a+b*c+x*p+w*y,e[12]=(v=n[12])*r+(b=n[13])*s+(x=n[14])*d+(w=n[15])*m,e[13]=v*i+b*l+x*h+w*g,e[14]=v*o+b*u+x*f+w*_,e[15]=v*a+b*c+x*p+w*y,e}function es(e,t,n){var r,i,o,a,s,l,u,c,d,h,f,p,m=n[0],g=n[1],_=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*_+t[12],e[13]=t[1]*m+t[5]*g+t[9]*_+t[13],e[14]=t[2]*m+t[6]*g+t[10]*_+t[14],e[15]=t[3]*m+t[7]*g+t[11]*_+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],f=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=d,e[9]=h,e[10]=f,e[11]=p,e[12]=r*m+s*g+d*_+t[12],e[13]=i*m+l*g+h*_+t[13],e[14]=o*m+u*g+f*_+t[14],e[15]=a*m+c*g+p*_+t[15]),e}function ts(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ns(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+d*r,e[7]=l*i+h*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=d*i-s*r,e[11]=h*i-l*r,e}function rs(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=a*i-c*r,e[2]=s*i-d*r,e[3]=l*i-h*r,e[8]=o*r+u*i,e[9]=a*r+c*i,e[10]=s*r+d*i,e[11]=l*r+h*i,e}function is(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+d*r,e[3]=l*i+h*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=d*i-s*r,e[7]=h*i-l*r,e}function os(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,d=r*s,h=i*a,f=i*s,p=i*l,m=o*a,g=o*s,_=o*l;return e[0]=1-d-p,e[1]=c+_,e[2]=h-g,e[3]=0,e[4]=c-_,e[5]=1-u-p,e[6]=f+m,e[7]=0,e[8]=h+g,e[9]=f-m,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function as(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}function ss(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ls=Ja;function us(){var e=new Za(3);return Za!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function cs(e){var t=new Za(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ds(e){return Math.hypot(e[0],e[1],e[2])}function hs(e,t,n){var r=new Za(3);return r[0]=e,r[1]=t,r[2]=n,r}function fs(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function ps(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function ms(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function gs(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function _s(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function ys(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vs(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}function bs(e,t,n){var r=n[0],i=n[1],o=n[2],a=t[0],s=t[1],l=t[2],u=i*l-o*s,c=o*a-r*l,d=r*s-i*a,h=i*d-o*c,f=o*u-r*d,p=r*c-i*u,m=2*n[3];return c*=m,d*=m,f*=2,p*=2,e[0]=a+(u*=m)+(h*=2),e[1]=s+c+f,e[2]=l+d+p,e}var xs,ws=ps,Ss=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},Es=ds;function Ts(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function ks(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function Cs(){var e=new Za(4);return Za!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Ps(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Rs(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=o*l-i*s,e[3]=a*l-r*s,e}us(),xs=new Za(4),Za!=Float32Array&&(xs[0]=0,xs[1]=0,xs[2]=0,xs[3]=0),us(),hs(1,0,0),hs(0,1,0),Cs(),Cs(),Ka();class Os{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(e,t,n){const r=ys(t,this.dir);if(Math.abs(r)<1e-6)return!1;const i=ys(ws(us(),e,this.pos),t)/r;return function(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2]}(n,gs(us(),this.pos,this.dir,i)),!0}}class Ms{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,t,n){const r=Math.pow(2,n),i=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(n=>{const i=ks([],n,e),o=1/i[3]/t*r;return function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}(i,i,[o,o,1/i[3],o])}),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(e=>{const t=_s([],vs([],ws([],i[e[0]],i[e[1]]),ws([],i[e[2]],i[e[1]]))),n=-ys(t,i[e[1]]);return t.concat(n)});return new Ms(i,o)}}class As{constructor(e,t){this.min=e,this.max=t,this.center=ms([],fs([],this.min,this.max),.5)}quadrant(e){const t=[e%2==0,e<2],n=cs(this.min),r=cs(this.max);for(let e=0;e<t.length;e++)n[e]=t[e]?this.min[e]:this.center[e],r[e]=t[e]?this.center[e]:this.max[e];return r[2]=this.max[2],new As(n,r)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}intersects(e){const t=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let n=!0;for(let o=0;o<e.planes.length;o++){const a=e.planes[o];let s=0;for(let e=0;e<t.length;e++)s+=(r=a)[0]*(i=t[e])[0]+r[1]*i[1]+r[2]*i[2]+r[3]*i[3]>=0;if(0===s)return 0;s!==t.length&&(n=!1)}var r,i;if(n)return 2;for(let t=0;t<3;t++){let n=Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let i=0;i<e.points.length;i++){const o=e.points[i][t]-this.min[t];n=Math.min(n,o),r=Math.max(r,o)}if(r<0||n>this.max[t]-this.min[t])return 0}return 1}}function Is(e,t,n){const r=ks([],[e.x,e.y,t,1],n);return new s(r[0]/r[3],r[1]/r[3])}const Ds=hs(0,0,0),Ls=hs(0,0,1);function zs(e,t){const n=us();return Ds[2]=t,e.intersectsPlane(Ds,Ls,n),new s(n[0],n[1])}class Ns extends Ra{}function Fs(e,{width:t,height:n},r,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*n*r)throw new RangeError("mismatched image size")}else i=new Uint8Array(t*n*r);return e.width=t,e.height=n,e.data=i,e}function Bs(e,{width:t,height:n},r){if(t===e.width&&n===e.height)return;const i=Fs({},{width:t,height:n},r);js(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,n)},r),e.width=t,e.height=n,e.data=i.data}function js(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<i.height;l++){const u=((n.y+l)*e.width+n.x)*o,c=((r.y+l)*t.width+r.x)*o;for(let e=0;e<i.width*o;e++)s[c+e]=a[u+e]}return t}mi("HeatmapBucket",Ns,{omit:["layers"]});class Vs{constructor(e,t){Fs(this,e,1,t)}resize(e){Bs(this,e,1)}clone(){return new Vs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,i){js(e,t,n,r,i,1)}}class Us{constructor(e,t){Fs(this,e,4,t)}resize(e){Bs(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Us({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,i){js(e,t,n,r,i,4)}}mi("AlphaImage",Vs),mi("RGBAImage",Us);var Ws={paint:new no({"heatmap-radius":new Qi(nt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qi(nt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yi(nt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new to(nt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yi(nt.paint_heatmap["heatmap-opacity"])})};function Gs(e){const t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new Us({width:n,height:r}),o=(n,r,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,i=0;t<r;++t,i+=4*n)for(let r=0,a=0;r<n;r++,a+=4){const s=r/(n-1),{start:l,end:u}=e.clips[t];o(i,a,l*(1-s)+u*s)}else for(let e=0,t=0;e<n;e++,t+=4)o(0,t,e/(n-1));return i}var Hs={paint:new no({"hillshade-illumination-direction":new Yi(nt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yi(nt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yi(nt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yi(nt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yi(nt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yi(nt.paint_hillshade["hillshade-accent-color"])})};const qs=so([{name:"a_pos",components:2,type:"Int16"}],4),{members:$s}=qs;var Zs=Xs,Ks=Xs;function Xs(e,t,n){n=n||2;var r,i,o,a,s,l,u,c=t&&t.length,d=c?t[0]*n:e.length,h=Ys(e,0,d,n,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Ys(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(ll(a));for(s.sort(il),i=0;i<s.length;i++)ol(s[i],n),n=Qs(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Js(h,f,n,r,i,u),f}function Ys(e,t,n,r,i){var o,a;if(i===xl(e,t,n,r)>0)for(o=t;o<n;o+=r)a=yl(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=yl(o,e[o],e[o+1],a);return a&&hl(a,a.next)&&(vl(a),a=a.next),a}function Qs(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!hl(r,r.next)&&0!==dl(r.prev,r,r.next))r=r.next;else{if(vl(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Js(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=sl(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?tl(e,r,i,o):el(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),vl(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Js(e=nl(Qs(e),t,n),t,n,r,i,o,2):2===a&&rl(e,t,n,r,i,o):Js(Qs(e),t,n,r,i,o,1);break}}}function el(e){var t=e.prev,n=e,r=e.next;if(dl(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(ul(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&dl(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function tl(e,t,n,r){var i=e.prev,o=e,a=e.next;if(dl(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=sl(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,n,r),c=sl(s,l,t,n,r),d=e.prevZ,h=e.nextZ;d&&d.z>=u&&h&&h.z<=c;){if(d!==e.prev&&d!==e.next&&ul(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&dl(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==e.prev&&h!==e.next&&ul(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&dl(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&ul(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&dl(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=c;){if(h!==e.prev&&h!==e.next&&ul(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&dl(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function nl(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!hl(i,o)&&fl(i,r,r.next,o)&&gl(i,o)&&gl(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),vl(r),vl(r.next),r=e=o),r=r.next}while(r!==e);return Qs(r)}function rl(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&cl(a,s)){var l=_l(a,s);return a=Qs(a,a.next),l=Qs(l,l.next),Js(a,t,n,r,i,o),void Js(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function il(e,t){return e.x-t.x}function ol(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,d=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&ul(o<d?i:a,o,c,d,o<d?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),gl(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&al(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}(e,t)){var n=_l(t,e);Qs(t,t.next),Qs(n,n.next)}}function al(e,t){return dl(e.prev,e,t.prev)<0&&dl(t.next,e,e.next)<0}function sl(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ll(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function ul(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function cl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&fl(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(gl(e,t)&&gl(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(dl(e.prev,e,t.prev)||dl(e,t.prev,t))||hl(e,t)&&dl(e.prev,e,e.next)>0&&dl(t.prev,t,t.next)>0)}function dl(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function hl(e,t){return e.x===t.x&&e.y===t.y}function fl(e,t,n,r){var i=ml(dl(e,t,n)),o=ml(dl(e,t,r)),a=ml(dl(n,r,e)),s=ml(dl(n,r,t));return i!==o&&a!==s||!(0!==i||!pl(e,n,t))||!(0!==o||!pl(e,r,t))||!(0!==a||!pl(n,e,r))||!(0!==s||!pl(n,t,r))}function pl(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function ml(e){return e>0?1:e<0?-1:0}function gl(e,t){return dl(e.prev,e,e.next)<0?dl(e,t,e.next)>=0&&dl(e,e.prev,t)>=0:dl(e,t,e.prev)<0||dl(e,e.next,t)<0}function _l(e,t){var n=new bl(e.i,e.x,e.y),r=new bl(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function yl(e,t,n,r){var i=new bl(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function vl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function bl(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xl(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function wl(e,t,n,r,i){!function e(t,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var d=t[n],h=r,f=i;for(Sl(t,r,n),o(t[i],d)>0&&Sl(t,r,i);h<f;){for(Sl(t,h,f),h++,f--;o(t[h],d)<0;)h++;for(;o(t[f],d)>0;)f--}0===o(t[r],d)?Sl(t,r,f):Sl(t,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(e,t,n||0,r||e.length-1,i||El)}function Sl(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function El(e,t){return e<t?-1:e>t?1:0}function Tl(e,t){const n=e.length;if(n<=1)return[e];const r=[];let i,o;for(let t=0;t<n;t++){const n=F(e[t]);0!==n&&(e[t].area=Math.abs(n),void 0===o&&(o=n<0),o===n<0?(i&&r.push(i),i=[e[t]]):i.push(e[t]))}if(i&&r.push(i),t>1)for(let e=0;e<r.length;e++)r[e].length<=t||(wl(r[e],t,1,r[e].length-1,kl),r[e]=r[e].slice(0,t));return r}function kl(e,t){return t.area-e.area}function Cl(e,t,n){const r=n.patternDependencies;let i=!1;for(const n of t){const t=n.paint.get(e+"-pattern");t.isConstant()||(i=!0);const o=t.constantOr(null);o&&(i=!0,r[o.to]=!0,r[o.from]=!0)}return i}function Pl(e,t,n,r,i){const o=i.patternDependencies;for(const a of t){const t=a.paint.get(e+"-pattern").value;if("constant"!==t.kind){let e=t.evaluate({zoom:r-1},n,{},i.availableImages),s=t.evaluate({zoom:r},n,{},i.availableImages),l=t.evaluate({zoom:r+1},n,{},i.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,o[e]=!0,o[s]=!0,o[l]=!0,n.patterns[a.id]={min:e,mid:s,max:l}}}return n}Xs.deviation=function(e,t,n,r){var i=t&&t.length,o=Math.abs(xl(e,0,i?t[0]*n:e.length,n));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(xl(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,d=r[a+2]*n;l+=Math.abs((e[u]-e[d])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[d+1]-e[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Xs.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&n.holes.push(r+=e[i-1].length)}return n},Zs.default=Ks;class Rl{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new uo,this.indexArray=new wo,this.indexArray2=new Po,this.programConfigurations=new ma(e.layers,e.zoom),this.segments=new wa,this.segments2=new wa,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n){this.hasPattern=Cl("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),i=[];for(const{feature:o,id:a,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Ca(o,e);if(!this.layers[0]._featureFilter.filter(new Ui(this.zoom),u,n))continue;const c=r?r.evaluate(u,{},n,t.availableImages):void 0,d={id:a,properties:o.properties,type:o.type,sourceLayerIndex:l,index:s,geometry:e?u.geometry:ka(o),patterns:{},sortKey:c};i.push(d)}r&&i.sort((e,t)=>e.sortKey-t.sortKey);for(const r of i){const{geometry:i,index:o,sourceLayerIndex:a}=r;if(this.hasPattern){const e=Pl("fill",this.layers,r,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(r,i,o,n,{});t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,$s),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,r,i){for(const e of Tl(t,500)){let t=0;for(const n of e)t+=n.length;const n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),r=n.vertexLength,i=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(i.length/2);const n=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),r=n.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(r+t.length-1,r),i.push(t[0].x),i.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(r+e-1,r+e),i.push(t[e].x),i.push(t[e].y);n.vertexLength+=t.length,n.primitiveLength+=t.length}const a=Zs(i,o);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(r+a[e],r+a[e+1],r+a[e+2]);n.vertexLength+=t,n.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}}mi("FillBucket",Rl,{omit:["layers","patternFeatures"]});const Ol=new no({"fill-sort-key":new Qi(nt.layout_fill["fill-sort-key"])});var Ml={paint:new no({"fill-antialias":new Yi(nt.paint_fill["fill-antialias"]),"fill-opacity":new Qi(nt.paint_fill["fill-opacity"]),"fill-color":new Qi(nt.paint_fill["fill-color"]),"fill-outline-color":new Qi(nt.paint_fill["fill-outline-color"]),"fill-translate":new Yi(nt.paint_fill["fill-translate"]),"fill-translate-anchor":new Yi(nt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ji(nt.paint_fill["fill-pattern"])}),layout:Ol};const Al=so([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Il=so([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:Dl}=Al;var Ll=zl;function zl(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(Nl,this,t)}function Nl(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function Fl(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)r+=((n=e[a]).x-(t=e[i]).x)*(t.y+n.y);return r}zl.types=["Unknown","Point","LineString","Polygon"],zl.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,l=[];e.pos<n;){if(i<=0){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&l.push(t),t=[]),t.push(new s(o,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&l.push(t),l},zl.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},zl.prototype.toGeoJSON=function(e,t,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=zl.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<l.length;r++)d[r]=l[r][0];c(l=d);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=Fl(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Bl=jl;function jl(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Vl,this,t),this.length=this._features.length}function Vl(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function Ul(e,t,n){if(3===e){var r=new Bl(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}jl.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Ll(this._pbf,t,this.extent,this._keys,this._values)};var Wl={VectorTile:function(e,t){this.layers=e.readFields(Ul,{},t)},VectorTileFeature:Ll,VectorTileLayer:Bl};const Gl=Wl.VectorTileFeature.types,Hl=Math.pow(2,13);function ql(e,t,n,r,i,o,a,s){e.emplaceBack((t<<1)+a,(n<<1)+o,(Math.floor(r*Hl)<<1)+i,Math.round(s))}class $l{constructor(){this.acc=new s(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new s(e.x,e.y),this.max=new s(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);let n=!!this.borders;const r=this.min,i=this.max;e.x<r.x?(r.x=e.x,n=!0):e.x>i.x&&(i.x=e.x,n=!0),e.y<r.y?(r.y=e.y,n=!0):e.y>i.y&&(i.y=e.y,n=!0),((0===e.x||e.x===Sa)&&e.x===t.x)!=((0===e.y||e.y===Sa)&&e.y===t.y)&&this.processBorderOverlap(e,t),n&&this.checkBorderIntersection(e,t)}checkBorderIntersection(e,t){t.x<0!=e.x<0&&this.addBorderIntersection(0,bn(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>Sa!=e.x>Sa&&this.addBorderIntersection(1,bn(t.y,e.y,(Sa-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,bn(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>Sa!=e.y>Sa&&this.addBorderIntersection(3,bn(t.x,e.x,(Sa-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const n=this.borders[e];t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const n=0===e.x?0:1;this.addBorderIntersection(n,t.y),this.addBorderIntersection(n,e.y)}else{const n=0===e.y?2:3;this.addBorderIntersection(n,t.x),this.addBorderIntersection(n,e.x)}}centroid(){const e=this.polyCount.reduce((e,t)=>e+t.edges,0);return 0!==e?this.acc.div(e)._round():new s(0,0)}span(){return new s(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,t)=>e+ +(t[0]!==Number.MAX_VALUE),0)}}class Zl{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new co,this.centroidVertexArray=new Uo,this.indexArray=new wo,this.programConfigurations=new ma(e.layers,e.zoom),this.segments=new wa,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.enableTerrain=e.enableTerrain}populate(e,t,n){this.features=[],this.hasPattern=Cl("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/Sa/(1<<e.z)}(n);for(const{feature:r,id:i,index:o,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,s=Ca(r,e);if(!this.layers[0]._featureFilter.filter(new Ui(this.zoom),s,n))continue;const l={id:i,sourceLayerIndex:a,index:o,geometry:e?s.geometry:ka(r),properties:r.properties,type:r.type,patterns:{}},u=this.layoutVertexArray.length;this.hasPattern?this.features.push(Pl("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,o,n,{}),t.featureIndex.insert(r,l.geometry,o,a,this.index,u)}this.sortBorders()}addFeatures(e,t,n){for(const e of this.features){const{geometry:r}=e;this.addFeature(e,r,e.index,t,n)}this.sortBorders()}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Dl),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Il.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,r,i){const o=this.enableTerrain&&e.properties&&"Polygon"===Gl[e.type]?new $l:null;for(const n of Tl(t,500)){let t=0,r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===n.length||(a=n[0]).every(e=>e.x<=0)||a.every(e=>e.x>=Sa)||a.every(e=>e.y<=0)||a.every(e=>e.y>=Sa))continue;for(let e=0;e<n.length;e++){const i=n[e];if(0===i.length)continue;t+=i.length;let a=0;o&&o.startRing(i[0]);for(let e=0;e<i.length;e++){const t=i[e];if(e>=1){const n=i[e-1];if(!Kl(t,n)){o&&o.append(t,n),r.vertexLength+4>wa.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=t.sub(n)._perp(),i=e.x/(Math.abs(e.x)+Math.abs(e.y)),s=e.y>0?1:0,l=n.dist(t);a+l>32768&&(a=0),ql(this.layoutVertexArray,t.x,t.y,i,s,0,0,a),ql(this.layoutVertexArray,t.x,t.y,i,s,0,1,a),a+=l,ql(this.layoutVertexArray,n.x,n.y,i,s,0,0,a),ql(this.layoutVertexArray,n.x,n.y,i,s,0,1,a);const u=r.vertexLength;this.indexArray.emplaceBack(u,u+2,u+1),this.indexArray.emplaceBack(u+1,u+2,u+3),r.vertexLength+=4,r.primitiveLength+=2}}}}if(r.vertexLength+t>wa.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"!==Gl[e.type])continue;const i=[],s=[],l=r.vertexLength;for(let e=0;e<n.length;e++){const t=n[e];if(0!==t.length){t!==n[0]&&s.push(i.length/2);for(let e=0;e<t.length;e++){const n=t[e];ql(this.layoutVertexArray,n.x,n.y,0,0,1,1,0),i.push(n.x),i.push(n.y),o&&o.currentPolyCount.top++}}}const u=Zs(i,s);for(let e=0;e<u.length;e+=3)this.indexArray.emplaceBack(l+u[e],l+u[e+2],l+u[e+1]);r.primitiveLength+=u.length/3,r.vertexLength+=t}var a;if(o&&o.polyCount.length>0){if(o.borders){o.vertexArrayOffset=this.centroidVertexArray.length;const e=o.borders,t=this.featuresOnBorder.push(o)-1;for(let n=0;n<4;n++)e[n][0]!==Number.MAX_VALUE&&this.borders[n].push(t)}this.encodeCentroid(o.borders?void 0:o.centroid(),o)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((t,n)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[n].borders[e][0])}encodeCentroid(e,t,n=!0){let r,i;if(e)if(0!==e.y){const n=t.span()._mult(this.tileToMeter);r=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(n.x/10)),i=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(n.y/10))}else r=Math.ceil(7.3*e.x),i=0;else r=0,i=+n;let o=n?this.centroidVertexArray.length:t.vertexArrayOffset;for(const e of t.polyCount){n&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*e.edges+e.top);for(let t=0;t<2*e.edges;t++)this.centroidVertexArray.emplace(o++,0,i),this.centroidVertexArray.emplace(o++,r,i);for(let t=0;t<e.top;t++)this.centroidVertexArray.emplace(o++,r,i)}}}function Kl(e,t){return e.x===t.x&&(e.x<0||e.x>Sa)||e.y===t.y&&(e.y<0||e.y>Sa)}mi("FillExtrusionBucket",Zl,{omit:["layers","features"]}),mi("PartMetadata",$l);var Xl={paint:new no({"fill-extrusion-opacity":new Yi(nt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qi(nt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yi(nt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yi(nt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ji(nt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qi(nt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qi(nt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Yi(nt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Yl(e,t){return e.x*t.x+e.y*t.y}function Ql(e,t){if(1===e.length){let n=0;const r=t[n++];let i;for(;!i||r.equals(i);)if(i=t[n++],!i)return 1/0;for(;n<t.length;n++){const o=t[n],a=e[0],s=i.sub(r),l=o.sub(r),u=a.sub(r),c=Yl(s,s),d=Yl(s,l),h=Yl(l,l),f=Yl(u,s),p=Yl(u,l),m=c*h-d*d,g=(h*f-d*p)/m,_=(c*p-d*f)/m,y=r.z*(1-g-_)+i.z*g+o.z*_;if(isFinite(y))return y}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}function Jl(e){const t=new s(e[0],e[1]);return t.z=e[2],t}function eu(e,t,n,r,i,o,a,s){const l=a*i.getElevationAt(e,t,!0,!0),u=0!==o[0],c=u?0===o[1]?a*(o[0]/7.3):a*function(e,t,n){const r=Math.floor(t[0]/8),i=Math.floor(t[1]/8),o=10*(t[0]-8*r),a=10*(t[1]-8*i),s=e.getElevationAt(r,i,!0,!0),l=e.getMeterToDEM(n),u=Math.floor(.5*(o*l-1)),c=Math.floor(.5*(a*l-1)),d=e.tileCoordToPixel(r,i),h=2*u+1,f=2*c+1,p=function(e,t,n,r,i){return[e.getElevationAtPixel(t,n,!0),e.getElevationAtPixel(t+i,n,!0),e.getElevationAtPixel(t,n+i,!0),e.getElevationAtPixel(t+r,n+i,!0)]}(e,d.x-u,d.y-c,h,f),m=Math.abs(p[0]-p[1]),g=Math.abs(p[2]-p[3]),_=Math.abs(p[0]-p[2])+Math.abs(p[1]-p[3]),y=Math.min(.25,.5*l*(m+g)/h),v=Math.min(.25,.5*l*_/f);return s+Math.max(y*o,v*a)}(i,o,s):l;return{base:l+(0===n)?-1:n,top:u?Math.max(c+r,l+n+2):l+r}}const tu=so([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:nu}=tu,ru=so([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:iu}=ru,ou=Wl.VectorTileFeature.types,au=Math.cos(Math.PI/180*37.5);class su{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new ho,this.layoutVertexArray2=new fo,this.indexArray=new wo,this.programConfigurations=new ma(e.layers,e.zoom),this.segments=new wa,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n){this.hasPattern=Cl("line",this.layers,t);const r=this.layers[0].layout.get("line-sort-key"),i=[];for(const{feature:t,id:o,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,l=Ca(t,e);if(!this.layers[0]._featureFilter.filter(new Ui(this.zoom),l,n))continue;const u=r?r.evaluate(l,{},n):void 0,c={id:o,properties:t.properties,type:t.type,sourceLayerIndex:s,index:a,geometry:e?l.geometry:ka(t),patterns:{},sortKey:u};i.push(c)}r&&i.sort((e,t)=>e.sortKey-t.sortKey);for(const r of i){const{geometry:i,index:o,sourceLayerIndex:a}=r;if(this.hasPattern){const e=Pl("line",this.layers,r,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(r,i,o,n,{});t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,iu)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,nu),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,r,i){const o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const n of t)this.addLine(n,e,a,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}addLine(e,t,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===ou[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(i=1.05);const u=this.overscaling<=16?122880/(512*this.overscaling):0,c=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let d,h,f,p,m;this.e1=this.e2=-1,a&&(d=e[s-2],m=e[l].sub(d)._unit()._perp());for(let t=l;t<s;t++){if(f=t===s-1?a?e[l+1]:void 0:e[t+1],f&&e[t].equals(f))continue;m&&(p=m),d&&(h=d),d=e[t],m=f?f.sub(d)._unit()._perp():p,p=p||m;let g=p.add(m);0===g.x&&0===g.y||g._unit();const _=p.x*m.x+p.y*m.y,y=g.x*m.x+g.y*m.y,v=0!==y?1/y:1/0,b=2*Math.sqrt(2-2*y),x=y<au&&h&&f,w=p.x*m.y-p.y*m.x>0;if(x&&t>l){const e=d.dist(h);if(e>2*u){const t=d.sub(d.sub(h)._mult(u/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,p,0,0,c),h=t}}const S=h&&f;let E=S?n:a?"butt":r;if(S&&"round"===E&&(v<o?E="miter":v<=2&&(E="fakeround")),"miter"===E&&v>i&&(E="bevel"),"bevel"===E&&(v>2&&(E="flipbevel"),v<i&&(E="miter")),h&&this.updateDistance(h,d),"miter"===E)g._mult(v),this.addCurrentVertex(d,g,0,0,c);else if("flipbevel"===E){if(v>100)g=m.mult(-1);else{const e=v*p.add(m).mag()/p.sub(m).mag();g._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(d,g,0,0,c),this.addCurrentVertex(d,g.mult(-1),0,0,c)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(v*v-1),t=w?e:0,n=w?0:e;if(h&&this.addCurrentVertex(d,p,t,n,c),"fakeround"===E){const e=Math.round(180*b/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*e*e+(.848013+_*(.215638*_-1.06021)))}const r=m.sub(p)._mult(n)._add(p)._unit()._mult(w?-1:1);this.addHalfVertex(d,r.x,r.y,!1,w,0,c)}}f&&this.addCurrentVertex(d,m,-t,-n,c)}else if("butt"===E)this.addCurrentVertex(d,g,0,0,c);else if("square"===E){const e=h?1:-1;this.addCurrentVertex(d,g,e,e,c)}else"round"===E&&(h&&(this.addCurrentVertex(d,p,0,0,c),this.addCurrentVertex(d,p,1,1,c,!0)),f&&(this.addCurrentVertex(d,m,-1,-1,c,!0),this.addCurrentVertex(d,m,0,0,c)));if(x&&t<s-1){const e=d.dist(f);if(e>2*u){const t=d.add(f.sub(d)._mult(u/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,m,0,0,c),d=t}}}}addCurrentVertex(e,t,n,r,i,o=!1){const a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i)}addHalfVertex({x:e,y:t},n,r,i,o,a,s){this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(o?1:0),Math.round(63*n)+128,Math.round(63*r)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);const l=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),s.primitiveLength++),o?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}mi("LineBucket",su,{omit:["layers","patternFeatures"]});const lu=new no({"line-cap":new Yi(nt.layout_line["line-cap"]),"line-join":new Qi(nt.layout_line["line-join"]),"line-miter-limit":new Yi(nt.layout_line["line-miter-limit"]),"line-round-limit":new Yi(nt.layout_line["line-round-limit"]),"line-sort-key":new Qi(nt.layout_line["line-sort-key"])});var uu={paint:new no({"line-opacity":new Qi(nt.paint_line["line-opacity"]),"line-color":new Qi(nt.paint_line["line-color"]),"line-translate":new Yi(nt.paint_line["line-translate"]),"line-translate-anchor":new Yi(nt.paint_line["line-translate-anchor"]),"line-width":new Qi(nt.paint_line["line-width"]),"line-gap-width":new Qi(nt.paint_line["line-gap-width"]),"line-offset":new Qi(nt.paint_line["line-offset"]),"line-blur":new Qi(nt.paint_line["line-blur"]),"line-dasharray":new eo(nt.paint_line["line-dasharray"]),"line-pattern":new Ji(nt.paint_line["line-pattern"]),"line-gradient":new to(nt.paint_line["line-gradient"])}),layout:lu};const cu=new class extends Qi{possiblyEvaluate(e,t){return t=new Ui(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,r){return t=E({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,r)}}(uu.paint.properties["line-width"].specification);function du(e,t){return t>0?t+2*e:e}cu.useIntegerZoom=!0;const hu=so([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),fu=so([{name:"a_projected_pos",components:3,type:"Float32"}],4);so([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const pu=so([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),mu=so([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);so([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const gu=so([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_u=so([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function yu(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Ui(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:r}=n;let i=0;for(;i<t.length&&t[i]<=e;)i++;i=Math.max(0,i-1);let o=i;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[i],s=t[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:r}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Ui(a)),maxSize:n.evaluate(new Ui(s)),interpolationType:r}}}function vu(e,{uSize:t,uSizeT:n},{lowerSize:r,upperSize:i}){return"source"===e.kind?r/128:"composite"===e.kind?bn(r/128,i/128,n):t}function bu(e,t){let n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){const{interpolationType:i,minZoom:o,maxZoom:a}=e,s=i?b(Ln.interpolationFactor(i,t,o,a),0,1):0;"camera"===e.kind?r=bn(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:r}}so([{name:"triangle",components:3,type:"Uint16"}]),so([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),so([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),so([{type:"Float32",name:"offsetX"}]),so([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var xu=Object.freeze({__proto__:null,getSizeData:yu,evaluateSizeForFeature:vu,evaluateSizeForZoom:bu,SIZE_PACK_FACTOR:128});function wu(e,t,n){return e.sections.forEach(e=>{e.text=function(e,t,n){const r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),Vi.applyArabicShaping&&(e=Vi.applyArabicShaping(e)),e}(e.text,t,n)}),e}const Su={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Eu=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},Tu=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+f]=255&a,f+=p,a/=256,u-=8);e[n+f-p]|=128*m},ku=Cu;function Cu(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Cu.Varint=0,Cu.Fixed64=1,Cu.Bytes=2,Cu.Fixed32=5;var Pu=4294967296,Ru=1/Pu,Ou="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Mu(e){return e.type===Cu.Bytes?e.readVarint()+e.pos:e.pos+1}function Au(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Iu(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function Du(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Lu(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function zu(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Nu(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Fu(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Bu(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function ju(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Vu(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Uu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Wu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Gu(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function Hu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function qu(e,t,n){1===e&&n.readMessage($u,t)}function $u(e,t,n){if(3===e){const{id:e,bitmap:r,width:i,height:o,left:a,top:s,advance:l}=n.readMessage(Zu,{});t.push({id:e,bitmap:new Vs({width:i+6,height:o+6},r),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function Zu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function Ku(e){let t=0,n=0;for(const r of e)t+=r.w*r.h,n=Math.max(n,r.w);e.sort((e,t)=>t.h-e.h);const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,o=0;for(const t of e)for(let e=r.length-1;e>=0;e--){const n=r[e];if(!(t.w>n.w||t.h>n.h)){if(t.x=n.x,t.y=n.y,o=Math.max(o,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===n.w&&t.h===n.h){const t=r.pop();e<r.length&&(r[e]=t)}else t.h===n.h?(n.x+=t.w,n.w-=t.w):t.w===n.w?(n.y+=t.h,n.h-=t.h):(r.push({x:n.x+t.w,y:n.y,w:n.w-t.w,h:t.h}),n.y+=t.h,n.h-=t.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}Cu.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Wu(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Hu(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Wu(this.buf,this.pos)+Wu(this.buf,this.pos+4)*Pu;return this.pos+=8,e},readSFixed64:function(){var e=Wu(this.buf,this.pos)+Hu(this.buf,this.pos+4)*Pu;return this.pos+=8,e},readFloat:function(){var e=Eu(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Eu(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return Au(e,r,t);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return Au(e,r,t);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return Au(e,r,t);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return Au(e,r,t);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return Au(e,r,t);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return Au(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Ou?function(e,t,n){return Ou.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Cu.Bytes)return e.push(this.readVarint(t));var n=Mu(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Cu.Bytes)return e.push(this.readSVarint());var t=Mu(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Cu.Bytes)return e.push(this.readBoolean());var t=Mu(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Cu.Bytes)return e.push(this.readFloat());var t=Mu(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Cu.Bytes)return e.push(this.readDouble());var t=Mu(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Cu.Bytes)return e.push(this.readFixed32());var t=Mu(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Cu.Bytes)return e.push(this.readSFixed32());var t=Mu(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Cu.Bytes)return e.push(this.readFixed64());var t=Mu(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Cu.Bytes)return e.push(this.readSFixed64());var t=Mu(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Cu.Varint)for(;this.buf[this.pos++]>127;);else if(t===Cu.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Cu.Fixed32)this.pos+=4;else{if(t!==Cu.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Gu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Gu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Gu(this.buf,-1&e,this.pos),Gu(this.buf,Math.floor(e*Ru),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Gu(this.buf,-1&e,this.pos),Gu(this.buf,Math.floor(e*Ru),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Iu(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Tu(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Tu(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&Iu(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Cu.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Du,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Lu,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Fu,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,zu,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Nu,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Bu,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,ju,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Vu,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Uu,t)},writeBytesField:function(e,t){this.writeTag(e,Cu.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Cu.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Cu.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Cu.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Cu.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Cu.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Cu.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Cu.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Cu.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Cu.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class Xu{constructor(e,{pixelRatio:t,version:n,stretchX:r,stretchY:i,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=r,this.stretchY=i,this.content=o,this.version=n}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}mi("ImagePosition",Xu),mi("ImageAtlas",class{constructor(e,t){const n={},r={};this.haveRenderCallbacks=[];const i=[];this.addImages(e,n,i),this.addImages(t,r,i);const{w:o,h:a}=Ku(i),s=new Us({width:o||1,height:a||1});for(const t in e){const r=e[t],i=n[t].paddedRect;Us.copy(r.data,s,{x:0,y:0},{x:i.x+1,y:i.y+1},r.data)}for(const e in t){const n=t[e],i=r[e].paddedRect,o=i.x+1,a=i.y+1,l=n.data.width,u=n.data.height;Us.copy(n.data,s,{x:0,y:0},{x:o,y:a},n.data),Us.copy(n.data,s,{x:0,y:u-1},{x:o,y:a-1},{width:l,height:1}),Us.copy(n.data,s,{x:0,y:0},{x:o,y:a+u},{width:l,height:1}),Us.copy(n.data,s,{x:l-1,y:0},{x:o-1,y:a},{width:1,height:u}),Us.copy(n.data,s,{x:0,y:0},{x:o+l,y:a},{width:1,height:u})}this.image=s,this.iconPositions=n,this.patternPositions=r}addImages(e,t,n){for(const r in e){const i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new Xu(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[r,i]=e.tl;n.update(t.data,void 0,{x:r,y:i})}});const Yu={horizontal:1,vertical:2,horizontalOnly:3};function Qu(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}class Ju extends s{constructor(e,t,n,r){super(e,t),this.angle=n,void 0!==r&&(this.segment=r)}clone(){return new Ju(this.x,this.y,this.angle,this.segment)}}mi("Anchor",Ju);var ec=rc,tc=rc,nc=1e20;function rc(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function ic(e,t,n,r,i,o){for(var a=0;a<t;a++)oc(e,a,t,n,r,i,o);for(var s=0;s<n;s++)oc(e,s*t,1,t,r,i,o)}function oc(e,t,n,r,i,o,a){var s,l,u,c;for(o[0]=0,a[0]=-nc,a[1]=nc,s=0;s<r;s++)i[s]=e[t+s*n];for(s=1,l=0,u=0;s<r;s++){do{u=(i[s]-i[c=o[l]]+s*s-c*c)/(s-c)/2}while(u<=a[l]&&--l>-1);o[++l]=s,a[l]=u,a[l+1]=nc}for(s=0,l=0;s<r;s++){for(;a[l+1]<s;)l++;e[t+s*n]=i[c=o[l]]+(s-c)*(s-c)}}rc.prototype._draw=function(e,t){var n,r,i,o,a,s,l,u,c,d=this.ctx.measureText(e),h=d.width,f=2*this.buffer;t&&this.useMetrics?(a=Math.floor(d.actualBoundingBoxAscent),u=this.buffer+Math.ceil(d.actualBoundingBoxAscent),s=this.buffer,l=this.buffer,n=(r=Math.min(this.size,Math.ceil(d.actualBoundingBoxRight-d.actualBoundingBoxLeft)))+f,i=(o=Math.min(this.size-s,Math.ceil(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent)))+f,this.ctx.textBaseline="alphabetic"):(n=r=this.size,i=o=this.size,a=19*this.fontSize/24,s=l=0,u=this.middle,this.ctx.textBaseline="middle"),r&&o&&(this.ctx.clearRect(l,s,r,o),this.ctx.fillText(e,this.buffer,u),c=this.ctx.getImageData(l,s,r,o));var p=new Uint8ClampedArray(n*i);return function(e,t,n,r,i,o,a){o.fill(nc,0,t*n),a.fill(0,0,t*n);for(var s=(t-r)/2,l=0;l<i;l++)for(var u=0;u<r;u++){var c=(l+s)*t+u+s,d=e.data[4*(l*r+u)+3]/255;if(1===d)o[c]=0,a[c]=nc;else if(0===d)o[c]=nc,a[c]=0;else{var h=Math.max(0,.5-d),f=Math.max(0,d-.5);o[c]=h*h,a[c]=f*f}}}(c,n,i,r,o,this.gridOuter,this.gridInner),ic(this.gridOuter,n,i,this.f,this.v,this.z),ic(this.gridInner,n,i,this.f,this.v,this.z),function(e,t,n,r,i,o,a){for(var s=0;s<t*n;s++){var l=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(l/o+a))}}(p,n,i,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:p,metrics:{width:r,height:o,sdfWidth:n,sdfHeight:i,top:a,left:0,advance:h}}},rc.prototype.draw=function(e){return this._draw(e,!1).data},rc.prototype.drawWithMetrics=function(e){return this._draw(e,!0)},ec.default=tc;class ac{constructor(e,t,n){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,t){const n=[];for(const t in e)for(const r of e[t])n.push({stack:t,id:r});w(n,({stack:e,id:t},n)=>{let r=this.entries[e];r||(r=this.entries[e]={glyphs:{},requests:{},ranges:{}});let i=r.glyphs[t];if(void 0!==i)return void n(null,{stack:e,id:t,glyph:i});if(i=this._tinySDF(r,e,t),i)return r.glyphs[t]=i,void n(null,{stack:e,id:t,glyph:i});const o=Math.floor(t/256);if(256*o>65535)return void n(new Error("glyphs > 65535 not supported"));if(r.ranges[o])return void n(null,{stack:e,id:t,glyph:i});let a=r.requests[o];a||(a=r.requests[o]=[],ac.loadGlyphRange(e,o,this.url,this.requestManager,(e,t)=>{if(t){for(const e in t)this._doesCharSupportLocalGlyph(+e)||(r.glyphs[+e]=t[+e]);r.ranges[o]=!0}for(const n of a)n(e,t);delete r.requests[o]})),a.push((r,i)=>{r?n(r):i&&n(null,{stack:e,id:t,glyph:i[t]||null})})},(e,n)=>{if(e)t(e);else if(n){const e={};for(const{stack:t,id:r,glyph:i}of n)(e[t]||(e[t]={}))[r]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics};t(null,e)}})}_doesCharSupportLocalGlyph(e){return 0!==this.localGlyphMode&&(2===this.localGlyphMode?!!this.localFontFamily:!!this.localFontFamily&&(Si(e)||Ei(e)||xi(e)||wi(e)))}_tinySDF(e,t,n){const r=this.localFontFamily;if(!r)return;if(!this._doesCharSupportLocalGlyph(n))return;let i=e.tinySDF;if(!i){let n="400";/bold/i.test(t)?n="900":/medium/i.test(t)?n="500":/light/i.test(t)&&(n="200"),i=e.tinySDF=new ac.TinySDF(48,6,16,.25,r,n)}if(this.localGlyphs[i.fontWeight][n])return this.localGlyphs[i.fontWeight][n];const{data:o,metrics:a}=i.drawWithMetrics(String.fromCharCode(n)),{sdfWidth:s,sdfHeight:l,width:u,height:c,left:d,top:h,advance:f}=a;return this.localGlyphs[i.fontWeight][n]={id:n,bitmap:new Vs({width:s,height:l},o),metrics:{width:u/2,height:c/2,left:d/2,top:h/2-27,advance:f/2,localGlyph:!0}}}}ac.loadGlyphRange=function(e,t,n,r,i){const o=256*t,a=o+255,s=r.transformRequest(r.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}",`${o}-${a}`),Fe.Glyphs);We(s,(e,t)=>{if(e)i(e);else if(t){const e={};for(const n of function(e){return new ku(e).readFields(qu,[])}(t))e[n.id]=n;i(null,e)}})},ac.TinySDF=ec;const sc=Number.POSITIVE_INFINITY;function lc(e,t){return t[1]!==sc?function(e,t,n){let r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){let n=0,r=0;t<0&&(t=0);const i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}const uc=Wl.VectorTileFeature.types,cc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function dc(e,t,n,r,i,o,a,s,l,u,c,d,h){const f=s?Math.min(32640,Math.round(s[0])):0,p=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(f<<1)+(l?1:0),p,16*u,16*c,256*d,256*h)}function hc(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function fc(e){for(const t of e.sections)if(Ri(t.text))return!0;return!1}class pc{constructor(e){this.layoutVertexArray=new mo,this.indexArray=new wo,this.programConfigurations=e,this.segments=new wa,this.dynamicLayoutVertexArray=new go,this.opacityVertexArray=new _o,this.placedSymbolArray=new Do}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,hu.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,fu.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,cc,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}mi("SymbolBuffers",pc);class mc{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new wa,this.collisionVertexArray=new xo,this.collisionVertexArrayExt=new go}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,pu.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,mu.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}mi("CollisionBuffers",mc);class gc{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ya([]),this.placementViewportMatrix=Ya([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=yu(this.zoom,t["text-size"]),this.iconSizeData=yu(this.zoom,t["icon-size"]);const n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map(e=>Yu[e])),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=e.sourceID}createArrays(){this.text=new pc(new ma(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new pc(new ma(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new No,this.lineVertexArray=new Fo,this.symbolInstances=new zo}calculateGlyphDependencies(e,t,n,r,i){for(let o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(n||r)&&i){const n=Su[e.charAt(o)];n&&(t[n.charCodeAt(0)]=!0)}}populate(e,t,n){const r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==a.value.kind||a.value.value instanceof Mt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],!l&&!u)return;const d=t.iconDependencies,h=t.glyphDependencies,f=t.availableImages,p=new Ui(this.zoom);for(const{feature:t,id:a,index:s,sourceLayerIndex:m}of e){const e=r._featureFilter.needGeometry,g=Ca(t,e);if(!r._featureFilter.filter(p,g,n))continue;let _,y;if(e||(g.geometry=ka(t)),l){const e=r.getValueAndResolveTokens("text-field",g,n,f),t=Mt.factory(e);fc(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Bi()||this.hasRTLText&&Vi.isParsed())&&(_=wu(t,r,g))}if(u){const e=r.getValueAndResolveTokens("icon-image",g,n,f);y=e instanceof At?e:At.fromString(e)}if(!_&&!y)continue;const v=this.sortFeaturesByKey?c.evaluate(g,{},n):void 0;if(this.features.push({id:a,text:_,icon:y,index:s,sourceLayerIndex:m,geometry:g.geometry,properties:t.properties,type:uc[t.type],sortKey:v}),y&&(d[y.name]=!0),_){const e=o.evaluate(g,{},n).join(","),t="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Yu.vertical)>=0;for(const n of _.sections)if(n.image)d[n.image.name]=!0;else{const r=Ti(_.toString()),i=n.fontStack||e,o=h[i]=h[i]||{};this.calculateGlyphDependencies(n.text,o,t,this.allowVerticalPlacement,r)}}}"line"===i.get("symbol-placement")&&(this.features=function(e){const t={},n={},r=[];let i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){const o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){const o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(e,t,n){const r=n?t[0][t[0].length-1]:t[0][0];return`${e}:${r.x}:${r.y}`}for(let u=0;u<e.length;u++){const c=e[u],d=c.geometry,h=c.text?c.text.toString():null;if(!h){o(u);continue}const f=l(h,d),p=l(h,d,!0);if(f in n&&p in t&&n[f]!==t[p]){const e=s(f,p,d),i=a(f,p,r[e].geometry);delete t[f],delete n[p],n[l(h,r[i].geometry,!0)]=i,r[e].geometry=null}else f in n?a(f,p,d):p in t?s(f,p,d):(o(u),t[f]=i-1,n[p]=i-1)}return r.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment){let n=e.dist(t[e.segment+1]),r=e.dist(t[e.segment]);const i={};for(let r=e.segment+1;r<t.length;r++)i[r]={x:t[r].x,y:t[r].y,tileUnitDistanceFromAnchor:n},r<t.length-1&&(n+=t[r+1].dist(t[r]));for(let n=e.segment||0;n>=0;n--)i[n]={x:t[n].x,y:t[n].y,tileUnitDistanceFromAnchor:r},n>0&&(r+=t[n-1].dist(t[n]));for(let e=0;e<t.length;e++){const t=i[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(e,t,n,r,i,o,a,s,l,u,c,d){const h=e.indexArray,f=e.layoutVertexArray,p=e.segments.prepareSegment(4*t.length,f,h,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,g=p.vertexLength,_=this.allowVerticalPlacement&&a===Yu.vertical?Math.PI/2:0,y=o.text&&o.text.sections;for(let r=0;r<t.length;r++){const{tl:i,tr:a,bl:l,br:u,tex:c,pixelOffsetTL:m,pixelOffsetBR:g,minFontScaleX:v,minFontScaleY:b,glyphOffset:x,isSDF:w,sectionIndex:S}=t[r],E=p.vertexLength,T=x[1];dc(f,s.x,s.y,i.x,T+i.y,c.x,c.y,n,w,m.x,m.y,v,b),dc(f,s.x,s.y,a.x,T+a.y,c.x+c.w,c.y,n,w,g.x,m.y,v,b),dc(f,s.x,s.y,l.x,T+l.y,c.x,c.y+c.h,n,w,m.x,g.y,v,b),dc(f,s.x,s.y,u.x,T+u.y,c.x+c.w,c.y+c.h,n,w,g.x,g.y,v,b),hc(e.dynamicLayoutVertexArray,s,_),h.emplaceBack(E,E+1,E+2),h.emplaceBack(E+1,E+2,E+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),r!==t.length-1&&S===t[r+1].sectionIndex||e.programConfigurations.populatePaintArrays(f.length,o,o.index,{},d,y&&y[S])}e.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,g,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)}_commitLayoutVertex(e,t,n,r,i){e.emplaceBack(t.x,t.y,n,r,Math.round(i.x),Math.round(i.y))}_addCollisionDebugVertices(e,t,n,r,i){const o=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),a=o.vertexLength,l=i.anchorX,u=i.anchorY;for(let e=0;e<4;e++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,r,l,u,new s(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,r,l,u,new s(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,r,l,u,new s(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,r,l,u,new s(e.x1,e.y2)),o.vertexLength+=4;const c=n.indexArray;c.emplaceBack(a,a+1),c.emplaceBack(a+1,a+2),c.emplaceBack(a+2,a+3),c.emplaceBack(a+3,a),o.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,n,r,i,o){for(let a=r;a<i;a++){const r=n.get(a),i=this.getSymbolInstanceTextSize(e,o,t,a);this._addCollisionDebugVertices(r,i,this.textCollisionBox,r.anchorPoint,o)}}_addIconDebugCollisionBoxes(e,t,n,r,i,o){for(let a=r;a<i;a++){const r=n.get(a),i=this.getSymbolInstanceIconSize(e,t,a);this._addCollisionDebugVertices(r,i,this.iconCollisionBox,r.anchorPoint,o)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new mc(vo,gu.members,Po),this.iconCollisionBox=new mc(vo,gu.members,Po);const n=bu(this.iconSizeData,e),r=bu(this.textSizeData,e);for(let i=0;i<this.symbolInstances.length;i++){const o=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(r,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(r,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(e,t,n,r){const i=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:r),o=vu(this.textSizeData,e,i)/24;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,n){const r=this.icon.placedSymbolArray.get(n),i=vu(this.iconSizeData,e,r);return this.tilePixelRatio*i}_commitDebugCollisionVertexUpdate(e,t,n){e.emplaceBack(t,-n,-n),e.emplaceBack(t,n,-n),e.emplaceBack(t,n,n),e.emplaceBack(t,-n,n)}_updateTextDebugCollisionBoxes(e,t,n,r,i,o){for(let a=r;a<i;a++){const r=n.get(a),i=this.getSymbolInstanceTextSize(e,o,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,i,r.padding)}}_updateIconDebugCollisionBoxes(e,t,n,r,i){for(let o=r;o<i;o++){const r=n.get(o),i=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,i,r.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const n=bu(this.iconSizeData,e),r=bu(this.textSizeData,e);for(let i=0;i<this.symbolInstances.length;i++){const o=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(r,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(r,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,n,r,i,o,a,s,l){const u={};for(let r=t;r<n;r++){const t=e.get(r);u.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,padding:t.padding,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},u.textFeatureIndex=t.featureIndex;break}for(let t=r;t<i;t++){const n=e.get(t);u.verticalTextBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,padding:n.padding,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},u.verticalTextFeatureIndex=n.featureIndex;break}for(let t=o;t<a;t++){const n=e.get(t);u.iconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,padding:n.padding,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},u.iconFeatureIndex=n.featureIndex;break}for(let t=s;t<l;t++){const n=e.get(t);u.verticalIconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,padding:n.padding,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},u.verticalIconFeatureIndex=n.featureIndex;break}return u}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs;for(let t=n.vertexStartIndex;t<r;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const a=this.symbolInstances.get(e);r.push(0|Math.round(t*a.anchorX+n*a.anchorY)),i.push(a.featureIndex)}return o.sort((e,t)=>r[e]-r[t]||i[t]-i[e]),o}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach((e,t,n)=>{e>=0&&n.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)}),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}mi("SymbolBucket",gc,{omit:["layers","collisionBoxArray","features","compareText"]}),gc.MAX_GLYPHS=65535,gc.addDynamicAttributes=hc;const _c=new no({"symbol-placement":new Yi(nt.layout_symbol["symbol-placement"]),"symbol-spacing":new Yi(nt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yi(nt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qi(nt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Yi(nt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yi(nt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yi(nt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yi(nt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yi(nt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qi(nt.layout_symbol["icon-size"]),"icon-text-fit":new Yi(nt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yi(nt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qi(nt.layout_symbol["icon-image"]),"icon-rotate":new Qi(nt.layout_symbol["icon-rotate"]),"icon-padding":new Yi(nt.layout_symbol["icon-padding"]),"icon-keep-upright":new Yi(nt.layout_symbol["icon-keep-upright"]),"icon-offset":new Qi(nt.layout_symbol["icon-offset"]),"icon-anchor":new Qi(nt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yi(nt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yi(nt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yi(nt.layout_symbol["text-rotation-alignment"]),"text-field":new Qi(nt.layout_symbol["text-field"]),"text-font":new Qi(nt.layout_symbol["text-font"]),"text-size":new Qi(nt.layout_symbol["text-size"]),"text-max-width":new Qi(nt.layout_symbol["text-max-width"]),"text-line-height":new Yi(nt.layout_symbol["text-line-height"]),"text-letter-spacing":new Qi(nt.layout_symbol["text-letter-spacing"]),"text-justify":new Qi(nt.layout_symbol["text-justify"]),"text-radial-offset":new Qi(nt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Yi(nt.layout_symbol["text-variable-anchor"]),"text-anchor":new Qi(nt.layout_symbol["text-anchor"]),"text-max-angle":new Yi(nt.layout_symbol["text-max-angle"]),"text-writing-mode":new Yi(nt.layout_symbol["text-writing-mode"]),"text-rotate":new Qi(nt.layout_symbol["text-rotate"]),"text-padding":new Yi(nt.layout_symbol["text-padding"]),"text-keep-upright":new Yi(nt.layout_symbol["text-keep-upright"]),"text-transform":new Qi(nt.layout_symbol["text-transform"]),"text-offset":new Qi(nt.layout_symbol["text-offset"]),"text-allow-overlap":new Yi(nt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yi(nt.layout_symbol["text-ignore-placement"]),"text-optional":new Yi(nt.layout_symbol["text-optional"])});var yc={paint:new no({"icon-opacity":new Qi(nt.paint_symbol["icon-opacity"]),"icon-color":new Qi(nt.paint_symbol["icon-color"]),"icon-halo-color":new Qi(nt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qi(nt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qi(nt.paint_symbol["icon-halo-blur"]),"icon-translate":new Yi(nt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yi(nt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qi(nt.paint_symbol["text-opacity"]),"text-color":new Qi(nt.paint_symbol["text-color"],{runtimeType:pt,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Qi(nt.paint_symbol["text-halo-color"]),"text-halo-width":new Qi(nt.paint_symbol["text-halo-width"]),"text-halo-blur":new Qi(nt.paint_symbol["text-halo-blur"]),"text-translate":new Yi(nt.paint_symbol["text-translate"]),"text-translate-anchor":new Yi(nt.paint_symbol["text-translate-anchor"])}),layout:_c};class vc{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:ct,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}mi("FormatSectionOverride",vc,{omit:["defaultValue"]});class bc extends va{constructor(e){super(e,yc)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const n of e)t.indexOf(n)<0&&t.push(n);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,r){const i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||xr(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(t,n)=>n in e?String(e[n]):"")}(t.properties,i)}createBucket(e){return new gc(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of yc.paint.overridableProperties){if(!bc.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new vc(t),r=new br(n,t.property.specification);let i=null;i="constant"===t.value.kind||"source"===t.value.kind?new Sr("source",r):new Er("composite",r,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new Ki(t.property,i,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&bc.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),r=yc.paint.properties[t];let i=!1;const o=e=>{for(const t of e)if(r.overrides&&r.overrides.hasOverride(t))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof Mt)o(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{i||(t instanceof Nt&&Lt(t.value)===yt?o(t.value.sections):t instanceof Vt?o(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return i}getProgramConfiguration(e){return new pa(this,e)}}var xc={paint:new no({"background-color":new Yi(nt.paint_background["background-color"]),"background-pattern":new eo(nt.paint_background["background-pattern"]),"background-opacity":new Yi(nt.paint_background["background-opacity"])})},wc={paint:new no({"raster-opacity":new Yi(nt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yi(nt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yi(nt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yi(nt.paint_raster["raster-brightness-max"]),"raster-saturation":new Yi(nt.paint_raster["raster-saturation"]),"raster-contrast":new Yi(nt.paint_raster["raster-contrast"]),"raster-resampling":new Yi(nt.paint_raster["raster-resampling"]),"raster-fade-duration":new Yi(nt.paint_raster["raster-fade-duration"])})};class Sc extends va{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var Ec={paint:new no({"sky-type":new Yi(nt.paint_sky["sky-type"]),"sky-atmosphere-sun":new Yi(nt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Yi(nt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Yi(nt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Yi(nt.paint_sky["sky-gradient-radius"]),"sky-gradient":new to(nt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Yi(nt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Yi(nt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Yi(nt.paint_sky["sky-opacity"])})};function Tc(e,t,n){const r=hs(0,0,1),i=Ps(Cs());return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l-o*s,e[1]=i*l+a*s,e[2]=o*l+r*s,e[3]=a*l-i*s}(i,i,n?-p(e)+Math.PI:p(e)),Rs(i,i,-p(t)),bs(r,r,i),_s(r,r)}const kc={circle:class extends va{constructor(e){super(e,$a)}createBucket(e){return new Ra(e)}queryRadius(e){const t=e;return Ua("circle-radius",this,t)+Ua("circle-stroke-width",this,t)+Wa(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,r,i,o,a,s){const l="map"===this.paint.get("circle-pitch-alignment");if(l&&e.queryGeometry.isAboveHorizon)return!1;const u=Ha(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),d=l?c*e.pixelToTileUnitsFactor:c;for(const t of r)for(const n of t){const t=n.add(u),r=s&&o.elevation?o.elevation.exaggeration()*s.getElevationAt(t.x,t.y,!0):0,i=l?t:Is(t,r,a),c=l?e.tilespaceRays.map(e=>zs(e,r)):e.queryGeometry.screenGeometry;let h=d;const f=ks([],[n.x,n.y,r,1],a);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?h*=f[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(h*=o.cameraToCenterDistance/f[3]),Ma(c,i,h))return!0}return!1}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new pa(this,e)}},heatmap:class extends va{createBucket(e){return new Ns(e)}constructor(e){super(e,Ws),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Gs({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new pa(this,e)}},hillshade:class extends va{constructor(e){super(e,Hs)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(e){return new pa(this,e)}},fill:class extends va{constructor(e){super(e,Ml)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}getProgramConfiguration(e){return new pa(this,e)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new Rl(e)}queryRadius(){return Wa(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,r,i,o){return!e.queryGeometry.isAboveHorizon&&Aa(Ga(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),r)}isTileClipped(){return!0}},"fill-extrusion":class extends va{constructor(e){super(e,Xl)}createBucket(e){return new Zl(e)}queryRadius(){return Wa(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new pa(this,e)}queryIntersectsFeature(e,t,n,r,i,o,a,l,u){const c=Ha(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),d=this.paint.get("fill-extrusion-height").evaluate(t,n),h=this.paint.get("fill-extrusion-base").evaluate(t,n),f=[0,0],p=l&&o.elevation,m=o.elevation?o.elevation.exaggeration():1;if(p){const t=e.tile.getBucket(this).centroidVertexArray,n=u+1;if(n<t.length){const e=t.get(n);f[0]=e.a_centroid_pos0,f[1]=e.a_centroid_pos1}}if(0===f[0]&&1===f[1])return!1;const g=function(e,t,n,r,i,o,a,l,u){return o?function(e,t,n,r,i,o,a,s,l){const u=[],c=[],d=[0,0,0,1];for(const h of e){const e=[],f=[];for(const u of h){const c=u.x+r.x,h=u.y+r.y,p=eu(c,h,t,n,o,a,s,l);d[0]=c,d[1]=h,d[2]=p.base,d[3]=1,ks(d,d,i),d[3]=Math.max(d[3],1e-5);const m=Jl([d[0]/d[3],d[1]/d[3],d[2]/d[3]]);d[0]=c,d[1]=h,d[2]=p.top,d[3]=1,ks(d,d,i),d[3]=Math.max(d[3],1e-5);const g=Jl([d[0]/d[3],d[1]/d[3],d[2]/d[3]]);e.push(m),f.push(g)}u.push(e),c.push(f)}return[u,c]}(e,t,n,r,i,o,a,l,u):function(e,t,n,r,i){const o=[],a=[],l=i[8]*t,u=i[9]*t,c=i[10]*t,d=i[11]*t,h=i[8]*n,f=i[9]*n,p=i[10]*n,m=i[11]*n;for(const t of e){const e=[],n=[];for(const o of t){const t=o.x+r.x,a=o.y+r.y,g=i[0]*t+i[4]*a+i[12],_=i[1]*t+i[5]*a+i[13],y=i[2]*t+i[6]*a+i[14],v=i[3]*t+i[7]*a+i[15],b=g+l,x=_+u,w=y+c,S=Math.max(v+d,1e-5),E=g+h,T=_+f,k=y+p,C=Math.max(v+m,1e-5),P=new s(b/S,x/S);P.z=w/S,e.push(P);const R=new s(E/C,T/C);R.z=k/C,n.push(R)}o.push(e),a.push(n)}return[o,a]}(e,t,n,r,i)}(r,h,d,c,a,p?l:null,f,m,o.center.lat),_=e.queryGeometry;return function(e,t,n){let r=1/0;Aa(n,t)&&(r=Ql(n,t[0]));for(let i=0;i<t.length;i++){const o=t[i],a=e[i];for(let e=0;e<o.length-1;e++){const t=o[e],i=[t,o[e+1],a[e+1],a[e],t];Oa(n,i)&&(r=Math.min(r,Ql(n,i)))}}return r!==1/0&&r}(g[0],g[1],_.isPointQuery()?_.screenBounds:_.screenGeometry)}},line:class extends va{constructor(e){super(e,uu),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof vn,this.gradientVersion=(this.gradientVersion+1)%d)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=cu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new su(e)}getProgramIds(){const e=this.paint.get("line-dasharray"),t=this.paint.get("line-pattern").constantOr(1),n=this.paint.get("line-gradient");return[t?"linePattern":e?"lineSDF":n?"lineGradient":"line"]}getProgramConfiguration(e){return new pa(this,e)}queryRadius(e){const t=e,n=du(Ua("line-width",this,t),Ua("line-gap-width",this,t)),r=Ua("line-offset",this,t);return n/2+Math.abs(r)+Wa(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,r,i,o){if(e.queryGeometry.isAboveHorizon)return!1;const a=Ga(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),l=e.pixelToTileUnitsFactor/2*du(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),u=this.paint.get("line-offset").evaluate(t,n);return u&&(r=function(e,t){const n=[],r=new s(0,0);for(let i=0;i<e.length;i++){const o=e[i],a=[];for(let e=0;e<o.length;e++){const n=o[e-1],i=o[e],s=o[e+1],l=0===e?r:i.sub(n)._unit()._perp(),u=e===o.length-1?r:s.sub(i)._unit()._perp(),c=l._add(u)._unit();c._mult(1/(c.x*u.x+c.y*u.y)),a.push(c._mult(t)._add(i))}n.push(a)}return n}(r,u*e.pixelToTileUnitsFactor)),function(e,t,n){for(let r=0;r<t.length;r++){const i=t[r];if(e.length>=3)for(let t=0;t<i.length;t++)if(Ba(e,i[t]))return!0;if(Ia(e,i,n))return!0}return!1}(a,r,l)}isTileClipped(){return!0}},symbol:bc,background:class extends va{constructor(e){super(e,xc)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends va{constructor(e){super(e,wc)}getProgramIds(){return["raster"]}},sky:class extends va{constructor(e){super(e,Ec),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Gs({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}}getCenter(e,t){const n=this.paint.get("sky-type");if("atmosphere"===n){const n=this.paint.get("sky-atmosphere-sun"),r=!n,i=e.style.light,o=i.properties.get("position");return r&&"viewport"===i.properties.get("anchor")&&z("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),r?Tc(o.azimuthal,90-o.polar,t):Tc(n[0],90-n[1],t)}if("gradient"===n){const e=this.paint.get("sky-gradient-center");return Tc(e[0],90-e[1],t)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}};function Cc(e){return"custom"===e.type?new Sc(e):new kc[e.type](e)}const{HTMLImageElement:Pc,HTMLCanvasElement:Rc,HTMLVideoElement:Oc,ImageData:Mc,ImageBitmap:Ac}=u;class Ic{constructor(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)}update(e,t,n){const{width:r,height:i}=e,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),{context:a}=this,{gl:s}=a;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[r,i],e instanceof Pc||e instanceof Rc||e instanceof Oc||e instanceof Mc||Ac&&e instanceof Ac?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{const{x:t,y:o}=n||{x:0,y:0};e instanceof Pc||e instanceof Rc||e instanceof Oc||e instanceof Mc||Ac&&e instanceof Ac?s.texSubImage2D(s.TEXTURE_2D,0,t,o,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,o,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)}bind(e,t,n){const{context:r}=this,{gl:i}=r;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function Dc(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class Lc extends tt{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new Us({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(e,t){let n=!0;return this._validateStretch(t.stretchX,t.data&&t.data.width)||(this.fire(new et(new Error(`Image "${e}" has invalid "stretchX" value`))),n=!1),this._validateStretch(t.stretchY,t.data&&t.data.height)||(this.fire(new et(new Error(`Image "${e}" has invalid "stretchY" value`))),n=!1),this._validateContent(t.content,t)||(this.fire(new et(new Error(`Image "${e}" has invalid "content" value`))),n=!1),n}_validateStretch(e,t){if(!e)return!0;let n=0;for(const r of e){if(r[0]<n||r[1]<r[0]||t<r[1])return!1;n=r[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(e,t){const n={};for(const t of e){this.images[t]||this.fire(new Je("styleimagemissing",{id:t}));const e=this.images[t];e?n[t]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:z(`Image "${t}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}t(null,n)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(e){const t=this.patterns[e],n=this.getImage(e);if(!n)return null;if(t&&t.position.version===n.version)return t.position;if(t)t.position.version=n.version;else{const t={w:n.data.width+2,h:n.data.height+2,x:0,y:0},r=new Xu(t,n);this.patterns[e]={bin:t,position:r}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Ic(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const t in this.patterns)e.push(this.patterns[t].bin);const{w:t,h:n}=Ku(e),r=this.atlasImage;r.resize({width:t||1,height:n||1});for(const e in this.patterns){const{bin:t}=this.patterns[e],n=t.x+1,i=t.y+1,o=this.images[e].data,a=o.width,s=o.height;Us.copy(o,r,{x:0,y:0},{x:n,y:i},{width:a,height:s}),Us.copy(o,r,{x:0,y:s-1},{x:n,y:i-1},{width:a,height:1}),Us.copy(o,r,{x:0,y:0},{x:n,y:i+s},{width:a,height:1}),Us.copy(o,r,{x:a-1,y:0},{x:n-1,y:i},{width:1,height:s}),Us.copy(o,r,{x:0,y:0},{x:n+a,y:i},{width:1,height:s})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];Dc(e)&&this.updateImage(t,e)}}}const zc=new no({anchor:new Yi(nt.light.anchor),position:new class{constructor(){this.specification=nt.light.position}possiblyEvaluate(e,t){return function([e,t,n]){const r=p(t+90),i=p(n);return{x:e*Math.cos(r)*Math.sin(i),y:e*Math.sin(r)*Math.sin(i),z:e*Math.cos(i),azimuthal:t,polar:n}}(e.expression.evaluate(t))}interpolate(e,t,n){return{x:bn(e.x,t.x,n),y:bn(e.y,t.y,n),z:bn(e.z,t.z,n),azimuthal:bn(e.azimuthal,t.azimuthal,n),polar:bn(e.polar,t.polar,n)}}},color:new Yi(nt.light.color),intensity:new Yi(nt.light.intensity)}),Nc="-transition";class Fc extends tt{constructor(e){super(),this._transitionable=new Hi(zc),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,t={}){if(!this._validate(ai,e,t))for(const t in e){const n=e[t];M(t,Nc)?this._transitionable.setTransition(t.slice(0,-Nc.length),n):this._transitionable.setValue(t,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,t,n){return(!n||!1!==n.validate)&&ui(this,e.call(oi,E({value:t,style:{glyphs:!0,sprite:!0},styleSpec:nt})))}}const Bc=new no({source:new Yi(nt.terrain.source),exaggeration:new Yi(nt.terrain.exaggeration)}),jc="-transition";class Vc extends tt{constructor(e){super(),this._transitionable=new Hi(Bc),this.set(e),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(e){for(const t in e){const n=e[t];M(t,jc)?this._transitionable.setTransition(t.slice(0,-jc.length),n):this._transitionable.setValue(t,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}class Uc{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}getDashRanges(e,t,n){const r=[];let i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;const l=e[t];i=s*n,s+=l,o=s*n,r.push({left:i,right:o,isDash:a,zeroLength:0===l})}return r}addRoundDash(e,t,n){const r=t/2;for(let t=-n;t<=n;t++){const i=this.width*(this.nextRow+n+t);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),u=Math.abs(s-a.right),c=Math.min(l,u);let d;const h=t/n*(r+1);if(a.isDash){const e=r-Math.abs(h);d=Math.sqrt(c*c+e*e)}else d=r-Math.sqrt(c*c+h*h);this.data[i+s]=Math.max(0,Math.min(255,d+128))}}}addRegularDash(e){for(let t=e.length-1;t>=0;--t){const n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}const t=e[0],n=e[e.length-1];t.isDash===n.isDash&&(t.left=n.left-this.width,n.right=t.right+this.width);const r=this.width*this.nextRow;let i=0,o=e[i];for(let t=0;t<this.width;t++){t/o.right>1&&(o=e[++i]);const n=Math.abs(t-o.left),a=Math.abs(t-o.right),s=Math.min(n,a);this.data[r+t]=Math.max(0,Math.min(255,(o.isDash?s:-s)+128))}}addDash(e,t){const n=t?7:0,r=2*n+1;if(this.nextRow+r>this.height)return z("LineAtlas out of space"),null;0===e.length&&e.push(1);let i=0;for(let t=0;t<e.length;t++)e[t]<0&&(z("Negative value is found in line dasharray, replacing values with 0"),e[t]=0),i+=e[t];if(0!==i){const r=this.width/i,o=this.getDashRanges(e,this.width,r);t?this.addRoundDash(o,r,n):this.addRegularDash(o)}const o={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:i};return this.nextRow+=r,this.dirty=!0,o}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}class Wc{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}class Gc{constructor(){this.tasks={},this.taskQueue=[],O(["process"],this),this.invoker=new Wc(this.process),this.nextId=0}add(e,t){const n=this.nextId++,r=function({type:e,isSymbolTile:t,zoom:n}){return n=n||0,"message"===e?0:"maybePrepare"!==e||t?"parseTile"!==e||t?"parseTile"===e&&t?300-n:"maybePrepare"===e&&t?400-n:500:200-n:100-n}(t);if(0===r){B();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[n]={fn:e,metadata:t,priority:r,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:()=>{delete this.tasks[n]}}}process(){B();try{if(this.taskQueue=this.taskQueue.filter(e=>!!this.tasks[e]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let n=0;n<this.taskQueue.length;n++){const r=this.tasks[this.taskQueue[n]];r.priority<t&&(t=r.priority,e=n)}if(null===e)return null;const n=this.taskQueue[e];return this.taskQueue.splice(e,1),n}remove(){this.invoker.remove()}}class Hc{constructor(e,t){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=C();const n=this.workerPool.acquire(this.id);for(let e=0;e<n.length;e++){const r=new Hc.Actor(n[e],t,this.id);r.name="Worker "+e,this.actors.push(r)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(e,t,n){w(this.actors,(n,r)=>{n.send(e,t,r)},n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(e=>{e.remove()}),this.actors=[],this.workerPool.release(this.id)}}function qc(e,t,n){return t*(Sa/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}Hc.Actor=class{constructor(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.cancelCallbacks={},O(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=B()?e:u,this.scheduler=new Gc}send(e,t,n,r,i=!1,o){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[a]=n);const s=H(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:yi(t,s)},s),{cancel:()=>{n&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:this.mapId})}}}receive(e){const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e.cancel()}else if(t.mustQueue||B()){const e=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add(()=>this.processTask(n,t),e&&e.metadata||{type:"message"})}else this.processTask(n,t)}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(vi(t.error)):n(null,vi(t.data)))}else{const n=H(this.globalScope)?void 0:[],r=t.hasCallback?(t,r)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?yi(t):null,data:yi(r,n)},n)}:e=>{},i=vi(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,i,r);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],i.source)[e[1]](i,r)}else r(new Error("Could not find function "+t.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}};class $c{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Kc?new Kc(e.lng,e.lat):Kc.convert(e),this}setSouthWest(e){return this._sw=e instanceof Kc?new Kc(e.lng,e.lat):Kc.convert(e),this}extend(e){const t=this._sw,n=this._ne;let r,i;if(e instanceof Kc)r=e,i=e;else{if(!(e instanceof $c))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend($c.convert(e)):this.extend(Kc.convert(e)):this;if(r=e._sw,i=e._ne,!r||!i)return this}return t||n?(t.lng=Math.min(r.lng,t.lng),t.lat=Math.min(r.lat,t.lat),n.lng=Math.max(i.lng,n.lng),n.lat=Math.max(i.lat,n.lat)):(this._sw=new Kc(r.lng,r.lat),this._ne=new Kc(i.lng,i.lat)),this}getCenter(){return new Kc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Kc(this.getWest(),this.getNorth())}getSouthEast(){return new Kc(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:n}=Kc.convert(e);let r=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&r}static convert(e){return!e||e instanceof $c?e:new $c(e)}}const Zc=6371008.8;class Kc{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Kc(x(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return Zc*Math.acos(Math.min(i,1))}toBounds(e=0){const t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new $c(new Kc(this.lng-n,this.lat-t),new Kc(this.lng+n,this.lat+t))}static convert(e){if(e instanceof Kc)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Kc(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Kc(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Xc=2*Math.PI*Zc;function Yc(e){return Xc*Math.cos(e*Math.PI/180)}function Qc(e){return(180+e)/360}function Jc(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function ed(e,t){return e/Yc(t)}function td(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function nd(e,t){return e*Yc(td(t))}class rd{constructor(e,t,n=0){this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){const n=Kc.convert(e);return new rd(Qc(n.lng),Jc(n.lat),ed(t,n.lat))}toLngLat(){return new Kc(360*this.x-180,td(this.y))}toAltitude(){return nd(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Xc*(e=td(this.y),1/Math.cos(e*Math.PI/180));var e}}class id{constructor(e,t,n,r){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=n,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(e=>r.pointCoordinate3D(e)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(e,t){let n,r;if(e instanceof s||"number"==typeof e[0]){const i=s.convert(e);n=[s.convert(e)],r=t.isPointAboveHorizon(i)}else{const i=s.convert(e[0]),o=s.convert(e[1]);n=[i,o],r=_(i,o).every(e=>t.isPointAboveHorizon(e))}return new id(n,t.getCameraPoint(),r,t)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(e){return _(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],e)}bufferedCameraGeometry(e){const t=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new s(1,1)):this.screenBounds[1],r=_(t,n,0,!1);return this.cameraPoint.y>n.y&&(this.cameraPoint.x>t.x&&this.cameraPoint.x<n.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=n.x?r[2]=this.cameraPoint:this.cameraPoint.x<=t.x&&(r[3]=this.cameraPoint)),function(e,t){const n=[];for(let r=0;r<e.length;r++){const i=x(r-1,-1,e.length-1),o=x(r+1,-1,e.length-1),a=e[r],s=e[o],l=e[i].sub(a).unit(),u=s.sub(a).unit(),c=u.angleWithSep(l.x,l.y),d=l.add(u).unit().mult(-1*t/Math.sin(c/2));n.push(a.add(d))}return n}(r,e)}containsTile(e,t,n){const r=e.queryPadding+1,i=n?this._bufferedCameraMercator(r,t).map(t=>e.tileID.getTilePoint(t)):this._bufferedScreenMercator(r,t).map(t=>e.tileID.getTilePoint(t)),o=this.screenGeometryMercator.map(t=>e.tileID.getTileVec3(t)),a=o.map(e=>new s(e[0],e[1])),l=t.getFreeCameraOptions().position||new rd(0,0,0),u=e.tileID.getTileVec3(l),c=o.map(e=>{const t=ws(e,e,u);return _s(t,t),new Os(u,t)}),d=qc(e,1,t.zoom);if(ja(i,0,0,Sa,Sa))return{queryGeometry:this,tilespaceGeometry:a,tilespaceRays:c,bufferedTilespaceGeometry:i,bufferedTilespaceBounds:(h=g(i),h.min.x=b(h.min.x,0,Sa),h.min.y=b(h.min.y,0,Sa),h.max.x=b(h.max.x,0,Sa),h.max.y=b(h.max.y,0,Sa),h),tile:e,tileID:e.tileID,pixelToTileUnitsFactor:d};var h}_bufferedScreenMercator(e,t){const n=od(e);if(this._screenRaycastCache[n])return this._screenRaycastCache[n];{const r=this.bufferedScreenGeometry(e).map(e=>t.pointCoordinate3D(e));return this._screenRaycastCache[n]=r,r}}_bufferedCameraMercator(e,t){const n=od(e);if(this._cameraRaycastCache[n])return this._cameraRaycastCache[n];{const r=this.bufferedCameraGeometry(e).map(e=>t.pointCoordinate3D(e));return this._cameraRaycastCache[n]=r,r}}}function od(e){return 100*e|0}function ad(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}class sd{constructor(e,t,n){this.z=e,this.x=t,this.y=n,this.key=cd(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const n=(i=this.y,o=this.z,a=ad(256*(r=this.x),256*(i=Math.pow(2,o)-i-1),o),s=ad(256*(r+1),256*(i+1),o),a[0]+","+a[1]+","+s[0]+","+s[1]);var r,i,o,a,s;const l=function(e,t,n){let r,i="";for(let o=e;o>0;o--)r=1<<o-1,i+=(t&r?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",n)}getTilePoint(e){const t=Math.pow(2,this.z);return new s((e.x*t-this.x)*Sa,(e.y*t-this.y)*Sa)}getTileVec3(e){const t=Math.pow(2,this.z);return hs((e.x*t-this.x)*Sa,(e.y*t-this.y)*Sa,nd(e.z,e.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class ld{constructor(e,t){this.wrap=e,this.canonical=t,this.key=cd(e,t.z,t.z,t.x,t.y)}}class ud{constructor(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new sd(n,+r,+i),this.key=0===t&&e===n?this.canonical.key:cd(t,e,n,r,i)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new ud(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ud(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return cd(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const n=this.canonical.z-e;return cd(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new ud(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new ud(t,this.wrap,t,n,r),new ud(t,this.wrap,t,n+1,r),new ud(t,this.wrap,t,n,r+1),new ud(t,this.wrap,t,n+1,r+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new ud(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new ud(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new ld(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new rd(e.x-this.wrap,e.y))}getTileVec3(e){return this.canonical.getTileVec3(new rd(e.x-this.wrap,e.y,e.z))}}function cd(e,t,n,r,i){const o=1<<Math.min(n,22);let a=o*(i%o)+r%o;return e&&n<22&&(a+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-n)))),16*(32*a+n)+(t-n)}function dd(e,t,n){const r=function(r,i){if(r)return n(r);if(i){const r=T(E(i,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(r.vectorLayers=i.vector_layers,r.vectorLayerIds=r.vectorLayers.map(e=>e.id)),r.tiles=t.canonicalizeTileset(r,e.url),n(null,r)}};return e.url?Ue(t.transformRequest(t.normalizeSourceURL(e.url),Fe.Source),r):$.frame(()=>r(null,e))}mi("CanonicalTileID",sd),mi("OverscaledTileID",ud,{omit:["posMatrix"]});class hd{constructor(e,t,n){this.bounds=$c.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const t=Math.pow(2,e.z),n=Math.floor(Qc(this.bounds.getWest())*t),r=Math.floor(Jc(this.bounds.getNorth())*t),i=Math.ceil(Qc(this.bounds.getEast())*t),o=Math.ceil(Jc(this.bounds.getSouth())*t);return e.x>=n&&e.x<i&&e.y>=r&&e.y<o}}class fd{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}class pd{constructor(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}var md=so([{name:"a_pos",type:"Int16",components:2}]);class gd{constructor(e,t,n){this.tileID=e,this.uid=C(),this.uses=0,this.tileSize=t,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const t=e+this.timeAdded;t<$.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const r of e){const e=r.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length){r.layers=e,r.stateDependentLayerIds&&(r.stateDependentLayers=r.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0]));for(const t of e)n[t.id]=r}}return n}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof gc){if(this.hasSymbolBuckets=!0,!n)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof gc&&t.hasRTLText){this.hasRTLText=!0,Vi.isLoading()||Vi.isLoaded()||"deferred"!==Bi()||ji();break}}this.queryPadding=0;for(const e in this.buckets){const n=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(n))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Ao}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const n=this.buckets[t];n.uploadPending()&&n.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ic(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ic(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,r,i,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:r,pixelPosMatrix:a,transform:o,params:i},e,t,n):{}}querySourceFeatures(e,t){const n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;const r=n.loadVTLayers(),i=t?t.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(!o)return;const a=Lr(t&&t.filter),{z:s,x:l,y:u}=this.tileID.canonical,c={z:s,x:l,y:u};for(let t=0;t<o.length;t++){const r=o.feature(t);if(a.needGeometry){const e=Ca(r,!0);if(!a.filter(new Ui(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new Ui(this.tileID.overscaledZ),r))continue;const d=n.getId(r,i),h=new pd(r,s,l,u,d);h.tile=c,e.push(h)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=j(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let n=!1;if(this.expirationTime>e)n=!1;else if(t)if(this.expirationTime<t)n=!0;else{const r=this.expirationTime-t;r?this.expirationTime=e+Math.max(r,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const n=this.latestFeatureIndex.loadVTLayers();for(const r in this.buckets){if(!t.style.hasLayer(r))continue;const i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];if(!a||!s||0===Object.keys(s).length)continue;i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<$.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=$.now()+e}setDependencies(e,t){const n={};for(const e of t)n[e]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}clearQueryDebugViz(){}}class _d{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,n){const r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},E(this.stateChanges[e][r],n),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==r&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][r]){this.deletedStates[e][r]={};for(const t in this.state[e][r])n[t]||(this.deletedStates[e][r][t]=null)}else for(const t in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][t]&&delete this.deletedStates[e][r][t]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}getState(e,t){const n=String(t),r=E({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const n=this.deletedStates[e][t];if(null===n)return{};for(const e in n)delete r[e]}return r}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const n={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const t={};for(const n in this.stateChanges[e])this.state[e][n]||(this.state[e][n]={}),E(this.state[e][n],this.stateChanges[e][n]),t[n]=this.state[e][n];n[e]=t}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const t={};if(null===this.deletedStates[e])for(const n in this.state[e])t[n]={},this.state[e][n]={};else for(const n in this.deletedStates[e]){if(null===this.deletedStates[e][n])this.state[e][n]={};else for(const t of Object.keys(this.deletedStates[e][n]))delete this.state[e][n][t];t[n]=this.state[e][n]}n[e]=n[e]||{},E(n[e],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const r in e)e[r].setFeatureState(n,t)}}class yd{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const n=this.toIdx(e,t);return{min:this.minimums[n],max:this.maximums[n]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function vd(e,t,n,r){let i=0,o=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(r[a])<1e-15){if(n[a]<e[a]||n[a]>t[a])return null}else{const s=1/r[a];let l=(e[a]-n[a])*s,u=(t[a]-n[a])*s;if(l>u){const e=l;l=u,u=e}if(l>i&&(i=l),u<o&&(o=u),i>o)return null}return i}function bd(e,t,n,r,i,o,a,s,l,u,c){const d=r-e,h=i-t,f=o-n,p=a-e,m=s-t,g=l-n,_=c[1]*g-c[2]*m,y=c[2]*p-c[0]*g,v=c[0]*m-c[1]*p,b=d*_+h*y+f*v;if(Math.abs(b)<1e-15)return null;const x=1/b,w=u[0]-e,S=u[1]-t,E=u[2]-n,T=(w*_+S*y+E*v)*x;if(T<0||T>1)return null;const k=S*f-E*h,C=E*d-w*f,P=w*h-S*d,R=(c[0]*k+c[1]*C+c[2]*P)*x;return R<0||T+R>1?null:(p*k+m*C+g*P)*x}function xd(e,t,n){return(e-t)/(n-t)}function wd(e,t,n,r,i,o,a,s,l){const u=1<<n,c=o-r,d=a-i,h=(e+1)/u*c+r,f=(t+0)/u*d+i,p=(t+1)/u*d+i;s[0]=(e+0)/u*c+r,s[1]=f,l[0]=h,l[1]=p}class Sd{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),n=[];let r=Math.ceil(Math.pow(2,t));const i=1/r,o=(e,t,n,r,i)=>{const o=r?1:0,a=(e+1)*n-o,s=t*n,l=(t+1)*n-o;i[0]=e*n,i[1]=s,i[2]=a,i[3]=l};let a=new yd(r);const s=[];for(let t=0;t<r*r;t++){o(t%r,Math.floor(t/r),i,!1,s);const n=Td(s[0],s[1],e),l=Td(s[2],s[1],e),u=Td(s[2],s[3],e),c=Td(s[0],s[3],e);a.minimums.push(Math.min(n,l,u,c)),a.maximums.push(Math.max(n,l,u,c)),a.leaves.push(1)}for(n.push(a),r/=2;r>=1;r/=2){const e=n[n.length-1];a=new yd(r);for(let t=0;t<r*r;t++){o(t%r,Math.floor(t/r),2,!0,s);const n=e.getElevation(s[0],s[1]),i=e.getElevation(s[2],s[1]),l=e.getElevation(s[2],s[3]),u=e.getElevation(s[0],s[3]),c=e.isLeaf(s[0],s[1]),d=e.isLeaf(s[2],s[1]),h=e.isLeaf(s[2],s[3]),f=e.isLeaf(s[0],s[3]),p=Math.min(n.min,i.min,l.min,u.min),m=Math.max(n.max,i.max,l.max,u.max),g=c&&d&&h&&f;a.maximums.push(m),a.minimums.push(p),a.leaves.push(m-p<=5&&g?1:0)}n.push(a)}return n}(this.dem),n=t.length-1,r=t[n];this._addNode(r.minimums[0],r.maximums[0],r.leaves[0]),this._construct(t,0,0,n,0)}raycastRoot(e,t,n,r,i,o,a=1){return vd([e,t,-100],[n,r,this.maximums[0]*a],i,o)}raycast(e,t,n,r,i,o,a=1){if(!this.nodeCount)return null;const s=this.raycastRoot(e,t,n,r,i,o,a);if(null==s)return null;const l=[],u=[],c=[],d=[],h=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];for(;h.length>0;){const{idx:s,t:f,nodex:p,nodey:m,depth:g}=h.pop();if(this.leaves[s]){wd(p,m,g,e,t,n,r,c,d);const s=1<<g,l=(p+0)/s,u=(p+1)/s,h=(m+0)/s,_=(m+1)/s,y=Td(l,h,this.dem)*a,v=Td(u,h,this.dem)*a,b=Td(u,_,this.dem)*a,x=Td(l,_,this.dem)*a,w=bd(c[0],c[1],y,d[0],c[1],v,d[0],d[1],b,i,o),S=bd(d[0],d[1],b,c[0],d[1],x,c[0],c[1],y,i,o),E=Math.min(null!==w?w:Number.MAX_VALUE,null!==S?S:Number.MAX_VALUE);if(E!==Number.MAX_VALUE)return E;{const e=gs([],i,o,f);if(Ed(y,v,x,b,xd(e[0],c[0],d[0]),xd(e[1],c[1],d[1]))>=e[2])return f}continue}let _=0;for(let h=0;h<this._siblingOffset.length;h++){wd((p<<1)+this._siblingOffset[h][0],(m<<1)+this._siblingOffset[h][1],g+1,e,t,n,r,c,d),c[2]=-100,d[2]=this.maximums[this.childOffsets[s]+h]*a;const f=vd(c,d,i,o);if(null!=f){const e=f;l[h]=e;let t=!1;for(let n=0;n<_&&!t;n++)e>=l[u[n]]&&(u.splice(n,0,h),t=!0);t||(u[_]=h),_++}}for(let e=0;e<_;e++){const t=u[e];h.push({idx:this.childOffsets[s]+t,t:l[t],nodex:(p<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:g+1})}}return null}_addNode(e,t,n){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,n,r,i){if(1===e[r].isLeaf(t,n))return;this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);const o=r-1,a=e[o];let s,l=0;for(let e=0;e<this._siblingOffset.length;e++){const r=2*t+this._siblingOffset[e][0],i=2*n+this._siblingOffset[e][1],o=a.getElevation(r,i),u=a.isLeaf(r,i),c=this._addNode(o.min,o.max,u);u&&(l|=1<<e),s||(s=c)}for(let r=0;r<this._siblingOffset.length;r++)l&1<<r||this._construct(e,2*t+this._siblingOffset[r][0],2*n+this._siblingOffset[r][1],o,s+r)}}function Ed(e,t,n,r,i,o){return bn(bn(e,n,o),bn(t,r,o),i)}function Td(e,t,n){const r=n.dim,i=b(e*r-.5,0,r-1),o=b(t*r-.5,0,r-1),a=Math.floor(i),s=Math.floor(o),l=Math.min(a+1,r-1),u=Math.min(s+1,r-1);return Ed(n.get(a,s),n.get(l,s),n.get(a,u),n.get(l,u),i-a,o-s)}const kd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Cd{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,n,r=!1,i=!1){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return z(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const o=this.dim=t.height-2;if(this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox",this.borderReady=r,!r){for(let e=0;e<o;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(o,e)]=this.data[this._idx(o-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,o)]=this.data[this._idx(e,o-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(o,-1)]=this.data[this._idx(o-1,0)],this.data[this._idx(-1,o)]=this.data[this._idx(0,o-1)],this.data[this._idx(o,o)]=this.data[this._idx(o-1,o-1)],i&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Sd(this)}get(e,t,n=!1){const r=new Uint8Array(this.data.buffer);n&&(e=b(e,-1,this.dim),t=b(t,-1,this.dim));const i=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[i],r[i+1],r[i+2])}static getUnpackVector(e){return kd[e]}get unpackVector(){return kd[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,n){return(256*e*256+256*t+n)/10-1e4}_unpackTerrarium(e,t,n){return 256*e+t+n/256-32768}static pack(e,t){const n=[0,0,0,0],r=Cd.getUnpackVector(t);let i=Math.floor((e+r[3])/r[2]);return n[2]=i%256,i=Math.floor(i/256),n[1]=i%256,i=Math.floor(i/256),n[0]=i,n}getPixels(){return new Us({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-n*this.dim;for(let t=o;t<a;t++)for(let n=r;n<i;n++)this.data[this._idx(n,t)]=e.data[this._idx(n+s,t+l)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}mi("DEMData",Cd),mi("DemMinMaxQuadTree",Sd,{omit:["dem"]});class Pd{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);const i={value:t,timeout:void 0};if(void 0!==n&&(i.timeout=setTimeout(()=>{this.remove(e,i)},n)),this.data[r].push(i),this.order.push(r),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const r of this.data[n])e(r.value)||t.push(r);for(const e of t)this.remove(e.value.tileID,e)}}class Rd{constructor(e,t,n){this.context=e;const r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Od={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Md{constructor(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;const i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}setVertexAttribPointers(e,t,n){for(let r=0;r<this.attributes.length;r++){const i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[Od[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ad{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Id extends Ad{getDefault(){return Pt.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Dd extends Ad{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Ld extends Ad{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class zd extends Ad{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Nd extends Ad{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Fd extends Ad{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Bd extends Ad{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class jd extends Ad{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Vd extends Ad{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Ud extends Ad{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class Wd extends Ad{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class Gd extends Ad{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Hd extends Ad{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class qd extends Ad{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class $d extends Ad{getDefault(){return Pt.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Zd extends Ad{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class Kd extends Ad{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class Xd extends Ad{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class Yd extends Ad{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class Qd extends Ad{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class Jd extends Ad{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class eh extends Ad{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class th extends Ad{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class nh extends Ad{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class rh extends Ad{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class ih extends Ad{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class oh extends Ad{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ah extends Ad{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class sh extends Ad{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class lh extends Ad{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class uh extends Ad{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class ch extends Ad{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class dh extends ch{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class hh extends ch{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class fh extends hh{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ph{constructor(e,t,n,r){this.context=e,this.width=t,this.height=n;const i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new dh(e,i),r&&(this.depthAttachment=new hh(e,i))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class mh{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}mh.ReadOnly=!1,mh.ReadWrite=!0,mh.disabled=new mh(519,mh.ReadOnly,[0,1]);class gh{constructor(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o}}gh.disabled=new gh({func:519,mask:0},0,0,7680,7680,7680);class _h{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}_h.Replace=[1,0],_h.disabled=new _h(_h.Replace,Pt.transparent,[!1,!1,!1,!1]),_h.unblended=new _h(_h.Replace,Pt.transparent,[!0,!0,!0,!0]),_h.alphaBlended=new _h([1,771],Pt.transparent,[!0,!0,!0,!0]);class yh{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}yh.disabled=new yh(!1,1029,2305),yh.backCCW=new yh(!0,1029,2305),yh.backCW=new yh(!0,1029,2304),yh.frontCW=new yh(!0,1028,2304),yh.frontCCW=new yh(!0,1028,2305);class vh{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Id(this),this.clearDepth=new Dd(this),this.clearStencil=new Ld(this),this.colorMask=new zd(this),this.depthMask=new Nd(this),this.stencilMask=new Fd(this),this.stencilFunc=new Bd(this),this.stencilOp=new jd(this),this.stencilTest=new Vd(this),this.depthRange=new Ud(this),this.depthTest=new Wd(this),this.depthFunc=new Gd(this),this.blend=new Hd(this),this.blendFunc=new qd(this),this.blendColor=new $d(this),this.blendEquation=new Zd(this),this.cullFace=new Kd(this),this.cullFaceSide=new Xd(this),this.frontFace=new Yd(this),this.program=new Qd(this),this.activeTexture=new Jd(this),this.viewport=new eh(this),this.bindFramebuffer=new th(this),this.bindRenderbuffer=new nh(this),this.bindTexture=new rh(this),this.bindVertexBuffer=new ih(this),this.bindElementBuffer=new oh(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ah(this),this.pixelStoreUnpack=new sh(this),this.pixelStoreUnpackPremultiplyAlpha=new lh(this),this.pixelStoreUnpackFlipY=new uh(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new Rd(this,e,t)}createVertexBuffer(e,t,n){return new Md(this,e,t,n)}createRenderbuffer(e,t,n){const r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,n){return new ph(this,e,t,n)}clear({color:e,depth:t,stencil:n}){const r=this.gl;let i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==n&&(i|=r.STENCIL_BUFFER_BIT,this.clearStencil.set(n),this.stencilMask.set(255)),r.clear(i)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){c(e.blendFunction,_h.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class bh extends tt{constructor(e,t,n){super(),this.id=e,this._onlySymbols=n,t.on("data",e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),t.on("error",()=>{this._sourceErrored=!0}),this._source=t,this._tiles={},this._cache=new Pd(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new _d}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return S(this._tiles).map(e=>e.tileID).sort(xh).map(e=>e.key)}getRenderableIds(e){const t=[];for(const n in this._tiles)this._isIdRenderable(+n,e)&&t.push(this._tiles[n]);return e?t.sort((e,t)=>{const n=e.tileID,r=t.tileID,i=new s(n.canonical.x,n.canonical.y)._rotate(this.transform.angle),o=new s(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return n.overscaledZ-r.overscaledZ||o.y-i.y||o.x-i.x}).map(e=>e.tileID.key):t.map(e=>e.tileID).sort(xh).map(e=>e.key)}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(e,t,n,r){if(r)return e.state="errored",void(404!==r.status?this._source.fire(new et(r,{tile:e})):this.update(this.transform));e.timeAdded=$.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Je("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let r=0;r<t.length;r++){const i=t[r];if(e.neighboringTiles&&e.neighboringTiles[i]){const t=this.getTileByID(i);n(e,t),n(t,e)}}function n(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,r){for(const i in this._tiles){let o=this._tiles[i];if(r[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){r[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),r=this._getLoadedTile(t);if(r)return r}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const n=Math.ceil(e.width/t)+1,r=Math.ceil(e.height/t)+1,i=Math.floor(n*r*5),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(o)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const r=this._tiles[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),e[r.tileID.key]=r}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e])}}update(e,t,n){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!n)return;let r;this.updateCacheSize(e,t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?r=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new ud(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(r=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,useElevationData:!!this.transform.elevation&&!this.usedForTerrain}),this._source.hasTile&&(r=r.filter(e=>this._source.hasTile(e)))):r=[];const i=this._updateRetainedTiles(r);if(wh(this._source.type)&&0!==r.length){const e={},t={},n=Object.keys(i);for(const r of n){const n=i[r],o=this._tiles[r];if(!o||o.fadeEndTime&&o.fadeEndTime<=$.now())continue;const a=this.findLoadedParent(n,Math.max(n.overscaledZ-bh.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),e[a.tileID.key]=a.tileID),t[r]=n}const o=r[r.length-1].overscaledZ;for(const e in this._tiles){const n=this._tiles[e];if(i[e]||!n.hasData())continue;let r=n.tileID;for(;r.overscaledZ>o;){r=r.scaledTo(r.overscaledZ-1);const o=this._tiles[r.key];if(o&&o.hasData()&&t[r.key]){i[e]=n.tileID;break}}}for(const t in e)i[t]||(this._coveredTiles[t]=!0,i[t]=e[t])}for(const e in i)this._tiles[e].clearFadeHold();const o=function(e,t){const n=[];for(const r in e)r in t||n.push(r);return n}(this._tiles,i);for(const e of o){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const n={},r=e[e.length-1].overscaledZ,i=e[0].overscaledZ,o=Math.max(i-bh.maxOverzooming,this._source.minzoom),a=Math.max(i+bh.maxUnderzooming,this._source.minzoom),s={};for(const n of e){const e=this._addTile(n);t[n.key]=n,e.hasData()||r<this._source.maxzoom&&(s[n.key]=n)}this._retainLoadedChildren(s,r,a,t);for(const r of e){let e=this._tiles[r.key];if(e.hasData())continue;if(r.canonical.z>=this._source.maxzoom){const e=r.children(this._source.maxzoom)[0],n=this.getTile(e);if(n&&n.hasData()){t[e.key]=e;continue}}else{const e=r.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let i=e.wasRequested();for(let a=r.overscaledZ-1;a>=o;--a){const o=r.scaledTo(a);if(n[o.key])break;if(n[o.key]=!0,e=this.getTile(o),!e&&i&&(e=this._addTile(o)),e&&(t[o.key]=o,i=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,r=this._tiles[e].tileID;for(;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);const e=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;r=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const n=Boolean(t);return n||(t=new gd(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))),t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire(new Je("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._cache.reset()}tilesIn(e,t,n){const r=[],i=this.transform;if(!i)return r;for(const o in this._tiles){const a=this._tiles[o];if(n&&a.clearQueryDebugViz(),a.holdingForFade())continue;const s=e.containsTile(a,i,t);s&&r.push(s)}return r}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map(e=>this._tiles[e].tileID);for(const e of t)e.posMatrix=this.transform.calculatePosMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(wh(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=$.now())return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const r=this._tiles[e];r&&r.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(+n,"reloading");this._cache.filter(n=>!n.hasDependency(e,t))}}function xh(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function wh(e){return"raster"===e||"image"===e||"video"===e}bh.maxOverzooming=10,bh.maxUnderzooming=3;class Sh{constructor(e,t,n){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=n}static create(e,t,n){const r=n||e.findDEMTileFor(t);if(!r||!r.dem)return;const i=r.dem,o=r.tileID,a=1<<t.canonical.z-o.canonical.z;return new Sh(r,r.tileSize/Sa/a,[(t.canonical.x/a-o.canonical.x)*i.dim,(t.canonical.y/a-o.canonical.y)*i.dim])}tileCoordToPixel(e,t){const n=t*this._scale+this._offset[1],r=Math.floor(e*this._scale+this._offset[0]),i=Math.floor(n);return new s(r,i)}getElevationAt(e,t,n,r){const i=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],a=Math.floor(i),s=Math.floor(o),l=this._dem;return r=!!r,n?bn(bn(l.get(a,s,r),l.get(a,s+1,r),o-s),bn(l.get(a+1,s,r),l.get(a+1,s+1,r),o-s),i-a):l.get(a,s,r)}getElevationAtPixel(e,t,n){return this._dem.get(e,t,!!n)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*ed(1,e)*this._dem.stride}}function Eh(e,t,n,r,i){return A(e,(e,o)=>{const a=t instanceof Xi?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a})}function Th(e,t){return t-e}mi("FeatureIndex",class{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new ci(Sa,16,0),this.featureIndexArray=new jo,this.promoteId=t}insert(e,t,n,r,i,o=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i,o);const s=this.grid;for(let e=0;e<t.length;e++){const n=t[e],r=[1/0,1/0,-1/0,-1/0];for(let e=0;e<n.length;e++){const t=n[e];r[0]=Math.min(r[0],t.x),r[1]=Math.min(r[1],t.y),r[2]=Math.max(r[2],t.x),r[3]=Math.max(r[3],t.y)}r[0]<Sa&&r[1]<Sa&&r[2]>=0&&r[3]>=0&&s.insert(a,r[0],r[1],r[2],r[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Wl.VectorTile(new ku(this.rawTileData)).layers,this.sourceLayerCoder=new fd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,n,r){this.loadVTLayers();const i=e.params||{},o=Lr(i.filter),a=e.tileResult,s=e.transform,l=a.bufferedTilespaceBounds,u=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,(e,t,n,r)=>ja(a.bufferedTilespaceGeometry,e,t,n,r));u.sort(Th);let c=null;s.elevation&&u.length>0&&(c=Sh.create(s.elevation,this.tileID));const d={};let h;for(let s=0;s<u.length;s++){const l=u[s];if(l===h)continue;h=l;const f=this.featureIndexArray.get(l);let p=null;this.loadMatchingFeature(d,f,o,i.layers,i.availableImages,t,n,r,(t,n,r,i=0)=>(p||(p=ka(t)),n.queryIntersectsFeature(a,t,r,p,this.z,e.transform,e.pixelPosMatrix,c,i)))}return d}loadMatchingFeature(e,t,n,r,i,o,a,s,l){const{featureIndex:u,bucketIndex:c,sourceLayerIndex:d,layoutVertexArrayOffset:h}=t,f=this.bucketLayerIDs[c];if(r&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(r,f))return;const p=this.sourceLayerCoder.decode(d),m=this.vtLayers[p].feature(u);if(n.needGeometry){const e=Ca(m,!0);if(!n.filter(new Ui(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!n.filter(new Ui(this.tileID.overscaledZ),m))return;const g=this.getId(m,p);for(let t=0;t<f.length;t++){const n=f[t];if(r&&r.indexOf(n)<0)continue;const c=o[n];if(!c)continue;let d={};void 0!==g&&s&&(d=s.getState(c.sourceLayer||"_geojsonTileLayer",g));const p=E({},a[n]);p.paint=Eh(p.paint,c.paint,m,d,i),p.layout=Eh(p.layout,c.layout,m,d,i);const _=!l||l(m,c,d,h);if(!_)continue;const y=new pd(m,this.z,this.x,this.y,g);y.layer=p;let v=e[n];void 0===v&&(v=e[n]=[]),v.push({featureIndex:u,feature:y,intersectionZ:_})}}lookupSymbolFeatures(e,t,n,r,i,o,a,s){const l={};this.loadVTLayers();const u=Lr(i);for(const i of e)this.loadMatchingFeature(l,{bucketIndex:n,sourceLayerIndex:r,featureIndex:i,layoutVertexArrayOffset:0},u,o,a,s,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;return this.promoteId&&(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof n&&(n=Number(n))),n}},{omit:["rawTileData","sourceLayerCoder"]}),mi("GlyphAtlas",class{constructor(e){const t={},n=[];for(const r in e){const i=e[r],o=t[r]={};for(const e in i){const t=i[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const r=t.metrics.localGlyph?2:1,a={x:0,y:0,w:t.bitmap.width+2*r,h:t.bitmap.height+2*r};n.push(a),o[e]={rect:a,metrics:t.metrics}}}const{w:r,h:i}=Ku(n),o=new Vs({width:r||1,height:i||1});for(const n in e){const r=e[n];for(const e in r){const i=r[+e];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const a=t[n][e].rect,s=i.metrics.localGlyph?2:1;Vs.copy(i.bitmap,o,{x:0,y:0},{x:a.x+s,y:a.y+s},i.bitmap)}}this.image=o,this.positions=t}});class kh{constructor(e){this.entries={},this.scheduler=e}request(e,t,n,r){const i=this.entries[e]=this.entries[e]||{callbacks:[]};if(i.result){const[e,n]=i.result;return this.scheduler?this.scheduler.add(()=>{r(e,n)},t):r(e,n),()=>{}}return i.callbacks.push(r),i.cancel||(i.cancel=n((n,r)=>{i.result=[n,r];for(const e of i.callbacks)this.scheduler?this.scheduler.add(()=>{e(n,r)},t):e(n,r);setTimeout(()=>delete this.entries[e],3e3)})),()=>{i.result||(i.callbacks=i.callbacks.filter(e=>e!==r),i.callbacks.length||(i.cancel(),delete this.entries[e]))}}}function Ch(e,t,n){const r=JSON.stringify(e.request);return e.data&&(this.deduped.entries[r]={result:[null,e.data]}),this.deduped.request(r,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},t=>{const r=We(e.request,(e,r,i,o)=>{e?t(e):r&&t(null,{vectorTile:n?void 0:new Wl.VectorTile(new ku(r)),rawData:r,cacheControl:i,expires:o})});return()=>{r.cancel(),t()}},t)}class Ph extends tt{constructor(e,t,n,r){super(),this.id=e,this.dispatcher=n,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=E({type:"raster"},t),E(this,T(t,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new Je("dataloading",{dataType:"source"})),this._tileJSONRequest=dd(this._options,this.map._requestManager,(e,t)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new et(e)):t&&(E(this,t),t.bounds&&(this.tileBounds=new hd(t.bounds,this.minzoom,this.maxzoom)),be(t.tiles),this.fire(new Je("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new Je("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return E({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e,t){const n=$.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),n,this.tileSize);e.request=Xe(this.map._requestManager.transformRequest(r,Fe.Tile),(n,r)=>{if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(n)e.state="errored",t(n);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;const n=this.map.painter.context,i=n.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new Ic(n,r,i.RGBA,{useMipmap:!0}),e.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),e.state="loaded",ze(this.dispatcher),t(null)}})}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}var Rh=so([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Oh extends tt{constructor(e,t,n,r){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=t}load(e,t){this._loaded=!1,this.fire(new Je("dataloading",{dataType:"source"})),this.url=this.options.url,Xe(this.map._requestManager.transformRequest(this.url,Fe.Image),(n,r)=>{this._loaded=!0,n?this.fire(new et(n)):r&&(this.image=r,e&&(this.coordinates=e),t&&t(),this._finishLoading())})}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Je("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}setCoordinates(e){this.coordinates=e;const t=e.map(rd.fromLngLat);this.tileID=function(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);const o=Math.max(r-t,i-n),a=Math.max(0,Math.floor(-Math.log(o)/Math.LN2)),s=Math.pow(2,a);return new sd(a,Math.floor((t+r)/2*s),Math.floor((n+i)/2*s))}(t),this.minzoom=this.maxzoom=this.tileID.z;const n=t.map(e=>this.tileID.getTilePoint(e)._round());return this._boundsArray=new co,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,Sa,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,Sa),this._boundsArray.emplaceBack(n[2].x,n[2].y,Sa,Sa),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new Je("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const e=this.map.painter.context,t=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,Rh.members)),this.boundsSegments||(this.boundsSegments=wa.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Ic(e,this.image,t.RGBA),this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Mh={vector:class extends tt{constructor(e,t,n,r){if(super(),this.id=e,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,E(this,T(t,["url","scheme","tileSize","promoteId"])),this._options=E({type:"vector"},t),this._collectResourceTiming=t.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new kh}load(){this._loaded=!1,this.fire(new Je("dataloading",{dataType:"source"})),this._tileJSONRequest=dd(this._options,this.map._requestManager,(e,t)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new et(e)):t&&(E(this,t),t.bounds&&(this.tileBounds=new hd(t.bounds,this.minzoom,this.maxzoom)),be(t.tiles,this.map._requestManager._customAccessToken),this.fire(new Je("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new Je("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e();const t=this.map.style._getSourceCaches(this.id);for(const e of t)e.clearTiles();this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return E({},this._options)}loadTile(e,t){const n=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(n,Fe.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:$.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:e.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state)"loading"===e.state?e.reloadCallback=t:e.request=e.actor.send("reloadTile",r,i.bind(this));else if(e.actor=this._tileWorkers[n]=this._tileWorkers[n]||this.dispatcher.getActor(),this.dispatcher.ready)e.request=e.actor.send("loadTile",r,i.bind(this),void 0,!0);else{const t=Ch.call({deduped:this._deduped},r,(t,n)=>{t||!n?i.call(this,t):(r.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},e.actor&&e.actor.send("loadTile",r,i.bind(this),void 0,!0))},!0);e.request={cancel:t}}function i(n,r){return delete e.request,e.aborted?t(null):n&&404!==n.status?t(n):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),ze(this.dispatcher),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:Ph,"raster-dem":class extends Ph{constructor(e,t,n,r){super(e,t,n,r),this.type="raster-dem",this.maxzoom=22,this._options=E({type:"raster-dem"},t),this.encoding=t.encoding||"mapbox"}loadTile(e,t){const n=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(n,r){n&&(e.state="errored",t(n)),r&&(e.dem=r,e.dem.onDeserialize(),e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0,e.state="loaded",t(null))}e.request=Xe(this.map._requestManager.transformRequest(n,Fe.Tile),function(n,i){if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(n)e.state="errored",t(n);else if(i){this.map._refreshExpiredTiles&&e.setExpiryData(i),delete i.cacheControl,delete i.expires;const t=u.ImageBitmap&&i instanceof u.ImageBitmap&&Ne(),n=1-(i.width-((o=i.width)<=1?1:Math.pow(2,Math.floor(Math.log(o)/Math.LN2))))/2;n<1||e.neighboringTiles||(e.neighboringTiles=this._getNeighboringTiles(e.tileID));const a=t?i:$.getImageData(i,n),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding,padding:n};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,r.bind(this),void 0,!0))}var o}.bind(this))}_getNeighboringTiles(e){const t=e.canonical,n=Math.pow(2,t.z),r=(t.x-1+n)%n,i=0===t.x?e.wrap-1:e.wrap,o=(t.x+1+n)%n,a=t.x+1===n?e.wrap+1:e.wrap,s={};return s[new ud(e.overscaledZ,i,t.z,r,t.y).key]={backfilled:!1},s[new ud(e.overscaledZ,a,t.z,o,t.y).key]={backfilled:!1},t.y>0&&(s[new ud(e.overscaledZ,i,t.z,r,t.y-1).key]={backfilled:!1},s[new ud(e.overscaledZ,e.wrap,t.z,t.x,t.y-1).key]={backfilled:!1},s[new ud(e.overscaledZ,a,t.z,o,t.y-1).key]={backfilled:!1}),t.y+1<n&&(s[new ud(e.overscaledZ,i,t.z,r,t.y+1).key]={backfilled:!1},s[new ud(e.overscaledZ,e.wrap,t.z,t.x,t.y+1).key]={backfilled:!1},s[new ud(e.overscaledZ,a,t.z,o,t.y+1).key]={backfilled:!1}),s}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends tt{constructor(e,t,n,r){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=n.getActor(),this.setEventedParent(r),this._data=t.data,this._options=E({},t),this._collectResourceTiming=t.collectResourceTiming,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom),t.type&&(this.type=t.type),t.attribution&&(this.attribution=t.attribution),this.promoteId=t.promoteId;const i=Sa/this.tileSize;this.workerOptions=E({source:this.id,cluster:t.cluster||!1,geojsonVtOptions:{buffer:(void 0!==t.buffer?t.buffer:128)*i,tolerance:(void 0!==t.tolerance?t.tolerance:.375)*i,extent:Sa,maxZoom:this.maxzoom,lineMetrics:t.lineMetrics||!1,generateId:t.generateId||!1},superclusterOptions:{maxZoom:void 0!==t.clusterMaxZoom?t.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,t.clusterMinPoints||2),extent:Sa,radius:(void 0!==t.clusterRadius?t.clusterRadius:50)*i,log:!1,generateId:t.generateId||!1},clusterProperties:t.clusterProperties,filter:t.filter},t.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new Je("dataloading",{dataType:"source"})),this._loaded=!1;const e=E({},this.workerOptions),t=this._data;"string"==typeof t?(e.request=this.map._requestManager.transformRequest($.resolveURL(t),Fe.Source),e.request.collectResourceTiming=this._collectResourceTiming):e.data=JSON.stringify(t),this._pendingLoad=this.actor.send(this.type+".loadData",e,(e,t)=>{if(this._loaded=!0,this._pendingLoad=null,e)this.fire(new et(e));else{const e={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&t&&t.resourceTiming&&t.resourceTiming[this.id]&&(e.resourceTiming=t.resourceTiming[this.id]),this.fire(new Je("data",e)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(e,t){const n=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(n,{type:this.type,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:$.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(r,i)=>(delete e.request,e.unloadVectorData(),e.aborted?t(null):r?t(r):(e.loadVectorData(i,this.map.painter,"reloadTile"===n),t(null))),void 0,"loadTile"===n)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return E({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Oh{constructor(e,t,n,r){super(e,t,n,r),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const e=this.options;this.urls=[];for(const t of e.urls)this.urls.push(this.map._requestManager.transformRequest(t,Fe.Source).url);!function(e,t){const n=u.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(let t=0;t<e.length;t++){const r=u.document.createElement("source");qe(e[t])||(n.crossOrigin="Anonymous"),r.src=e[t],n.appendChild(r)}}(this.urls,(e,t)=>{this._loaded=!0,e?this.fire(new et(e)):t&&(this.video=t,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const t=this.video.seekable;e<t.start(0)||e>t.end(0)?this.fire(new et(new rt("sources."+this.id,null,`Playback for this video can be set only between the ${t.start(0)} and ${t.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,t=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,Rh.members)),this.boundsSegments||(this.boundsSegments=wa.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this.texture=new Ic(e,this.video,t.RGBA),this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Oh,canvas:class extends Oh{constructor(e,t,n,r){super(e,t,n,r),t.coordinates?Array.isArray(t.coordinates)&&4===t.coordinates.length&&!t.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new et(new rt("sources."+e,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new et(new rt("sources."+e,null,'missing required property "coordinates"'))),t.animate&&"boolean"!=typeof t.animate&&this.fire(new et(new rt("sources."+e,null,'optional "animate" property must be a boolean value'))),t.canvas?"string"==typeof t.canvas||t.canvas instanceof u.HTMLCanvasElement||this.fire(new et(new rt("sources."+e,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new et(new rt("sources."+e,null,'missing required property "canvas"'))),this.options=t,this.animate=void 0===t.animate||t.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof u.HTMLCanvasElement?this.options.canvas:u.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new et(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,Rh.members)),this.boundsSegments||(this.boundsSegments=wa.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Ic(t,this.canvas,n.RGBA,{premultiply:!0});for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}},Ah=function(e,t,n,r){const i=new Mh[t.type](e,t,n,r);if(i.id!==e)throw new Error(`Expected Source id to be ${e} instead of ${i.id}`);return O(["load","abort","unload","serialize","prepare"],i),i};function Ih(e,t){const n=Ya([]);return ts(n,n,[.5*e.width,.5*-e.height,1]),es(n,n,[1,-1,0]),Ja(n,n,e.calculatePosMatrix(t.toUnwrapped()))}function Dh(e,t,n,r,i,o,a,s=!1){const l=e.tilesIn(r,a,s);l.sort(zh);const u=[];for(const r of l)u.push({wrappedTileID:r.tile.tileID.wrapped().key,queryResults:r.tile.queryRenderedFeatures(t,n,e._state,r,i,o,Ih(e.transform,r.tile.tileID),s)});const c=function(e){const t={},n={};for(const r of e){const e=r.queryResults,i=r.wrappedTileID,o=n[i]=n[i]||{};for(const n in e){const r=e[n],i=o[n]=o[n]||{},a=t[n]=t[n]||[];for(const e of r)i[e.featureIndex]||(i[e.featureIndex]=!0,a.push(e))}}return t}(u);for(const t in c)c[t].forEach(t=>{const n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r});return c}function Lh(e,t){const n=e.getRenderableIds().map(t=>e.getTileByID(t)),r=[],i={};for(let e=0;e<n.length;e++){const o=n[e],a=o.tileID.canonical.key;i[a]||(i[a]=!0,o.querySourceFeatures(r,t))}return r}function zh(e,t){const n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function Nh(){return null!=$g.workerClass?new $g.workerClass:new u.Worker($g.workerUrl)}const Fh="mapboxgl_preloaded_worker_pool";class Bh{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Bh.workerCount;)this.workers.push(new Nh);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Fh]}numActive(){return Object.keys(this.active).length}}let jh;function Vh(){return jh||(jh=new Bh),jh}Bh.workerCount=2;var Uh=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Wh(e,t){const n={};for(const t in e)"ref"!==t&&(n[t]=e[t]);return Uh.forEach(e=>{e in t&&(n[e]=t[e])}),n}function Gh(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Wh(e[n],t[e[n].ref]));return e}const Hh={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};function qh(e,t,n){n.push({command:Hh.addSource,args:[e,t[e]]})}function $h(e,t,n){t.push({command:Hh.removeSource,args:[e]}),n[e]=!0}function Zh(e,t,n,r){$h(e,n,r),qh(e,t,n)}function Kh(e,t,n){let r;for(r in e[n])if(e[n].hasOwnProperty(r)&&"data"!==r&&!c(e[n][r],t[n][r]))return!1;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!c(e[n][r],t[n][r]))return!1;return!0}function Xh(e,t,n,r,i,o){let a;for(a in t=t||{},e=e||{})e.hasOwnProperty(a)&&(c(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}));for(a in t)t.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(c(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}))}function Yh(e){return e.id}function Qh(e,t){return e[t.id]=t,e}class Jh{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(1===this.points.length)return this.points[0];e=b(e,0,1);let t=1,n=this._distances[t];const r=e*this.paddedLength+this.padding;for(;n<r&&t<this._distances.length;)n=this._distances[++t];const i=t-1,o=this._distances[i],a=n-o,s=a>0?(r-o)/a:0;return this.points[i].mult(1-s).add(this.points[t].mult(s))}}class ef{constructor(e,t,n){const r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let e=0;e<this.xCellCount*this.yCellCount;e++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}insertCircle(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}_insertBoxCell(e,t,n,r,i,o){this.boxCells[i].push(o)}_insertCircleCell(e,t,n,r,i,o){this.circleCells[i].push(o)}_query(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];const a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],r=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-r,y1:n-r,x2:t+r,y2:n+r})}return o?a.filter(o):a}return this._forEachCell(e,t,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a}_queryCircle(e,t,n,r,i){const o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];const u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u}query(e,t,n,r,i){return this._query(e,t,n,r,!1,i)}hitTest(e,t,n,r,i){return this._query(e,t,n,r,!0,i)}hitTestCircle(e,t,n,r){return this._queryCircle(e,t,n,!0,r)}_queryCell(e,t,n,r,i,o,a,s){const l=a.seenUids,u=this.boxCells[i];if(null!==u){const i=this.bboxes;for(const c of u)if(!l.box[c]){l.box[c]=!0;const u=4*c;if(e<=i[u+2]&&t<=i[u+3]&&n>=i[u+0]&&r>=i[u+1]&&(!s||s(this.boxKeys[c]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[c],x1:i[u],y1:i[u+1],x2:i[u+2],y2:i[u+3]})}}}const c=this.circleCells[i];if(null!==c){const i=this.circles;for(const u of c)if(!l.circle[u]){l.circle[u]=!0;const c=3*u;if(this._circleAndRectCollide(i[c],i[c+1],i[c+2],e,t,n,r)&&(!s||s(this.circleKeys[u]))){if(a.hitTest)return o.push(!0),!0;{const e=i[c],t=i[c+1],n=i[c+2];o.push({key:this.circleKeys[u],x1:e-n,y1:t-n,x2:e+n,y2:t+n})}}}}}_queryCellCircle(e,t,n,r,i,o,a,s){const l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c){const e=this.bboxes;for(const t of c)if(!u.box[t]){u.box[t]=!0;const n=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(this.boxKeys[t])))return o.push(!0),!0}}const d=this.circleCells[i];if(null!==d){const e=this.circles;for(const t of d)if(!u.circle[t]){u.circle[t]=!0;const n=3*t;if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,n,r,i,o,a,s){const l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r);for(let h=l;h<=c;h++)for(let l=u;l<=d;l++)if(i.call(this,e,t,n,r,this.xCellCount*l+h,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,r,i,o){const a=r-e,s=i-t,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,r,i,o,a){const s=(o-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;const u=(a-i)/2,c=Math.abs(t-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;const d=l-s,h=c-u;return d*d+h*h<=n*n}}function tf(e,t,n,r,i){const o=Xa();return t?(ts(o,o,[1/i,1/i,1]),n||is(o,o,r.angle)):Ja(o,r.labelPlaneMatrix,e),o}function nf(e,t,n,r,i){if(t){const t=(o=e,(a=new Za(16))[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],a);return ts(t,t,[i,i,1]),n||is(t,t,-r.angle),t}return r.glCoordMatrix;var o,a}function rf(e,t,n=0){const r=[e.x,e.y,n,1];n?ks(r,r,t):mf(r,r,t);const i=r[3];return{point:new s(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function of(e,t){return Math.min(.5+e/t*.5,1.5)}function af(e,t){const n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function sf(e,t,n,r,i,o,a,l,u){const c=r?e.textSizeData:e.iconSizeData,d=bu(c,n.transform.zoom),h=[256/n.width*2+1,256/n.height*2+1],f=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;f.clear();const p=e.lineVertexArray,m=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=n.transform.width/n.transform.height;let _=!1;for(let r=0;r<m.length;r++){const y=m.get(r);if(y.hidden||y.writingMode===Yu.vertical&&!_){pf(y.numGlyphs,f);continue}_=!1;const v=u?u({x:y.anchorX,y:y.anchorY}):0,b=[y.anchorX,y.anchorY,v,1];if(ks(b,b,t),!af(b,h)){pf(y.numGlyphs,f);continue}const x=of(n.transform.cameraToCenterDistance,b[3]),w=vu(c,d,y),S=a?w/x:w*x,E=new s(y.anchorX,y.anchorY),T=rf(E,i,v);if(T.signedDistanceFromCamera<=0){pf(y.numGlyphs,f);continue}const k=T.point;let C={};const P=a?null:u,R=cf(y,S,!1,l,t,i,o,e.glyphOffsetArray,p,f,k,E,C,g,P);_=R.useVertical,P&&R.needsFlipping&&(C={}),(R.notEnoughRoom||_||R.needsFlipping&&cf(y,S,!0,l,t,i,o,e.glyphOffsetArray,p,f,k,E,C,g,P).notEnoughRoom)&&pf(y.numGlyphs,f)}r?e.text.dynamicLayoutVertexBuffer.updateData(f):e.icon.dynamicLayoutVertexBuffer.updateData(f)}function lf(e,t,n,r,i,o,a,s,l,u,c,d,h){const f=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,m=s.lineStartIndex+s.lineLength,g=t.getoffsetX(s.glyphStartIndex),_=t.getoffsetX(f-1),y=hf(e*g,n,r,i,o,a,s.segment,p,m,l,u,c,d,h,!0);if(!y)return null;const v=hf(e*_,n,r,i,o,a,s.segment,p,m,l,u,c,d,h,!0);return v?{first:y,last:v}:null}function uf(e,t,n,r){return e===Yu.horizontal&&Math.abs(n.y-t.y)>Math.abs(n.x-t.x)*r?{useVertical:!0}:(e===Yu.vertical?t.y<n.y:t.x>n.x)?{needsFlipping:!0}:null}function cf(e,t,n,r,i,o,a,l,u,c,d,h,f,p,m){const g=t/24,_=e.lineOffsetX*g,y=e.lineOffsetY*g;let v;if(e.numGlyphs>1){const t=e.glyphStartIndex+e.numGlyphs,i=e.lineStartIndex,s=e.lineStartIndex+e.lineLength,c=lf(g,l,_,y,n,d,h,e,u,o,f,m);if(!c)return{notEnoughRoom:!0};const b=rf(c.first.point,a).point,x=rf(c.last.point,a).point;if(r&&!n){const t=uf(e.writingMode,b,x,p);if(t)return t}v=[c.first];for(let r=e.glyphStartIndex+1;r<t-1;r++)v.push(hf(g*l.getoffsetX(r),_,y,n,d,h,e.segment,i,s,u,o,f,m));v.push(c.last)}else{if(r&&!n){const t=rf(h,i).point,n=e.lineStartIndex+e.segment+1,r=new s(u.getx(n),u.gety(n)),o=rf(r,i),a=o.signedDistanceFromCamera>0?o.point:df(h,r,t,1,i),l=uf(e.writingMode,t,a,p);if(l)return l}const t=hf(g*l.getoffsetX(e.glyphStartIndex),_,y,n,d,h,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,u,o,f,m);if(!t)return{notEnoughRoom:!0};v=[t]}for(const e of v)hc(c,e.point,e.angle);return{}}function df(e,t,n,r,i,o){const a=e.add(e.sub(t)._unit()),s=rf(a,i,o?o(a):0).point,l=n.sub(s);return n.add(l._mult(r/l.mag()))}function hf(e,t,n,r,i,o,a,l,u,c,d,h,f,p,m){const g=r?e-t:e+t;let _=g>0?1:-1,y=0;r&&(_*=-1,y=Math.PI),_<0&&(y+=Math.PI);let v=_>0?l+a:l+a+1,b=i,x=i,w=0,S=0;const E=Math.abs(g),T=[],k=[];let C=o;const P=()=>{const e=v-_;return 0===w?o:new s(c.getx(e),c.gety(e))},R=()=>df(P(),C,x,E-w+1,d,f);for(;w+S<=E;){if(v+=_,v<l||v>=u)return null;if(x=b,T.push(b),p&&k.push(C||P()),b=h[v],void 0===b){C=new s(c.getx(v),c.gety(v));const e=rf(C,d,f?f(C):0);b=e.signedDistanceFromCamera>0?h[v]=e.point:R()}else C=null;w+=S,S=x.dist(b)}m&&f&&(C=C||new s(c.getx(v),c.gety(v)),h[v]=b=void 0===h[v]?b:R(),S=x.dist(b));const O=(E-w)/S,M=b.sub(x),A=M.mult(O)._add(x);n&&A._add(M._unit()._perp()._mult(n*_));const I=y+Math.atan2(b.y-x.y,b.x-x.x);return T.push(A),p&&(C=C||new s(c.getx(v),c.gety(v)),k.push(function(e,t,n){const r=1-n;return new s(e.x*r+t.x*n,e.y*r+t.y*n)}(k.length>0?k[k.length-1]:C,C,O))),{point:A,angle:I,path:T,tilePath:k}}const ff=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function pf(e,t){for(let n=0;n<e;n++){const e=t.length;t.resize(e+4),t.float32.set(ff,3*e)}}function mf(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}const gf=100;class _f{constructor(e,t=new ef(e.width+200,e.height+200,25),n=new ef(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+gf,this.screenBottomBoundary=e.height+gf,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200}placeCollisionBox(e,t,n,r,i,o,a){const s=this.projectAndGetPerspectiveRatio(o,t.anchorPointX,t.anchorPointY,t.elevation),l=i*s.perspectiveRatio,u=(t.x1*e+n.x-t.padding)*l+s.point.x,c=(t.y1*e+n.y-t.padding)*l+s.point.y,d=(t.x2*e+n.x+t.padding)*l+s.point.x,h=(t.y2*e+n.y+t.padding)*l+s.point.y,f=s.perspectiveRatio<=.55||s.aboveHorizon;return!this.isInsideGrid(u,c,d,h)||!r&&this.grid.hitTest(u,c,d,h,a)||f?{box:[],offscreen:!1}:{box:[u,c,d,h],offscreen:this.isOffscreen(u,c,d,h)}}placeCollisionCircles(e,t,n,r,i,o,a,l,u,c,d,h,f,p){const m=[],g=this.transform.elevation,_=g?e=>g.getAtTileOffset(p,e.x,e.y):e=>0,y=new s(t.anchorX,t.anchorY),v=_(y),b=this.projectAndGetPerspectiveRatio(o,y.x,y.y,v),{perspectiveRatio:x}=b,w=(c?i/x:i*x)/24,S=rf(y,a,v).point,E=b.signedDistanceFromCamera>0?lf(w,r,t.lineOffsetX*w,t.lineOffsetY*w,!1,S,y,t,n,a,{},g&&!c?_:null,c&&!!g):null;let T=!1,k=!1,C=!0;if(E&&!b.aboveHorizon){const t=.5*h*x+f,n=new s(-100,-100),r=new s(this.screenRightBoundary,this.screenBottomBoundary),i=new Jh,o=E.first,a=E.last;let c=[];for(let e=o.path.length-1;e>=1;e--)c.push(o.path[e]);for(let e=1;e<a.path.length;e++)c.push(a.path[e]);const p=2.5*t;if(l){const e=c.map(g?(e,t)=>{const n=_(t<o.path.length-1?o.tilePath[o.path.length-1-t]:a.tilePath[t-o.path.length+2]);return rf(e,l,n)}:e=>rf(e,l));c=e.some(e=>e.signedDistanceFromCamera<=0)?[]:e.map(e=>e.point)}let y=[];if(c.length>0){const e=c[0].clone(),t=c[0].clone();for(let n=1;n<c.length;n++)e.x=Math.min(e.x,c[n].x),e.y=Math.min(e.y,c[n].y),t.x=Math.max(t.x,c[n].x),t.y=Math.max(t.y,c[n].y);y=e.x>=n.x&&t.x<=r.x&&e.y>=n.y&&t.y<=r.y?[c]:t.x<n.x||e.x>r.x||t.y<n.y||e.y>r.y?[]:function(e,t,n,r,i){const o=[];for(let a=0;a<e.length;a++){const l=e[a];let u;for(let e=0;e<l.length-1;e++){let a=l[e],c=l[e+1];a.x<t&&c.x<t||(a.x<t?a=new s(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new s(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<n&&c.y<n||(a.y<n?a=new s(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round():c.y<n&&(c=new s(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round()),a.x>=r&&c.x>=r||(a.x>=r?a=new s(r,a.y+(r-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=r&&(c=new s(r,a.y+(r-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=i&&c.y>=i||(a.y>=i?a=new s(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round():c.y>=i&&(c=new s(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round()),u&&a.equals(u[u.length-1])||(u=[a],o.push(u)),u.push(c)))))}}return o}([c],n.x,n.y,r.x,r.y)}for(const n of y){i.reset(n,.25*t);let r=0;r=i.length<=.5*t?1:Math.ceil(i.paddedLength/p)+1;for(let n=0;n<r;n++){const o=n/Math.max(r-1,1),a=i.lerp(o),s=a.x+gf,l=a.y+gf;m.push(s,l,t,0);const c=s-t,h=l-t,f=s+t,p=l+t;if(C=C&&this.isOffscreen(c,h,f,p),k=k||this.isInsideGrid(c,h,f,p),!e&&this.grid.hitTestCircle(s,l,t,d)&&(T=!0,!u))return{circles:[],offscreen:!1,collisionDetected:T}}}}return{circles:!u&&T||!k?[]:m,offscreen:C,collisionDetected:T}}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const t=[];let n=1/0,r=1/0,i=-1/0,o=-1/0;for(const a of e){const e=new s(a.x+gf,a.y+gf);n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y),t.push(e)}const a=this.grid.query(n,r,i,o).concat(this.ignoredGrid.query(n,r,i,o)),l={},u={};for(const e of a){const n=e.key;void 0===l[n.bucketInstanceId]&&(l[n.bucketInstanceId]={}),l[n.bucketInstanceId][n.featureIndex]||Oa(t,[new s(e.x1,e.y1),new s(e.x2,e.y1),new s(e.x2,e.y2),new s(e.x1,e.y2)])&&(l[n.bucketInstanceId][n.featureIndex]=!0,void 0===u[n.bucketInstanceId]&&(u[n.bucketInstanceId]=[]),u[n.bucketInstanceId].push(n.featureIndex))}return u}insertCollisionBox(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,r,i){const o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i};for(let t=0;t<e.length;t+=4)o.insertCircle(a,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(e,t,n,r){const i=[t,n,r||0,1];let o=!1;return r||this.transform.pitch>0?(ks(i,i,e),o=i[2]>i[3]):mf(i,i,e),{point:new s((i[0]/i[3]+1)/2*this.transform.width+gf,(-i[1]/i[3]+1)/2*this.transform.height+gf),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/i[3]*.5,1.5),signedDistanceFromCamera:i[3],aboveHorizon:o}}isOffscreen(e,t,n,r){return n<gf||e>=this.screenRightBoundary||r<gf||t>this.screenBottomBoundary}isInsideGrid(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const e=Ya([]);return es(e,e,[-100,-100,0]),e}}class yf{constructor(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class vf{constructor(e,t,n,r,i){this.text=new yf(e?e.text:null,t,n,i),this.icon=new yf(e?e.icon:null,t,r,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class bf{constructor(e,t,n){this.text=e,this.icon=t,this.skipFade=n}}class xf{constructor(){this.invProjMatrix=Xa(),this.viewportMatrix=Xa(),this.circles=[]}}class wf{constructor(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}}class Sf{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function Ef(e,t,n,r,i){const{horizontalAlign:o,verticalAlign:a}=Qu(e),l=-(o-.5)*t,u=-(a-.5)*n,c=lc(e,r);return new s(l+c[0]*i,u+c[1]*i)}function Tf(e,t,n,r,i){const o=new s(e,t);return n&&o._rotate(r?i:-i),o}class kf{constructor(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new _f(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Sf(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(e,t,n,r){const i=n.getBucket(t),o=n.latestFeatureIndex;if(!i||!o||t.id!==i.layerIds[0])return;const a=n.collisionBoxArray,s=i.layers[0].layout,l=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/Sa,c=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),d="map"===s.get("text-pitch-alignment"),h="map"===s.get("text-rotation-alignment"),f=qc(n,1,this.transform.zoom),p=tf(c,d,h,this.transform,f);let m=null;if(d){const e=nf(c,d,h,this.transform,f);m=Ja([],this.transform.labelPlaneMatrix,e)}this.retainedQueryData[i.bucketInstanceId]=new wf(i.bucketInstanceId,o,i.sourceLayerIndex,i.index,n.tileID);const g={bucket:i,layout:s,posMatrix:c,textLabelPlaneMatrix:p,labelToScreenMatrix:m,scale:l,textPixelRatio:u,holdingForFade:n.holdingForFade(),collisionBoxArray:a,partiallyEvaluatedTextSize:bu(i.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:bu(i.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(i.sourceID)};if(r)for(const t of i.sortKeyRanges){const{sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i}=t;e.push({sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i,parameters:g})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:i.symbolInstances.length,parameters:g})}attemptAnchorPlacement(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,m,g,_){const y=[d.textOffset0,d.textOffset1],v=f.getSymbolInstanceTextSize(g,d,this.transform.zoom,h),b=Ef(e,n,r,y,i),x=this.collisionIndex.placeCollisionBox(v,t,Tf(b.x,b.y,o,a,this.transform.angle),c,s,l,u.predicate);if((!m||0!==this.collisionIndex.placeCollisionBox(f.getSymbolInstanceIconSize(_,this.transform.zoom,h),m,Tf(b.x,b.y,o,a,this.transform.angle),c,s,l,u.predicate).box.length)&&x.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(t=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:y,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:t},this.markUsedJustification(f,e,d,p),f.allowVerticalPlacement&&(this.markUsedOrientation(f,p,d),this.placedOrientations[d.crossTileID]=p),{shift:b,placedGlyphBoxes:x}}}placeLayerBucketPart(e,t,n){const{bucket:r,layout:i,posMatrix:o,textLabelPlaneMatrix:a,labelToScreenMatrix:l,textPixelRatio:u,holdingForFade:c,collisionBoxArray:d,partiallyEvaluatedTextSize:h,partiallyEvaluatedIconSize:f,collisionGroup:p}=e.parameters,m=i.get("text-optional"),g=i.get("icon-optional"),_=i.get("text-allow-overlap"),y=i.get("icon-allow-overlap"),v="map"===i.get("text-rotation-alignment"),b="map"===i.get("text-pitch-alignment"),x="none"!==i.get("icon-text-fit"),w="viewport-y"===i.get("symbol-z-order"),S=_&&(y||!r.hasIconData()||g),E=y&&(_||!r.hasTextData()||m);!r.collisionArrays&&d&&r.deserializeCollisionBoxes(d),n&&r.updateCollisionDebugBuffers(this.transform.zoom,d);const T=(e,d,w)=>{if(t[e.crossTileID])return;if(c)return void(this.placements[e.crossTileID]=new bf(!1,!1,!1));let T=!1,k=!1,C=!0,P=null,R={box:null,offscreen:null},O={box:null,offscreen:null},M=null,A=null,I=null,D=0,L=0,z=0;w.textFeatureIndex?D=w.textFeatureIndex:e.useRuntimeCollisionCircles&&(D=e.featureIndex),w.verticalTextFeatureIndex&&(L=w.verticalTextFeatureIndex);const N=e=>{(this.transform.elevation||e.elevation)&&(e.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[r.bucketInstanceId].tileID,e.anchorPointX,e.anchorPointY):0)},F=w.textBox;if(F){N(F);const t=t=>{let n=Yu.horizontal;if(r.allowVerticalPlacement&&!t&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,n=t,this.markUsedOrientation(r,n,e))}return n},n=(t,n)=>{if(r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&w.verticalTextBox){for(const e of r.writingModes)if(e===Yu.vertical?(R=n(),O=R):R=t(),R&&R.box&&R.box.length)break}else R=t()};if(i.get("text-variable-anchor")){let a=i.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[e.crossTileID]){const t=this.prevPlacement.variableOffsets[e.crossTileID];a.indexOf(t.anchor)>0&&(a=a.filter(e=>e!==t.anchor),a.unshift(t.anchor))}const s=(t,n,i)=>{const s=e.textBoxScale,l=(t.x2-t.x1)*s+2*t.padding,c=(t.y2-t.y1)*s+2*t.padding,m=x&&!y?n:null;m&&N(m);let g={box:[],offscreen:!1};const w=_?2*a.length:a.length;for(let n=0;n<w;++n){const _=this.attemptAnchorPlacement(a[n%a.length],t,l,c,s,v,b,u,o,p,n>=a.length,e,d,r,i,m,h,f);if(_&&(g=_.placedGlyphBoxes,g&&g.box&&g.box.length)){T=!0,P=_.shift;break}}return g};n(()=>s(F,w.iconBox,Yu.horizontal),()=>{const t=w.verticalTextBox;return t&&N(t),r.allowVerticalPlacement&&!(R&&R.box&&R.box.length)&&e.numVerticalGlyphVertices>0&&t?s(t,w.verticalIconBox,Yu.vertical):{box:null,offscreen:null}}),R&&(T=R.box,C=R.offscreen);const l=t(R&&R.box);if(!T&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(r,t.anchor,e,l))}}else{const i=(t,n)=>{const i=r.getSymbolInstanceTextSize(h,e,this.transform.zoom,d),a=this.collisionIndex.placeCollisionBox(i,t,new s(0,0),_,u,o,p.predicate);return a&&a.box&&a.box.length&&(this.markUsedOrientation(r,n,e),this.placedOrientations[e.crossTileID]=n),a};n(()=>i(F,Yu.horizontal),()=>{const t=w.verticalTextBox;return r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&t?(N(t),i(t,Yu.vertical)):{box:null,offscreen:null}}),t(R&&R.box&&R.box.length)}}if(M=R,T=M&&M.box&&M.box.length>0,C=M&&M.offscreen,e.useRuntimeCollisionCircles){const t=r.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),s=vu(r.textSizeData,h,t),u=i.get("text-padding");A=this.collisionIndex.placeCollisionCircles(_,t,r.lineVertexArray,r.glyphOffsetArray,s,o,a,l,n,b,p.predicate,e.collisionCircleDiameter,u,this.retainedQueryData[r.bucketInstanceId].tileID),T=_||A.circles.length>0&&!A.collisionDetected,C=C&&A.offscreen}if(w.iconFeatureIndex&&(z=w.iconFeatureIndex),w.iconBox){const e=e=>{N(e);const t=x&&P?Tf(P.x,P.y,v,b,this.transform.angle):new s(0,0),n=r.getSymbolInstanceIconSize(f,this.transform.zoom,d);return this.collisionIndex.placeCollisionBox(n,e,t,y,u,o,p.predicate)};O&&O.box&&O.box.length&&w.verticalIconBox?(I=e(w.verticalIconBox),k=I.box.length>0):(I=e(w.iconBox),k=I.box.length>0),C=C&&I.offscreen}const B=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,j=g||0===e.numIconVertices;if(B||j?j?B||(k=k&&T):T=k&&T:k=T=k&&T,T&&M&&M.box&&this.collisionIndex.insertCollisionBox(M.box,i.get("text-ignore-placement"),r.bucketInstanceId,O&&O.box&&L?L:D,p.ID),k&&I&&this.collisionIndex.insertCollisionBox(I.box,i.get("icon-ignore-placement"),r.bucketInstanceId,z,p.ID),A&&(T&&this.collisionIndex.insertCollisionCircles(A.circles,i.get("text-ignore-placement"),r.bucketInstanceId,D,p.ID),n)){const e=r.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new xf);for(let e=0;e<A.circles.length;e+=4)t.circles.push(A.circles[e+0]),t.circles.push(A.circles[e+1]),t.circles.push(A.circles[e+2]),t.circles.push(A.collisionDetected?1:0)}this.placements[e.crossTileID]=new bf(T||S,k||E,C||r.justReloaded),t[e.crossTileID]=!0};if(w){const e=r.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];T(r.symbolInstances.get(n),n,r.collisionArrays[n])}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)T(r.symbolInstances.get(t),t,r.collisionArrays[t]);if(n&&r.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[r.bucketInstanceId];Qa(e.invProjMatrix,o),e.viewportMatrix=this.collisionIndex.getViewportMatrix()}r.justReloaded=!1}markUsedJustification(e,t,n,r){let i;i=r===Yu.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[function(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}(t)];const o=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const t of o)t>=0&&(e.text.placedSymbolArray.get(t).crossTileID=i>=0&&t!==i?0:n.crossTileID)}markUsedOrientation(e,t,n){const r=t===Yu.horizontal||t===Yu.horizontalOnly?t:0,i=t===Yu.vertical?t:0,o=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];for(const t of o)e.text.placedSymbolArray.get(t).placedOrientation=r;n.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=i)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=i[e];o?(this.opacities[e]=new vf(o,r,t.text,t.icon),n=n||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new vf(null,r,t.text,t.icon,t.skipFade),n=n||t.text||t.icon)}for(const e in i){const t=i[e];if(!this.opacities[e]){const i=new vf(t,r,!1,!1);i.isHidden()||(this.opacities[e]=i,n=n||t.text.placed||t.icon.placed)}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const r of t){const t=r.getBucket(e);t&&r.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,r.collisionBoxArray)}}updateBucketOpacities(e,t,n){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const r=e.layers[0].layout,i=new vf(null,0,!1,!1,!0),o=r.get("text-allow-overlap"),a=r.get("icon-allow-overlap"),l=r.get("text-variable-anchor"),u="map"===r.get("text-rotation-alignment"),c="map"===r.get("text-pitch-alignment"),d="none"!==r.get("icon-text-fit"),h=new vf(null,0,o&&(a||!e.hasIconData()||r.get("icon-optional")),a&&(o||!e.hasTextData()||r.get("text-optional")),!0);!e.collisionArrays&&n&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(n);const f=(e,t,n)=>{for(let r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)};for(let n=0;n<e.symbolInstances.length;n++){const r=e.symbolInstances.get(n),{numHorizontalGlyphVertices:o,numVerticalGlyphVertices:a,crossTileID:p}=r;let m=this.opacities[p];t[p]?m=i:m||(m=h,this.opacities[p]=m),t[p]=!0;const g=r.numIconVertices>0,_=this.placedOrientations[r.crossTileID],y=_===Yu.vertical,v=_===Yu.horizontal||_===Yu.horizontalOnly;if(o>0||a>0){const t=Lf(m.text);f(e.text,o,y?zf:t),f(e.text,a,v?zf:t);const n=m.text.isHidden();[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach(t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=n||y?1:0)}),r.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).hidden=n||v?1:0);const i=this.variableOffsets[r.crossTileID];i&&this.markUsedJustification(e,i.anchor,r,_);const s=this.placedOrientations[r.crossTileID];s&&(this.markUsedJustification(e,"left",r,s),this.markUsedOrientation(e,s,r))}if(g){const t=Lf(m.icon),n=!(d&&r.verticalPlacedIconSymbolIndex&&y);r.placedIconSymbolIndex>=0&&(f(e.icon,r.numIconVertices,n?t:zf),e.icon.placedSymbolArray.get(r.placedIconSymbolIndex).hidden=m.icon.isHidden()),r.verticalPlacedIconSymbolIndex>=0&&(f(e.icon,r.numVerticalIconVertices,n?zf:t),e.icon.placedSymbolArray.get(r.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const t=e.collisionArrays[n];if(t){let n=new s(0,0);if(t.textBox||t.verticalTextBox){let r=!0;if(l){const e=this.variableOffsets[p];e?(n=Ef(e.anchor,e.width,e.height,e.textOffset,e.textBoxScale),u&&n._rotate(c?this.transform.angle:-this.transform.angle)):r=!1}t.textBox&&Cf(e.textCollisionBox.collisionVertexArray,m.text.placed,!r||y,n.x,n.y),t.verticalTextBox&&Cf(e.textCollisionBox.collisionVertexArray,m.text.placed,!r||v,n.x,n.y)}const r=Boolean(!v&&t.verticalIconBox);t.iconBox&&Cf(e.iconCollisionBox.collisionVertexArray,m.icon.placed,r,d?n.x:0,d?n.y:0),t.verticalIconBox&&Cf(e.iconCollisionBox.collisionVertexArray,m.icon.placed,!r,d?n.x:0,d?n.y:0)}}}if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=t.invProjMatrix,e.placementViewportMatrix=t.viewportMatrix,e.collisionCircleArray=t.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function Cf(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}const Pf=Math.pow(2,25),Rf=Math.pow(2,24),Of=Math.pow(2,17),Mf=Math.pow(2,16),Af=Math.pow(2,9),If=Math.pow(2,8),Df=Math.pow(2,1);function Lf(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Pf+t*Rf+n*Of+t*Mf+n*Af+t*If+n*Df+t}const zf=0;class Nf{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,r,i){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1}}class Ff{constructor(e,t,n,r,i,o,a){this.placement=new kf(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1}isDone(){return this._done}continuePlacement(e,t,n){const r=$.now(),i=()=>{const e=$.now()-r;return!this._forceFullPlacement&&e>2};for(;this._currentPlacementIndex>=0;){const r=t[e[this._currentPlacementIndex]],o=this.placement.collisionIndex.transform.zoom;if("symbol"===r.type&&(!r.minzoom||r.minzoom<=o)&&(!r.maxzoom||r.maxzoom>o)){if(this._inProgressLayer||(this._inProgressLayer=new Nf(r)),this._inProgressLayer.continuePlacement(n[r.source],this.placement,this._showCollisionBoxes,r,i))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}class Bf{constructor(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(let n=0;n<t.length;n++){const r=t.get(n),i=r.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,e)})}}getScaledCoordinates(e,t){const n=.03125/Math.pow(2,t.canonical.z-this.tileID.canonical.z);return{x:Math.floor((t.canonical.x*Sa+e.anchorX)*n),y:Math.floor((t.canonical.y*Sa+e.anchorY)*n)}}findMatches(e,t,n){const r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){const o=e.get(i);if(o.crossTileID)continue;const a=this.indexedSymbolInstances[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=r&&Math.abs(e.coord.y-s.y)<=r&&!n[e.crossTileID]){n[e.crossTileID]=!0,o.crossTileID=e.crossTileID;break}}}}class jf{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Vf{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const n=this.indexes[e],r={};for(const e in n){const i=n[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),r[i.tileID.key]=i}this.indexes[e]=r}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const r=this.usedCrossTileIDs[e.overscaledZ];for(const n in this.indexes){const i=this.indexes[n];if(Number(n)>e.overscaledZ)for(const n in i){const o=i[n];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,r)}else{const o=i[e.scaledTo(Number(n)).key];o&&o.findMatches(t.symbolInstances,e,r)}}for(let e=0;e<t.symbolInstances.length;e++){const i=t.symbolInstances.get(e);i.crossTileID||(i.crossTileID=n.generate(),r[i.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Bf(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n in t.indexedSymbolInstances)for(const r of t.indexedSymbolInstances[n])delete this.usedCrossTileIDs[e][r.crossTileID]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const r=this.indexes[n];for(const i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}class Uf{constructor(){this.layerIndexes={},this.crossTileIDs=new jf,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Vf);let i=!1;const o={};r.handleWrapJump(n);for(const n of t){const t=n.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(n.tileID,t,this.crossTileIDs)&&(i=!0),o[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i}pruneUnusedLayers(e){const t={};e.forEach(e=>{t[e]=!0});for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const Wf=(e,t)=>ui(e,t&&t.filter(e=>"source.canvas"!==e.identifier)),Gf=T(Hh,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain"]),Hf=T(Hh,["setCenter","setZoom","setBearing","setPitch"]),qf=function(){const e={},t=nt.$version;for(const n in nt.$root){const r=nt.$root[n];if(r.required){let i=null;i="version"===n?t:"array"===r.type?[]:{},null!=i&&(e[n]=i)}}return e}(),$f={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Zf extends tt{constructor(e,t={}){super(),this.map=e,this.dispatcher=new Hc(Vh(),this),this.imageManager=new Lc,this.imageManager.setEventedParent(this),this.glyphManager=new ac(e._requestManager,t.localFontFamily?2:t.localIdeographFontFamily?1:0,t.localFontFamily||t.localIdeographFontFamily),this.lineAtlas=new Uc(256,512),this.crossTileSymbolIndex=new Uf,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new bi,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",je());const n=this;this._rtlTextPluginCallback=Zf.registerForPluginStateChange(e=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(e,t)=>{if(zi(e),t&&t.every(e=>e))for(const e in n._sourceCaches){const t=n._sourceCaches[e],r=t.getSource().type;"vector"!==r&&"geojson"!==r||t.reload()}})}),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const n=this._layers[e];n.source===t.id&&this._validateLayer(n)}})}loadURL(e,t={}){this.fire(new Je("dataloading",{dataType:"style"}));const n="boolean"==typeof t.validate?t.validate:!he(e);e=this.map._requestManager.normalizeStyleURL(e,t.accessToken);const r=this.map._requestManager.transformRequest(e,Fe.Style);this._request=Ue(r,(e,t)=>{this._request=null,e?this.fire(new et(e)):t&&this._load(t,n)})}loadJSON(e,t={}){this.fire(new Je("dataloading",{dataType:"style"})),this._request=$.frame(()=>{this._request=null,this._load(e,!1!==t.validate)})}loadEmpty(){this.fire(new Je("dataloading",{dataType:"style"})),this._load(qf,!1)}_updateLayerCount(e,t){const n=t?1:-1;e.is3D()&&(this._num3DLayers+=n),"circle"===e.type&&(this._numCircleLayers+=n),"symbol"===e.type&&(this._numSymbolLayers+=n)}_load(e,t){if(t&&Wf(this,oi(e)))return;this._loaded=!0,this.stylesheet=e;for(const t in e.sources)this.addSource(t,e.sources[t],{validate:!1});this._changed=!1,e.sprite?this._loadSprite(e.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(e.glyphs);const n=Gh(this.stylesheet.layers);this._order=n.map(e=>e.id),this._layers={},this._serializedLayers={};for(let e of n)e=Cc(e),e.setEventedParent(this,{layer:{id:e.id}}),this._layers[e.id]=e,this._serializedLayers[e.id]=e.serialize(),this._updateLayerCount(e,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Fc(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this._updateDrapeFirstLayers(),this.fire(new Je("data",{dataType:"style"})),this.fire(new Je("style.load"))}_loadSprite(e){this._spriteRequest=function(e,t,n){let r,i,o;const a=$.devicePixelRatio>1?"@2x":"";let s=Ue(t.transformRequest(t.normalizeSpriteURL(e,a,".json"),Fe.SpriteJSON),(e,t)=>{s=null,o||(o=e,r=t,u())}),l=Xe(t.transformRequest(t.normalizeSpriteURL(e,a,".png"),Fe.SpriteImage),(e,t)=>{l=null,o||(o=e,i=t,u())});function u(){if(o)n(o);else if(r&&i){const e=$.getImageData(i),t={};for(const n in r){const{width:i,height:o,x:a,y:s,sdf:l,pixelRatio:u,stretchX:c,stretchY:d,content:h}=r[n],f=new Us({width:i,height:o});Us.copy(e,f,{x:a,y:s},{x:0,y:0},{width:i,height:o}),t[n]={data:f,pixelRatio:u,sdf:l,stretchX:c,stretchY:d,content:h}}n(null,t)}}return{cancel(){s&&(s.cancel(),s=null),l&&(l.cancel(),l=null)}}}(e,this.map._requestManager,(e,t)=>{if(this._spriteRequest=null,e)this.fire(new et(e));else if(t)for(const e in t)this.imageManager.addImage(e,t[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new Je("data",{dataType:"style"}))})}_validateLayer(e){const t=this.getSource(e.source);if(!t)return;const n=e.sourceLayer;n&&("geojson"===t.type||t.vectorLayerIds&&-1===t.vectorLayerIds.indexOf(n))&&this.fire(new et(new Error(`Source layer "${n}" does not exist on source "${t.id}" as specified by style layer "${e.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const n of e){const e=this._layers[n];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&$f[e.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(e){if(!this._loaded)return;const t=this._changed;if(this._changed){const t=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(t.length||n.length)&&this._updateWorkerLayers(t,n);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const t in this._updatedPaintProps)this._layers[t].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}const n={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];n[e]=t.used,t.used=!1}for(const t of this._order){const n=this._layers[t];if(n.recalculate(e,this._availableImages),!n.isHidden(e.zoom)){const e=this._getLayerSourceCache(n);e&&(e.used=!0)}const r=this.map.painter;if(r){const t=n.getProgramIds();if(!t)continue;const i=n.getProgramConfiguration(e.zoom);for(const e of t)r.useProgram(e,i)}}for(const e in n){const t=this._sourceCaches[e];n[e]!==t.used&&t.getSource().fire(new Je("data",{sourceDataType:"visibility",dataType:"source",sourceId:t.getSource().id}))}this.light.recalculate(e),this.terrain&&this.terrain.recalculate(e),this.z=e.zoom,t&&this.fire(new Je("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(e){if(this._checkLoaded(),Wf(this,oi(e)))return!1;(e=D(e)).layers=Gh(e.layers);const t=function(e,t){if(!e)return[{command:Hh.setStyle,args:[t]}];let n=[];try{if(!c(e.version,t.version))return[{command:Hh.setStyle,args:[t]}];c(e.center,t.center)||n.push({command:Hh.setCenter,args:[t.center]}),c(e.zoom,t.zoom)||n.push({command:Hh.setZoom,args:[t.zoom]}),c(e.bearing,t.bearing)||n.push({command:Hh.setBearing,args:[t.bearing]}),c(e.pitch,t.pitch)||n.push({command:Hh.setPitch,args:[t.pitch]}),c(e.sprite,t.sprite)||n.push({command:Hh.setSprite,args:[t.sprite]}),c(e.glyphs,t.glyphs)||n.push({command:Hh.setGlyphs,args:[t.glyphs]}),c(e.transition,t.transition)||n.push({command:Hh.setTransition,args:[t.transition]}),c(e.light,t.light)||n.push({command:Hh.setLight,args:[t.light]});const r={},i=[];!function(e,t,n,r){let i;for(i in t=t||{},e=e||{})e.hasOwnProperty(i)&&(t.hasOwnProperty(i)||$h(i,n,r));for(i in t)t.hasOwnProperty(i)&&(e.hasOwnProperty(i)?c(e[i],t[i])||("geojson"===e[i].type&&"geojson"===t[i].type&&Kh(e,t,i)?n.push({command:Hh.setGeoJSONSourceData,args:[i,t[i].data]}):Zh(i,t,n,r)):qh(i,t,n))}(e.sources,t.sources,i,r);const o=[];e.layers&&e.layers.forEach(e=>{r[e.source]?n.push({command:Hh.removeLayer,args:[e.id]}):o.push(e)});let a=e.terrain;a&&r[a.source]&&(n.push({command:Hh.setTerrain,args:[void 0]}),a=void 0),n=n.concat(i),c(a,t.terrain)||n.push({command:Hh.setTerrain,args:[t.terrain]}),function(e,t,n){t=t||[];const r=(e=e||[]).map(Yh),i=t.map(Yh),o=e.reduce(Qh,{}),a=t.reduce(Qh,{}),s=r.slice(),l=Object.create(null);let u,d,h,f,p,m,g;for(u=0,d=0;u<r.length;u++)h=r[u],a.hasOwnProperty(h)?d++:(n.push({command:Hh.removeLayer,args:[h]}),s.splice(s.indexOf(h,d),1));for(u=0,d=0;u<i.length;u++)h=i[i.length-1-u],s[s.length-1-u]!==h&&(o.hasOwnProperty(h)?(n.push({command:Hh.removeLayer,args:[h]}),s.splice(s.lastIndexOf(h,s.length-d),1)):d++,m=s[s.length-u],n.push({command:Hh.addLayer,args:[a[h],m]}),s.splice(s.length-u,0,h),l[h]=!0);for(u=0;u<i.length;u++)if(h=i[u],f=o[h],p=a[h],!l[h]&&!c(f,p))if(c(f.source,p.source)&&c(f["source-layer"],p["source-layer"])&&c(f.type,p.type)){for(g in Xh(f.layout,p.layout,n,h,null,Hh.setLayoutProperty),Xh(f.paint,p.paint,n,h,null,Hh.setPaintProperty),c(f.filter,p.filter)||n.push({command:Hh.setFilter,args:[h,p.filter]}),c(f.minzoom,p.minzoom)&&c(f.maxzoom,p.maxzoom)||n.push({command:Hh.setLayerZoomRange,args:[h,p.minzoom,p.maxzoom]}),f)f.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Xh(f[g],p[g],n,h,g.slice(6),Hh.setPaintProperty):c(f[g],p[g])||n.push({command:Hh.setLayerProperty,args:[h,g,p[g]]}));for(g in p)p.hasOwnProperty(g)&&!f.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Xh(f[g],p[g],n,h,g.slice(6),Hh.setPaintProperty):c(f[g],p[g])||n.push({command:Hh.setLayerProperty,args:[h,g,p[g]]}))}else n.push({command:Hh.removeLayer,args:[h]}),m=s[s.lastIndexOf(h)+1],n.push({command:Hh.addLayer,args:[p,m]})}(o,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:Hh.setStyle,args:[t]}]}return n}(this.serialize(),e).filter(e=>!(e.command in Hf));if(0===t.length)return!1;const n=t.filter(e=>!(e.command in Gf));if(n.length>0)throw new Error(`Unimplemented: ${n.map(e=>e.command).join(", ")}.`);return t.forEach(e=>{"setTransition"!==e.command&&this[e.command].apply(this,e.args)}),this.stylesheet=e,!0}addImage(e,t){if(this.getImage(e))return this.fire(new et(new Error("An image with this name already exists.")));this.imageManager.addImage(e,t),this._afterImageUpdated(e)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new et(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new Je("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,t,n={}){if(this._checkLoaded(),void 0!==this.getSource(e))throw new Error("There is already a source with this ID");if(!t.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(t).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(t.type)>=0&&this._validate(oi.source,"sources."+e,t,null,n))return;this.map&&this.map._collectResourceTiming&&(t.collectResourceTiming=!0);const r=Ah(e,t,this.dispatcher,this);r.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:r.serialize(),sourceId:e}));const i=t=>{const n=(t?"symbol:":"other:")+e,i=this._sourceCaches[n]=new bh(n,r,t);(t?this._symbolSourceCaches:this._otherSourceCaches)[e]=i,i.style=this,i.onAdd(this.map)};i(!1),"vector"!==t.type&&"geojson"!==t.type||i(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(e){this._checkLoaded();const t=this.getSource(e);if(void 0===t)throw new Error("There is no source with this ID");for(const t in this._layers)if(this._layers[t].source===e)return this.fire(new et(new Error(`Source "${e}" cannot be removed while layer "${t}" is using it.`)));if(this.terrain&&this.terrain.get().source===e)return this.fire(new et(new Error(`Source "${e}" cannot be removed while terrain is using it.`)));const n=this._getSourceCaches(e);for(const e of n)delete this._sourceCaches[e.id],delete this._updatedSources[e.id],e.fire(new Je("data",{sourceDataType:"metadata",dataType:"source",sourceId:e.getSource().id})),e.setEventedParent(null),e.clearTiles();delete this._otherSourceCaches[e],delete this._symbolSourceCaches[e],t.setEventedParent(null),t.onRemove&&t.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}addLayer(e,t,n={}){this._checkLoaded();const r=e.id;if(this.getLayer(r))return void this.fire(new et(new Error(`Layer with id "${r}" already exists on this map`)));let i;if("custom"===e.type){if(Wf(this,function(e){const t=[],n=e.id;return void 0===n&&t.push({message:`layers.${n}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${n}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t}(e)))return;i=Cc(e)}else{if("object"==typeof e.source&&(this.addSource(r,e.source),e=E(e=D(e),{source:r})),this._validate(oi.layer,"layers."+r,e,{arrayIndex:-1},n))return;i=Cc(e),this._validateLayer(i),i.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[i.id]=i.serialize(),this._updateLayerCount(i,!0)}const o=t?this._order.indexOf(t):this._order.length;if(t&&-1===o)return void this.fire(new et(new Error(`Layer with id "${t}" does not exist on this map.`)));this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=i;const a=this._getLayerSourceCache(i);if(this._removedLayers[r]&&i.source&&a&&"custom"!==i.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",a.pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(e,t){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new et(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===t)return;const n=this._order.indexOf(e);this._order.splice(n,1);const r=t?this._order.indexOf(t):this._order.length;t&&-1===r?this.fire(new et(new Error(`Layer with id "${t}" does not exist on this map.`))):(this._order.splice(r,0,e),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(e){this._checkLoaded();const t=this._layers[e];if(!t)return void this.fire(new et(new Error(`The layer '${e}' does not exist in the map's style and cannot be removed.`)));t.setEventedParent(null),this._updateLayerCount(t,!1);const n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=t,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],t.onRemove&&t.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(e,t,n){this._checkLoaded();const r=this.getLayer(e);r?r.minzoom===t&&r.maxzoom===n||(null!=t&&(r.minzoom=t),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new et(new Error(`The layer '${e}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(e,t,n={}){this._checkLoaded();const r=this.getLayer(e);if(r){if(!c(r.filter,t))return null==t?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(oi.filter,`layers.${r.id}.filter`,t,null,n)||(r.filter=D(t),this._updateLayer(r)))}else this.fire(new et(new Error(`The layer '${e}' does not exist in the map's style and cannot be filtered.`)))}getFilter(e){return D(this.getLayer(e).filter)}setLayoutProperty(e,t,n,r={}){this._checkLoaded();const i=this.getLayer(e);i?c(i.getLayoutProperty(t),n)||(i.setLayoutProperty(t,n,r),this._updateLayer(i)):this.fire(new et(new Error(`The layer '${e}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(e,t){const n=this.getLayer(e);if(n)return n.getLayoutProperty(t);this.fire(new et(new Error(`The layer '${e}' does not exist in the map's style.`)))}setPaintProperty(e,t,n,r={}){this._checkLoaded();const i=this.getLayer(e);i?c(i.getPaintProperty(t),n)||(i.setPaintProperty(t,n,r)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new et(new Error(`The layer '${e}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(e,t){this._checkLoaded();const n=e.source,r=e.sourceLayer,i=this.getSource(n);if(void 0===i)return void this.fire(new et(new Error(`The source '${n}' does not exist in the map's style.`)));const o=i.type;if("geojson"===o&&r)return void this.fire(new et(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===o&&!r)return void this.fire(new et(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===e.id&&this.fire(new et(new Error("The feature id parameter must be provided.")));const a=this._getSourceCaches(n);for(const n of a)n.setFeatureState(r,e.id,t)}removeFeatureState(e,t){this._checkLoaded();const n=e.source,r=this.getSource(n);if(void 0===r)return void this.fire(new et(new Error(`The source '${n}' does not exist in the map's style.`)));const i=r.type,o="vector"===i?e.sourceLayer:void 0;if("vector"===i&&!o)return void this.fire(new et(new Error("The sourceLayer parameter must be provided for vector source types.")));if(t&&"string"!=typeof e.id&&"number"!=typeof e.id)return void this.fire(new et(new Error("A feature id is required to remove its specific state property.")));const a=this._getSourceCaches(n);for(const n of a)n.removeFeatureState(o,e.id,t)}getFeatureState(e){this._checkLoaded();const t=e.source,n=e.sourceLayer,r=this.getSource(t);if(void 0!==r){if("vector"!==r.type||n)return void 0===e.id&&this.fire(new et(new Error("The feature id parameter must be provided."))),this._getSourceCaches(t)[0].getFeatureState(n,e.id);this.fire(new et(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new et(new Error(`The source '${t}' does not exist in the map's style.`)))}getTransition(){return E({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const e={};for(const t in this._sourceCaches){const n=this._sourceCaches[t].getSource();e[n.id]||(e[n.id]=n.serialize())}return I({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e,layers:this._serializeLayers(this._order)},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},r=[];for(let i=this._order.length-1;i>=0;i--){const o=this._order[i];if(t(o)){n[o]=i;for(const t of e){const e=t[o];if(e)for(const t of e)r.push(t)}}}r.sort((e,t)=>t.intersectionZ-e.intersectionZ);const i=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=r.length-1;e>=0;e--){const t=r[e].feature;if(n[t.layer.id]<o)break;i.push(t),r.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)i.push(t.feature)}}return i}queryRenderedFeatures(e,t,n){t&&t.filter&&this._validate(oi.filter,"queryRenderedFeatures.filter",t.filter,null,t);const r={};if(t&&t.layers){if(!Array.isArray(t.layers))return this.fire(new et(new Error("parameters.layers must be an Array."))),[];for(const e of t.layers){const t=this._layers[e];if(!t)return this.fire(new et(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];r[t.source]=!0}}const i=[];t.availableImages=this._availableImages;const o=t&&t.layers?t.layers.some(e=>{const t=this.getLayer(e);return t&&t.is3D()}):this.has3DLayers(),a=id.createFromScreenPoints(e,n);for(const e in this._sourceCaches){const s=this._sourceCaches[e].getSource().id;t.layers&&!r[s]||i.push(Dh(this._sourceCaches[e],this._layers,this._serializedLayers,a,t,n,o,!!this.map._showQueryGeometry))}return this.placement&&i.push(function(e,t,n,r,i,o,a){const s={},l=o.queryRenderedSymbols(r),u=[];for(const e of Object.keys(l).map(Number))u.push(a[e]);u.sort(zh);for(const n of u){const r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(const e in r){const t=s[e]=s[e]||[],i=r[e];i.sort((e,t)=>{const r=n.featureSortOrder;if(r){const n=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-n}return t.featureIndex-e.featureIndex});for(const e of i)t.push(e)}}for(const t in s)s[t].forEach(r=>{const i=r.feature,o=n(e[t]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o});return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),a.screenGeometry,t,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(i)}querySourceFeatures(e,t){t&&t.filter&&this._validate(oi.filter,"querySourceFeatures.filter",t.filter,null,t);const n=this._getSourceCaches(e);let r=[];for(const e of n)r=r.concat(Lh(e,t));return r}addSourceType(e,t,n){return Zf.getSourceType(e)?n(new Error(`A source type called "${e}" already exists.`)):(Zf.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(e,t={}){this._checkLoaded();const n=this.light.getLight();let r=!1;for(const t in e)if(!c(e[t],n[t])){r=!0;break}if(!r)return;const i={now:$.now(),transition:E({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,t),this.light.updateTransitions(i)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(e){if(this._checkLoaded(),!e)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),void this._force3DLayerUpdate();if("object"==typeof e.source){const t="terrain-dem-src";this.addSource(t,e.source),e=E(e=D(e),{source:t})}if(!this._validate(oi.terrain,"terrain",e)){if(this.terrain){const t=this.terrain,n=t.get();for(const r in e)if(!c(e[r],n[r])){t.set(e),this.stylesheet.terrain=e;const n={now:$.now(),transition:E({duration:0},this.stylesheet.transition)};t.updateTransitions(n);break}}else this._createTerrain(e);this._updateDrapeFirstLayers()}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter(e=>this.isLayerDraped(this._layers[e])),t=this._order.filter(e=>!this.isLayerDraped(this._layers[e]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e){const t=this.terrain=new Vc(e);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const n={now:$.now(),transition:E({duration:0},this.stylesheet.transition)};t.updateTransitions(n)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_validate(e,t,n,r,i={}){return(!i||!1!==i.validate)&&Wf(this,e.call(oi,E({key:t,style:this.serialize(),value:n,styleSpec:nt},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),Fi.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(e,t,n,r,i=!1){let o=!1,a=!1;const s={};for(const t of this._order){const n=this._layers[t];if("symbol"!==n.type)continue;if(!s[n.source]){const e=this._getLayerSourceCache(n);if(!e)continue;s[n.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}const r=this.crossTileSymbolIndex.addLayer(n,s[n.source],e.center.lng);o=o||r}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),i=i||this._layerOrderChanged||0===n,this._layerOrderChanged&&this.fire(new Je("neworder")),(i||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent($.now(),e.zoom))&&(this.pauseablePlacement=new Ff(e,this._order,i,t,n,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit($.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,s[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions($.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const r=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};r(this._otherSourceCaches[t.source]),r(this._symbolSourceCaches[t.source])}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}getResource(e,t,n){return Ve(t,n)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}}Zf.getSourceType=function(e){return Mh[e]},Zf.setSourceType=function(e,t){Mh[e]=t},Zf.registerForPluginStateChange=function(e){return e({pluginStatus:Di,pluginURL:Li}),Fi.on("pluginStateChange",e),e};var Kf="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Xf={};Xf=Jf("","\n#define ELEVATION_SCALE 7.3\n#ifdef TERRAIN\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);}float prevElevation(vec2 apos) {float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*word/ELEVATION_SCALE;}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0);const Yf=Jf("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nconst float PI=3.141592653589793;","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const float PI=3.141592653589793;const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.");var Qf={background:Jf("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Jf("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Jf("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:Jf("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Jf("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}"),heatmapTexture:Jf("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Jf("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Jf("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Jf("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:Jf("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:Jf("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:Jf("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:Jf("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:Jf("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);gl_Position=mix(u_matrix*vec4(pos_nx.xy,h,1),AWAY,hidden);\n#else\ngl_Position=u_matrix*vec4(pos_nx.xy,t > 0.0 ? height : base,1);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:Jf("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);gl_Position=mix(u_matrix*vec4(pos_nx.xy,h,1),AWAY,hidden);\n#else\ngl_Position=u_matrix*vec4(pos_nx.xy,z,1);\n#endif\nvec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:Jf("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Jf("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Jf("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:Jf("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:Jf("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:Jf("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:Jf("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Jf("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),symbolSDF:Jf("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Jf("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrainRaster:Jf("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {gl_FragColor=texture2D(u_image0,v_pos0);\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);}"),terrainDepth:Jf("#ifdef GL_ES\nprecision highp float;\n#endif\nvec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Jf("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(vec3(p.xyx)*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;color.rgb+=rnd/255.0;return color;}float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Kf),skyboxGradient:Jf("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform lowp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(vec3(p.xyx)*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;color.rgb+=rnd/255.0;return color;}void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5))*u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Kf),skyboxCapture:Jf("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}")};function Jf(e,t,n){const r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),o=e.match(/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g);let s=a?a.concat(o):o;n||(s=Xf.staticUniforms.concat(s));const l={};return{fragmentSource:e=e.replace(r,(e,t,n,r,i)=>(l[i]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nvarying ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = u_${i};\n#endif\n`)),vertexSource:t=t.replace(r,(e,t,n,r,i)=>{const o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return l[i]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${n} ${o} a_${i};\nvarying ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${n} ${o} a_${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`}),staticAttributes:i,staticUniforms:s}}class ep{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,n,r,i,o,a,s){this.context=e;let l=this.boundPaintVertexBuffers.length!==r.length;for(let e=0;!l&&e<r.length;e++)this.boundPaintVertexBuffers[e]!==r[e]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,o,a,s)}freshBind(e,t,n,r,i,o,a){let s;const l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(let e=l;e<s;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e);for(const t of n)t.enableAttributes(c,e);o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(const t of n)t.bind(),t.setVertexAttribPointers(c,e,i);o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),u.currentNumAttributes=l}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function tp(e,t){const n=Math.pow(2,t.canonical.z),r=t.canonical.y;return[new rd(0,r/n).toLngLat().lat,new rd(0,(r+1)/n).toLngLat().lat]}function np(e,t,n,r,i,o,a){const s=e.context,l=s.gl,u=n.fbo;if(!u)return;e.prepareDrawTile(t);const c=e.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get());const d=((e,t,n,r)=>{const i=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color");let s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:r||e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:tp(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}})(e,n,r,e.terrain?t.posMatrix:null);c.draw(s,l.TRIANGLES,i,o,a,yh.disabled,d,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function rp(e,t,n){if(!t.needsDEMTextureUpload)return;const r=e.context,i=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),t.demTexture=t.demTexture||e.getTileTexture(n.stride);const o=n.getPixels();t.demTexture?t.demTexture.update(o,{premultiply:!1}):t.demTexture=new Ic(r,o,i.RGBA,{premultiply:!1}),t.needsDEMTextureUpload=!1}function ip(e,t,n,r,i,o){const a=e.context,s=a.gl;if(!t.dem)return;const l=t.dem;if(a.activeTexture.set(s.TEXTURE1),rp(e,t,l),!t.demTexture)return;t.demTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE);const u=l.dim;a.activeTexture.set(s.TEXTURE0);let c=t.fbo;if(!c){const e=new Ic(a,{width:u,height:u,data:null},s.RGBA);e.bind(s.LINEAR,s.CLAMP_TO_EDGE),c=t.fbo=a.createFramebuffer(u,u,!0),c.colorAttachment.set(e.texture)}a.bindFramebuffer.set(c.framebuffer),a.viewport.set([0,0,u,u]),e.useProgram("hillshadePrepare").draw(a,s.TRIANGLES,r,i,o,yh.disabled,((e,t)=>{const n=t.stride,r=Xa();return ss(r,0,Sa,-8192,0,0,1),es(r,r,[0,-8192,0]),{u_matrix:r,u_image:1,u_dimension:[n,n],u_zoom:e.overscaledZ,u_unpack:t.unpackVector}})(t.tileID,l),n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),t.needsHillshadePrepare=!1}const op=(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_image0:new Qo(e,t.u_image0),u_skirt_height:new Jo(e,t.u_skirt_height)}),ap=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),sp=new class{constructor(){this.operations={}}newMorphing(e,t,n,r,i){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==n.tileID.key&&(t.queued=n)}else this.operations[e]={startTime:r,phase:0,duration:i,from:t,to:n,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const n=this.operations[t];for(n.phase=(e-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},lp={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function up(e,t,n,r,i){const o=e.context,a=o.gl;let s,l;const u=e.options.showTerrainWireframe?2:0,c=(t,n)=>{if(l===t)return;const r=[lp[t]];n&&r.push(lp[u]),s=e.useProgram("terrainRaster",null,r),l=t},d=e.colorModeForRenderPass(),h=new mh(a.LEQUAL,mh.ReadWrite,e.depthRangeFor3D);sp.update(i);const f=e.transform,p=6*Math.pow(1.5,22-f.zoom)*t.exaggeration();(u?[!1,!0]:[!1]).forEach(e=>{l=-1;const u=e?a.LINES:a.TRIANGLES,[g,_]=e?t.getWirefameBuffer():[t.gridIndexBuffer,t.gridSegments];for(const l of r){const r=n.getTile(l),b=gh.disabled,x=t.prevTerrainTileForTile[l.key],w=t.terrainTileForTile[l.key];v=w,null!=(y=x)&&null!=v&&y.hasData()&&v.hasData()&&null!=y.demTexture&&null!=v.demTexture&&y.tileID.key!==v.tileID.key&&sp.newMorphing(l.key,x,w,i,250),o.activeTexture.set(a.TEXTURE0),r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);const S=sp.getMorphValuesForProxy(l.key),E=S?1:0;let T;S&&(T={morphing:{srcDemTile:S.from,dstDemTile:S.to,phase:m(S.phase)}});const k=ap(l.posMatrix,cp(l.canonical,f.renderWorldCopies)?p/10:p);c(E,e),t.setupElevationDraw(r,s,T),s.draw(o,u,h,b,d,yh.backCCW,k,"terrain_raster",t.gridBuffer,g,_)}var y,v})}function cp(e,t){const n=1<<e.z;return!t&&(0===e.x||e.x===n-1)||0===e.y||e.y===n-1}const dp=e=>({u_matrix:e});function hp(e,t,n,r,i){if(i>0){const o=$.now(),a=(o-e.timeAdded)/i,s=t?(o-t.timeAdded)/i:-1,l=n.getSource(),u=r.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),c=!t||Math.abs(t.tileID.overscaledZ-u)>Math.abs(e.tileID.overscaledZ-u),d=c&&e.refreshedUponExpiration?1:b(c?a:1-s,0,1);return e.refreshedUponExpiration&&a>=1&&(e.refreshedUponExpiration=!1),t?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class fp extends bh{constructor(e){const t=Ah("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new Hc(Vh(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(e,t,n){if(e.freezeTileCoverage)return;this.transform=e;const r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,useElevationData:!0}).reduce((t,n)=>{if(t[n.key]="",!this._tiles[n.key]){const t=new gd(n,this._source.tileSize*n.overscaleFactor(),e.tileZoom);t.state="loaded",this._tiles[n.key]=t}return t},{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].state="unloaded",delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const n=Object.values(t);this.renderCachePool.push(...n),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach(e=>e.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class pp extends ud{constructor(e,t,n){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.posMatrix=n}}class mp extends class{getAtPoint(e,t=0){const n=this._source();if(!n)return t;if(e.y<0||e.y>1)return t;const r=n.getSource().maxzoom,i=1<<r,o=Math.floor(e.x),a=e.x-o,s=new ud(r,o,r,Math.floor(a*i),Math.floor(e.y*i)),l=this.findDEMTileFor(s);if(!l||!l.dem)return t;const u=l.dem,c=1<<l.tileID.canonical.z,d=(a*c-l.tileID.canonical.x)*u.dim,h=(e.y*c-l.tileID.canonical.y)*u.dim,f=Math.floor(d),p=Math.floor(h);return this.exaggeration()*bn(bn(u.get(f,p),u.get(f,p+1),h-p),bn(u.get(f+1,p),u.get(f+1,p+1),h-p),d-f)}getAtTileOffset(e,t,n){const r=1<<e.canonical.z;return this.getAtPoint(new rd(e.wrap+(e.canonical.x+t/Sa)/r,(e.canonical.y+n/Sa)/r))}getForTilePoints(e,t,n,r){const i=Sh.create(this,e,r);return!!i&&(t.forEach(e=>{e[2]=this.exaggeration()*i.getElevationAt(e[0],e[1],n)}),!0)}getMinMaxForTile(e){const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const n=t.dem.tree,r=t.tileID,i=1<<e.canonical.z-r.canonical.z;let o=e.canonical.x/i-r.canonical.x,a=e.canonical.y/i-r.canonical.y,s=0;for(let t=0;t<e.canonical.z-r.canonical.z&&!n.leaves[s];t++){o*=2,a*=2;const e=2*Math.floor(a)+Math.floor(o);s=n.childOffsets[s]+e,o%=1,a%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(e,t,n){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}}{constructor(e,t){super(),this.painter=e,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[n,r,i]=function(e){const t=new co,n=new wo,r=131;t.reserve(17161),n.reserve(33800);for(let e=-64;e<8288;e+=64)for(let n=-64;n<8288;n+=64){const r=n<0||n>8224||e<0||e>8224?24575:0,i=b(Math.round(n),0,Sa),o=b(Math.round(e),0,Sa);t.emplaceBack(i+r,o,i,o)}const i=(e,t)=>{const i=t*r+e;n.emplaceBack(i+1,i,i+r),n.emplaceBack(i+r,i+r+1,i+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)i(t,e);return[0,129].forEach(e=>{for(let t=0;t<130;t++)i(t,e),i(e,t)}),[t,n,32768]}(),o=e.context;this.gridBuffer=o.createVertexBuffer(n,Rh.members),this.gridIndexBuffer=o.createIndexBuffer(r),this.gridSegments=wa.simpleSegment(0,0,n.length,r.length),this.gridNoSkirtSegments=wa.simpleSegment(0,0,n.length,i),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new fp(t.map),this.orthoMatrix=Xa(),ss(this.orthoMatrix,0,Sa,0,Sa,0,1);const a=o.gl;this._overlapStencilMode=new gh({func:a.GEQUAL,mask:255},0,255,a.KEEP,a.KEEP,a.REPLACE),this._previousZoom=e.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=t,this._useVertexMorphing=!0,this._exaggeration=1}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}update(e,t,n){if(e&&e.terrain){this._style!==e&&(this.style=e),this.enabled=!0;const r=e.terrain.properties;this.sourceCache=e._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const i=()=>{this.sourceCache.used&&z(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const e=this.sourceCache.getSource().tileSize/128,n=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(t,e*n,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,i(),this._initializing=!0),i(),t.updateElevation(!n),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(t),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const e=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==e.efficiency&&z(`Terrain render cache efficiency is not optimal (${e.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${e.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(e=>e.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(e){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const t=this.proxySourceCache,n=this.painter.transform;this._initializing&&(this._initializing=0===n._centerAltitude&&-1===this.getAtPoint(rd.fromLngLat(n.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.painter.options;this.renderCached=(r.zooming||r.moving||r.rotating||!!this.forceRenderCached)&&!this._invalidateRenderCache,this._invalidateRenderCache=!1;const i=this.proxyCoords=t.getIds().map(e=>{const r=t.getTileByID(e).tileID;return r.posMatrix=n.calculatePosMatrix(r.toUnwrapped()),r});!function(e,t){const n=t.transform.pointCoordinate(t.transform.getCameraPoint()),r=new s(n.x,n.y);e.sort((e,t)=>{if(t.overscaledZ-e.overscaledZ)return t.overscaledZ-e.overscaledZ;const n=new s(e.canonical.x+(1<<e.canonical.z)*e.wrap,e.canonical.y),i=new s(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=r.mult(1<<e.canonical.z);return o.x-=.5,o.y-=.5,o.distSqr(n)-o.distSqr(i)})}(i,this.painter),this._previousZoom=n.zoom;const o=this.proxyToSource||{};this.proxyToSource={},i.forEach(e=>{this.proxyToSource[e.key]={}}),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const t in a){const n=a[t];if(!n.used)continue;if(n!==this.sourceCache&&(this._findCoveringTileCache[n.id]={}),this._setupProxiedCoordsForOrtho(n,e[t],o),n.usedForTerrain)continue;const r=e[t];n.getSource().reparseOverscaled&&this._assignTerrainTiles(r)}this.proxiedCoords[t.id]=i.map(e=>new pp(e,e.key,this.orthoMatrix)),this._assignTerrainTiles(i),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._setupRenderCache(o),this.renderingToTexture=!1,this._initFBOPool(),this._updateTimestamp=$.now();const l={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const n=t.tileID.key;n in l||(this._visibleDemTiles.push(t),l[n]=n)}}_assignTerrainTiles(e){this._initializing||e.forEach(e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)})}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const n in this.terrainTileForTile){const r=this.terrainTileForTile[n],i=r.dem;!i||r.demTexture&&!r.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),rp(this.painter,r,i))}}_prepareDemTileUniforms(e,t,n,r){if(!t||null==t.demTexture)return!1;const i=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-i.z),a=r||"";return n["u_dem_tl"+a]=[i.x*o%1,i.y*o%1],n["u_dem_scale"+a]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce((t,n)=>{if(!n.dem)return t;const r=n.dem.tree.minimums[0];return r>0&&e++,t+r},0);return e?t/e:0}_updateEmptyDEMTexture(){const e=this.painter.context,t=e.gl;e.activeTexture.set(t.TEXTURE2);const n=this._getLoadedAreaMinimum(),r={width:1,height:1,data:new Uint8Array(Cd.pack(n,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let i=this._emptyDEMTexture;return i?i.update(r,{premultiply:!1}):i=this._emptyDEMTexture=new Ic(e,r,t.RGBA,{premultiply:!1}),i}setupElevationDraw(e,t,n){const r=this.painter.context,i=r.gl,o=(a=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:Cd.getUnpackVector(a),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var a;o.u_dem_size=this.sourceCache.getSource().tileSize,o.u_exaggeration=this.exaggeration();let s=null,l=null,u=1;if(n&&n.morphing&&this._useVertexMorphing){const t=n.morphing.srcDemTile,r=n.morphing.dstDemTile;u=n.morphing.phase,t&&r&&(this._prepareDemTileUniforms(e,t,o,"_prev")&&(l=t),this._prepareDemTileUniforms(e,r,o)&&(s=r))}if(l&&s?(r.activeTexture.set(i.TEXTURE2),s.demTexture.bind(i.NEAREST,i.CLAMP_TO_EDGE,i.NEAREST),r.activeTexture.set(i.TEXTURE4),l.demTexture.bind(i.NEAREST,i.CLAMP_TO_EDGE,i.NEAREST),o.u_dem_lerp=u):(s=this.terrainTileForTile[e.tileID.key],r.activeTexture.set(i.TEXTURE2),(this._prepareDemTileUniforms(e,s,o)?s.demTexture:this.emptyDEMTexture).bind(i.NEAREST,i.CLAMP_TO_EDGE,i.NEAREST)),n&&n.useDepthForOcclusion&&(r.activeTexture.set(i.TEXTURE3),this._depthTexture.bind(i.NEAREST,i.CLAMP_TO_EDGE,i.NEAREST),o.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),n&&n.useMeterToDem&&s){const e=(1<<s.tileID.canonical.z)*ed(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;o.u_meter_to_dem=e}n&&n.labelPlaneMatrixInv&&(o.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),t.setTerrainUniformValues(r,o)}renderBatch(e){if(0===this._drapedRenderBatches.length)return e+1;this.renderingToTexture=!0;const t=this.painter,n=this.painter.context,r=this.proxySourceCache,i=this.proxiedCoords[r.id],o=()=>{n.bindFramebuffer.set(null),n.viewport.set([0,0,t.width,t.height]),this.renderingToTexture=!1},a=this._drapedRenderBatches.shift();let s=[];const l=t.style.order;let u=0;for(let c=0;c<i.length;c++){const d=i[c],h=r.getTileByID(d.proxyTileKey),f=r.proxyCachedFBO[d.key]?r.proxyCachedFBO[d.key][e]:void 0;let p,m;if(p=this.currentFBO=void 0!==f?r.renderCache[f]:this.pool[u++],h.texture=p.tex,void 0===f||p.dirty){n.bindFramebuffer.set(p.fb.framebuffer),this.renderedToTile=!1,p.dirty&&(n.clear({color:Pt.transparent}),p.dirty=!1);for(let e=a.start;e<=a.end;++e){const r=t.style._layers[l[e]];if(r.isHidden(t.transform.zoom))continue;const i=t.style._getLayerSourceCache(r),o=i?this.proxyToSource[d.key][i.id]:[d];if(!o)continue;const a=o;n.viewport.set([0,0,p.fb.width,p.fb.height]),m!==(i?i.id:null)&&(this._setupStencil(o,r,i),m=i?i.id:null),t.renderLayer(t,i,r,a)}p.dirty=this.renderedToTile,this.renderedToTile&&s.push(h.tileID),5===u&&(u=0,s.length>0&&(o(),up(t,this,r,s,this._updateTimestamp),this.renderingToTexture=!0,s=[]))}else s.push(h.tileID)}return o(),s.length>0&&up(t,this,r,s,this._updateTimestamp),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let n,r=0,i=0,o=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(o&&++r,++i):o||(o=!0,n=t.id)}return 0===i?{efficiency:100}:{efficiency:100*(1-r/i),firstUndrapedLayer:n}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter(e=>e.dem).forEach(t=>{e=Math.min(e,t.dem.tree.minimums[0])}),0===e?e:(e-30)*this._exaggeration}raycast(e,t,n){if(!this._visibleDemTiles)return null;const r=this._visibleDemTiles.filter(e=>e.dem).map(r=>{const i=r.tileID,o=Math.pow(2,i.overscaledZ),{x:a,y:s}=i.canonical,l=a/o,u=(a+1)/o,c=s/o,d=(s+1)/o;return{minx:l,miny:c,maxx:u,maxy:d,t:r.dem.tree.raycastRoot(l,c,u,d,e,t,n),tile:r}});r.sort((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE));for(const i of r){if(null==i.t)return null;const r=i.tile.dem.tree.raycast(i.minx,i.miny,i.maxx,i.maxy,e,t,n);if(null!=r)return r}return null}_createFBO(){const e=this.painter.context,t=e.gl,n=this.drapeBufferSize;e.activeTexture.set(t.TEXTURE0);const r=new Ic(e,{width:n[0],height:n[1],data:null},t.RGBA);r.bind(t.LINEAR,t.CLAMP_TO_EDGE);const i=e.createFramebuffer(n[0],n[1],!1);return i.colorAttachment.set(r.texture),e.extTextureFilterAnisotropic&&!e.extTextureFilterAnisotropicForceOff&&t.texParameterf(t.TEXTURE_2D,e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.extTextureFilterAnisotropicMax),{fb:i,tex:r,dirty:!1,ref:1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){return!this.renderCached||this._style.order.some(e=>{const t=this._style._layers[e],n=!t.isHidden(this.painter.transform.zoom),r=t.getCrossfadeParameters();return"custom"!==t.type&&!n&&!!r&&1!==r.t})}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Ph){e=!0;break}if(e)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],n=t.isHidden(this.painter.transform.zoom),r=this._style._getLayerSourceCache(t);if("raster"!==t.type||n||!r)continue;const i=t.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t){const t=hp(r.getTile(e),r.findLoadedParent(e,0),r,this.painter.transform,i);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(r.id,e)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const n=[];let r,i=0,o=this._style._layers[e[i]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++i<t;)o=this._style._layers[e[i]];for(;i<t;++i){const t=this._style._layers[e[i]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===r&&(r=i):void 0!==r&&(n.push({start:r,end:i-1}),r=void 0))}void 0!==r&&n.push({start:r,end:i-1}),this._drapedRenderBatches=n}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()){if(t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let n=0;n<e.length;++n){const r=Object.values(e[n]);t.renderCachePool.push(...r)}}return}this._clearRasterFadeFromRenderCache();const n=this.proxyCoords,r=this._tilesDirty;for(let i=n.length-1;i>=0;i--){const o=n[i];if(t.getTileByID(o.key),void 0!==t.proxyCachedFBO[o.key]){const n=e[o.key],i=this.proxyToSource[o.key];let a=0;for(const e in i){const t=i[e],o=n[e];if(!o||o.length!==t.length||t.some((t,n)=>t!==o[n]||r[e]&&r[e].hasOwnProperty(t.key))){a=-1;break}++a}for(const e in t.proxyCachedFBO[o.key])t.renderCache[t.proxyCachedFBO[o.key][e]].dirty=a<0||a!==Object.values(n).length}else for(let e=0;e<this._drapedRenderBatches.length;++e){const n=this._drapedRenderBatches[e];let r=t.renderCachePool.pop();void 0===r&&t.renderCache.length<50&&(r=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==r&&(void 0===t.proxyCachedFBO[o.key]&&(t.proxyCachedFBO[o.key]={}),t.proxyCachedFBO[o.key][n.start]=r,t.renderCache[r].dirty=!0)}}this._tilesDirty={}}_setupStencil(e,t,n){if(!n||!this._sourceTilesOverlap[n.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,i=r.gl;if(e.length<=1)return void(this._overlapStencilType=!1);const o=this.currentFBO,a=o.fb;let s;if(t.isTileClipped())s=e.length,this._overlapStencilMode.test={func:i.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(e[0].overscaledZ>e[e.length-1].overscaledZ))return void(this._overlapStencilType=!1);s=1,this._overlapStencilMode.test={func:i.GREATER,mask:255},this._overlapStencilType="Mask"}if(!a.depthAttachment){const e=r.createRenderbuffer(r.gl.DEPTH_STENCIL,a.width,a.height);a.depthAttachment=new fh(r,a.framebuffer),a.depthAttachment.set(e),r.clear({stencil:0})}o.ref+s>255&&(r.clear({stencil:0}),o.ref=0),o.ref+=s,this._overlapStencilMode.ref=o.ref,t.isTileClipped()&&this._renderTileClippingMasks(e,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(e){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[e.key]),this._overlapStencilMode):gh.disabled}_renderTileClippingMasks(e,t){const n=this.painter,r=this.painter.context,i=r.gl;n._tileClippingMaskIDs={},r.setColorMode(_h.disabled),r.setDepthMode(mh.disabled);const o=n.useProgram("clippingMask");for(const a of e){const e=n._tileClippingMaskIDs[a.key]=--t;o.draw(r,i.TRIANGLES,mh.disabled,new gh({func:i.ALWAYS,mask:0},e,255,i.KEEP,i.KEEP,i.REPLACE),_h.disabled,yh.disabled,dp(a.posMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}pointCoordinate(e){const t=this.painter.transform;if(e.x<0||e.x>t.width||e.y<0||e.y>t.height)return null;const n=[e.x,e.y,1,1];ks(n,n,t.pixelMatrixInverse),Ts(n,n,1/n[3]),n[0]/=t.worldSize,n[1]/=t.worldSize;const r=t._camera.position,i=ed(1,t.center.lat),o=[r[0],r[1],r[2]/i,0],a=ps([],n.slice(0,3),o);_s(a,a);const s=this.raycast(o,a,this._exaggeration);return null!==s&&s?(gs(o,o,a,s),o[3]=o[2],o[2]*=i,o):null}drawDepth(){const e=this.painter,t=e.context,n=this.proxySourceCache,r=Math.ceil(e.width),i=Math.ceil(e.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===i||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const e=t.gl,n=t.createFramebuffer(r,i,!0);t.activeTexture.set(e.TEXTURE0);const o=new Ic(t,{width:r,height:i,data:null},e.RGBA);o.bind(e.NEAREST,e.CLAMP_TO_EDGE),n.colorAttachment.set(o.texture);const a=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,r,i);n.depthAttachment.set(a),this._depthFBO=n,this._depthTexture=o}t.bindFramebuffer.set(this._depthFBO.framebuffer),t.viewport.set([0,0,r,i]),function(e,t,n,r){const i=e.context,o=i.gl;i.clear({depth:1});const a=e.useProgram("terrainDepth"),s=new mh(o.LESS,mh.ReadWrite,e.depthRangeFor3D);for(const e of r){const r=n.getTile(e),l=ap(e.posMatrix,0);t.setupElevationDraw(r,a),a.draw(i,o.TRIANGLES,s,gh.disabled,_h.unblended,yh.backCCW,l,"terrain_depth",t.gridBuffer,t.gridIndexBuffer,t.gridNoSkirtSegments)}}(e,this,n,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,n){if(e.getSource()instanceof Oh)return this._setupProxiedCoordsForImageSource(e,t,n);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const r=this.proxiedCoords[e.id]=[],i=this.proxyCoords;for(let t=0;t<i.length;t++){const o=i[t],a=this._findTileCoveringTileID(o,e);if(a){const t=this._createProxiedId(o,a,n[o.key]&&n[o.key][e.id]);r.push(t),this.proxyToSource[o.key][e.id]=[t]}}let o=!1;for(let i=0;i<t.length;i++){const a=e.getTile(t[i]);if(!a||!a.hasData())continue;const s=this._findTileCoveringTileID(a.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==a.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],i=this._createProxiedId(s.tileID,a,n[s.tileID.key]&&n[s.tileID.key][e.id]);t?t.splice(t.length-1,0,i):this.proxyToSource[s.tileID.key][e.id]=[i],r.push(i),o=!0}}this._sourceTilesOverlap[e.id]=o}_setupProxiedCoordsForImageSource(e,t,n){if(!e.getSource().loaded())return;const r=this.proxiedCoords[e.id]=[],i=this.proxyCoords,o=e.getSource(),a=new s(o.tileID.x,o.tileID.y)._div(1<<o.tileID.z),l=o.coordinates.map(rd.fromLngLat).reduce((e,t)=>(e.min.x=Math.min(e.min.x,t.x-a.x),e.min.y=Math.min(e.min.y,t.y-a.y),e.max.x=Math.max(e.max.x,t.x-a.x),e.max.y=Math.max(e.max.y,t.y-a.y),e),{min:new s(Number.MAX_VALUE,Number.MAX_VALUE),max:new s(-Number.MAX_VALUE,-Number.MAX_VALUE)}),u=(e,t)=>{const n=e.wrap+e.canonical.x/(1<<e.canonical.z),r=e.canonical.y/(1<<e.canonical.z),i=Sa/(1<<e.canonical.z),o=t.wrap+t.canonical.x/(1<<t.canonical.z),a=t.canonical.y/(1<<t.canonical.z);return n+i<o+l.min.x||n>o+l.max.x||r+i<a+l.min.y||r>a+l.max.y};for(let o=0;o<i.length;o++){const a=i[o];for(let i=0;i<t.length;i++){const o=e.getTile(t[i]);if(!o||!o.hasData())continue;if(u(a,o.tileID))continue;const s=this._createProxiedId(a,o,n[a.key]&&n[a.key][e.id]),l=this.proxyToSource[a.key][e.id];l?l.push(s):this.proxyToSource[a.key][e.id]=[s],r.push(s)}}}_createProxiedId(e,t,n){let r=this.orthoMatrix;if(n){const e=n.find(e=>e.key===t.tileID.key);if(e)return e}if(t.tileID.key!==e.key){const n=e.canonical.z-t.tileID.canonical.z;let i,o,a;r=Xa();const s=t.tileID.wrap-e.wrap<<e.overscaledZ;n>0?(i=Sa>>n,o=i*((t.tileID.canonical.x<<n)-e.canonical.x+s),a=i*((t.tileID.canonical.y<<n)-e.canonical.y)):(i=Sa<<-n,o=Sa*(t.tileID.canonical.x-(e.canonical.x+s<<-n)),a=Sa*(t.tileID.canonical.y-(e.canonical.y<<-n))),ss(r,0,i,0,i,0,1),es(r,r,[o,a,0])}return new pp(t.tileID,e.key,r)}_findTileCoveringTileID(e,t){let n=t.getTile(e);if(n&&n.hasData())return n;const r=this._findCoveringTileCache[t.id],i=r[e.key];if(n=i?t.getTileByID(i):null,n&&n.hasData()||null===i)return n;let o=n?n.tileID:e,a=o.overscaledZ;const s=t.getSource().minzoom,l=[];if(!i){const r=t.getSource().maxzoom;if(e.canonical.z>=r){const n=e.canonical.z-r;t.getSource().reparseOverscaled?(a=Math.max(e.canonical.z+2,t.transform.tileZoom),o=new ud(a,e.wrap,r,e.canonical.x>>n,e.canonical.y>>n)):0!==n&&(a=r,o=new ud(a,e.wrap,r,e.canonical.x>>n,e.canonical.y>>n))}o.key!==e.key&&(l.push(o.key),n=t.getTile(o))}const u=e=>{l.forEach(t=>{r[t]=e}),l.length=0};for(a-=1;a>=s&&(!n||!n.hasData());a--){n&&u(n.tileID.key);const e=o.calculateScaledKey(a);if(n=t.getTileByID(e),n&&n.hasData())break;const i=r[e];if(null===i)break;void 0===i?l.push(e):n=t.getTileByID(i)}return u(n?n.tileID.key:null),n&&n.hasData()?n:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(e){this.renderedToTile||(this.renderedToTile=!0)}_clearRenderCacheForTile(e,t){let n=this._tilesDirty[e];n||(n=this._tilesDirty[e]={}),n[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const e=function(e){let t,n,r;const i=new Po,o=131;for(n=1;n<129;n++){for(t=1;t<129;t++)r=n*o+t,i.emplaceBack(r,r+1),i.emplaceBack(r,r+o),i.emplaceBack(r+1,r+o),128===n&&i.emplaceBack(r+o,r+o+1);i.emplaceBack(r+1,r+1+o)}return i}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(e),this.wireframeSegments=wa.simpleSegment(0,0,this.gridBuffer.length,e.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function gp(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const r=e[n].split(" ");t.push(r.pop())}return t}class _p{static cacheKey(e,t,n){let r=`${e}${n?n.cacheKey:""}`;for(const e of t)r+="/"+e;return r}constructor(e,t,n,r,i,o){const a=e.gl;this.program=a.createProgram();const s=gp(n.staticAttributes),l=r?r.getBinderAttributes():[],u=s.concat(l),c=n.staticUniforms?gp(n.staticUniforms):[],d=r?r.getBinderUniforms():[],h=c.concat(d),f=[];for(const e of h)f.indexOf(e)<0&&f.push(e);let p=r?r.defines():[];p=p.concat(o.map(e=>"#define "+e));const m=p.concat(Yf.fragmentSource,n.fragmentSource).join("\n"),g=p.concat(Yf.vertexSource,Xf.vertexSource,n.vertexSource).join("\n"),_=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(_,m),a.compileShader(_),a.attachShader(this.program,_);const y=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(y,g),a.compileShader(y),a.attachShader(this.program,y),this.attributes={};const v={};this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(a.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);a.linkProgram(this.program),a.deleteShader(y),a.deleteShader(_);for(let e=0;e<f.length;e++){const t=f[e];if(t&&!v[t]){const e=a.getUniformLocation(this.program,t);e&&(v[t]=e)}}this.fixedUniforms=i(e,v),this.binderUniforms=r?r.getUniforms(e,v):[],-1!==o.indexOf("TERRAIN")&&(this.terrainUniforms=((e,t)=>({u_dem:new Qo(e,t.u_dem),u_dem_prev:new Qo(e,t.u_dem_prev),u_dem_unpack:new na(e,t.u_dem_unpack),u_dem_tl:new ea(e,t.u_dem_tl),u_dem_scale:new Jo(e,t.u_dem_scale),u_dem_tl_prev:new ea(e,t.u_dem_tl_prev),u_dem_scale_prev:new Jo(e,t.u_dem_scale_prev),u_dem_size:new Jo(e,t.u_dem_size),u_dem_lerp:new Jo(e,t.u_dem_lerp),u_exaggeration:new Jo(e,t.u_exaggeration),u_depth:new Qo(e,t.u_depth),u_depth_size_inv:new ea(e,t.u_depth_size_inv),u_meter_to_dem:new Jo(e,t.u_meter_to_dem),u_label_plane_matrix_inv:new oa(e,t.u_label_plane_matrix_inv)}))(e,v))}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const n=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e].set(t[e])}}draw(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,m){const g=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o);for(const e in this.fixedUniforms)this.fixedUniforms[e].set(a[e]);f&&f.setUniforms(e,this.binderUniforms,d,{zoom:h});const _={[g.LINES]:2,[g.TRIANGLES]:3,[g.LINE_STRIP]:1}[t];for(const n of c.get()){const r=n.vaos||(n.vaos={});(r[s]||(r[s]=new ep)).bind(e,this,l,f?f.getPaintVertexBuffers():[],u,n.vertexOffset,p,m),g.drawElements(t,n.primitiveLength*_,g.UNSIGNED_SHORT,n.primitiveOffset*_*2)}}}function yp(e,t,n){const r=1/qc(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const vp=(e,t,n,r)=>{const i=t.style.light,o=i.properties.get("position"),a=[o.x,o.y,o.z],s=Ka();var l,u,c,d;"viewport"===i.properties.get("anchor")&&(l=s,u=-t.transform.angle,c=Math.sin(u),d=Math.cos(u),l[0]=d,l[1]=c,l[2]=0,l[3]=-c,l[4]=d,l[5]=0,l[6]=0,l[7]=0,l[8]=1,function(e,t,n){var r=t[0],i=t[1],o=t[2];e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8]}(a,a,s));const h=i.properties.get("color");return{u_matrix:e,u_lightpos:a,u_lightintensity:i.properties.get("intensity"),u_lightcolor:[h.r,h.g,h.b],u_vertical_gradient:+n,u_opacity:r}},bp=(e,t,n,r,i,o,a)=>E(vp(e,t,n,r),yp(o,t,a),{u_height_factor:-Math.pow(2,i.overscaledZ)/a.tileSize/8}),xp=e=>({u_matrix:e}),wp=(e,t,n,r)=>E(xp(e),yp(n,t,r)),Sp=(e,t)=>({u_matrix:e,u_world:t}),Ep=(e,t,n,r,i)=>E(wp(e,t,n,r),{u_world:i}),Tp=(e,t,n,r)=>{const i=e.transform;let o;if("map"===r.paint.get("circle-pitch-alignment")){const e=qc(n,1,i.zoom);o=[e,e]}else o=i.pixelsToGLUnits;return{u_camera_to_center_distance:i.cameraToCenterDistance,u_matrix:e.translatePosMatrix(t.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_device_pixel_ratio:$.devicePixelRatio,u_extrude_scale:o}},kp=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Cp=(e,t,n)=>{const r=Sa/n.tileSize;return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_extrude_scale:[t.pixelsToGLUnits[0]/r,t.pixelsToGLUnits[1]/r]}},Pp=(e,t,n=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}),Rp=(e,t,n,r)=>({u_matrix:e,u_extrude_scale:qc(t,1,n),u_intensity:r}),Op=(e,t,n,r)=>{const i=e.transform;return{u_matrix:Lp(e,t,n,r),u_ratio:1/qc(t,1,i.zoom),u_device_pixel_ratio:$.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Mp=(e,t,n,r,i)=>E(Op(e,t,n,r),{u_image:0,u_image_height:i}),Ap=(e,t,n,r,i)=>{const o=e.transform,a=Dp(t,o);return{u_matrix:Lp(e,t,n,i),u_texsize:t.imageAtlasTexture.size,u_ratio:1/qc(t,1,o.zoom),u_device_pixel_ratio:$.devicePixelRatio,u_image:0,u_scale:[a,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Ip=(e,t,n,r,i,o)=>{const a=e.lineAtlas,s=Dp(t,e.transform),l="round"===n.layout.get("line-cap"),u=a.getDash(r.from,l),c=a.getDash(r.to,l),d=u.width*i.fromScale,h=c.width*i.toScale;return E(Op(e,t,n,o),{u_patternscale_a:[s/d,-u.height/2],u_patternscale_b:[s/h,-c.height/2],u_sdfgamma:a.width/(256*Math.min(d,h)*$.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:i.t})};function Dp(e,t){return 1/qc(e,1,t.tileZoom)}function Lp(e,t,n,r){return e.translatePosMatrix(r||t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const zp=(e,t,n,r,i)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Np(i.paint.get("raster-hue-rotate"))};var o,a};function Np(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const Fp=(e,t,n,r,i,o,a,s,l,u)=>{const c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},Bp=(e,t,n,r,i,o,a,s,l,u,c)=>{const{cameraToCenterDistance:d,_pitch:h}=i.transform;return E(Fp(e,t,n,r,i,o,a,s,l,u),{u_gamma_scale:r?d*Math.cos(i.terrain?0:h):1,u_device_pixel_ratio:$.devicePixelRatio,u_is_halo:+c})},jp=(e,t,n,r,i,o,a,s,l,u)=>E(Bp(e,t,n,r,i,o,a,s,!0,l,!0),{u_texsize_icon:u,u_texture_icon:1}),Vp=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),Up=(e,t,n,r,i,o)=>E(function(e,t,n,r){const i=n.imageManager.getPattern(e.from.toString()),o=n.imageManager.getPattern(e.to.toString()),{width:a,height:s}=n.imageManager.getPixelSize(),l=Math.pow(2,r.tileID.overscaledZ),u=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,c=u*(r.tileID.canonical.x+r.tileID.wrap*l),d=u*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[a,s],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/qc(r,1,n.transform.tileZoom),u_pixel_coord_upper:[c>>16,d>>16],u_pixel_coord_lower:[65535&c,65535&d]}}(r,o,n,i),{u_matrix:e,u_opacity:t}),Wp={fillExtrusion:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_lightpos:new ta(e,t.u_lightpos),u_lightintensity:new Jo(e,t.u_lightintensity),u_lightcolor:new ta(e,t.u_lightcolor),u_vertical_gradient:new Jo(e,t.u_vertical_gradient),u_opacity:new Jo(e,t.u_opacity)}),fillExtrusionPattern:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_lightpos:new ta(e,t.u_lightpos),u_lightintensity:new Jo(e,t.u_lightintensity),u_lightcolor:new ta(e,t.u_lightcolor),u_vertical_gradient:new Jo(e,t.u_vertical_gradient),u_height_factor:new Jo(e,t.u_height_factor),u_image:new Qo(e,t.u_image),u_texsize:new ea(e,t.u_texsize),u_pixel_coord_upper:new ea(e,t.u_pixel_coord_upper),u_pixel_coord_lower:new ea(e,t.u_pixel_coord_lower),u_scale:new ta(e,t.u_scale),u_fade:new Jo(e,t.u_fade),u_opacity:new Jo(e,t.u_opacity)}),fill:(e,t)=>({u_matrix:new oa(e,t.u_matrix)}),fillPattern:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_image:new Qo(e,t.u_image),u_texsize:new ea(e,t.u_texsize),u_pixel_coord_upper:new ea(e,t.u_pixel_coord_upper),u_pixel_coord_lower:new ea(e,t.u_pixel_coord_lower),u_scale:new ta(e,t.u_scale),u_fade:new Jo(e,t.u_fade)}),fillOutline:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_world:new ea(e,t.u_world)}),fillOutlinePattern:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_world:new ea(e,t.u_world),u_image:new Qo(e,t.u_image),u_texsize:new ea(e,t.u_texsize),u_pixel_coord_upper:new ea(e,t.u_pixel_coord_upper),u_pixel_coord_lower:new ea(e,t.u_pixel_coord_lower),u_scale:new ta(e,t.u_scale),u_fade:new Jo(e,t.u_fade)}),circle:(e,t)=>({u_camera_to_center_distance:new Jo(e,t.u_camera_to_center_distance),u_extrude_scale:new ea(e,t.u_extrude_scale),u_device_pixel_ratio:new Jo(e,t.u_device_pixel_ratio),u_matrix:new oa(e,t.u_matrix)}),collisionBox:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_camera_to_center_distance:new Jo(e,t.u_camera_to_center_distance),u_extrude_scale:new ea(e,t.u_extrude_scale)}),collisionCircle:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_inv_matrix:new oa(e,t.u_inv_matrix),u_camera_to_center_distance:new Jo(e,t.u_camera_to_center_distance),u_viewport_size:new ea(e,t.u_viewport_size)}),debug:(e,t)=>({u_color:new ra(e,t.u_color),u_matrix:new oa(e,t.u_matrix),u_overlay:new Qo(e,t.u_overlay),u_overlay_scale:new Jo(e,t.u_overlay_scale)}),clippingMask:(e,t)=>({u_matrix:new oa(e,t.u_matrix)}),heatmap:(e,t)=>({u_extrude_scale:new Jo(e,t.u_extrude_scale),u_intensity:new Jo(e,t.u_intensity),u_matrix:new oa(e,t.u_matrix)}),heatmapTexture:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_world:new ea(e,t.u_world),u_image:new Qo(e,t.u_image),u_color_ramp:new Qo(e,t.u_color_ramp),u_opacity:new Jo(e,t.u_opacity)}),hillshade:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_image:new Qo(e,t.u_image),u_latrange:new ea(e,t.u_latrange),u_light:new ea(e,t.u_light),u_shadow:new ra(e,t.u_shadow),u_highlight:new ra(e,t.u_highlight),u_accent:new ra(e,t.u_accent)}),hillshadePrepare:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_image:new Qo(e,t.u_image),u_dimension:new ea(e,t.u_dimension),u_zoom:new Jo(e,t.u_zoom),u_unpack:new na(e,t.u_unpack)}),line:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_ratio:new Jo(e,t.u_ratio),u_device_pixel_ratio:new Jo(e,t.u_device_pixel_ratio),u_units_to_pixels:new ea(e,t.u_units_to_pixels)}),lineGradient:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_ratio:new Jo(e,t.u_ratio),u_device_pixel_ratio:new Jo(e,t.u_device_pixel_ratio),u_units_to_pixels:new ea(e,t.u_units_to_pixels),u_image:new Qo(e,t.u_image),u_image_height:new Jo(e,t.u_image_height)}),linePattern:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_texsize:new ea(e,t.u_texsize),u_ratio:new Jo(e,t.u_ratio),u_device_pixel_ratio:new Jo(e,t.u_device_pixel_ratio),u_image:new Qo(e,t.u_image),u_units_to_pixels:new ea(e,t.u_units_to_pixels),u_scale:new ta(e,t.u_scale),u_fade:new Jo(e,t.u_fade)}),lineSDF:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_ratio:new Jo(e,t.u_ratio),u_device_pixel_ratio:new Jo(e,t.u_device_pixel_ratio),u_units_to_pixels:new ea(e,t.u_units_to_pixels),u_patternscale_a:new ea(e,t.u_patternscale_a),u_patternscale_b:new ea(e,t.u_patternscale_b),u_sdfgamma:new Jo(e,t.u_sdfgamma),u_image:new Qo(e,t.u_image),u_tex_y_a:new Jo(e,t.u_tex_y_a),u_tex_y_b:new Jo(e,t.u_tex_y_b),u_mix:new Jo(e,t.u_mix)}),raster:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_tl_parent:new ea(e,t.u_tl_parent),u_scale_parent:new Jo(e,t.u_scale_parent),u_buffer_scale:new Jo(e,t.u_buffer_scale),u_fade_t:new Jo(e,t.u_fade_t),u_opacity:new Jo(e,t.u_opacity),u_image0:new Qo(e,t.u_image0),u_image1:new Qo(e,t.u_image1),u_brightness_low:new Jo(e,t.u_brightness_low),u_brightness_high:new Jo(e,t.u_brightness_high),u_saturation_factor:new Jo(e,t.u_saturation_factor),u_contrast_factor:new Jo(e,t.u_contrast_factor),u_spin_weights:new ta(e,t.u_spin_weights)}),symbolIcon:(e,t)=>({u_is_size_zoom_constant:new Qo(e,t.u_is_size_zoom_constant),u_is_size_feature_constant:new Qo(e,t.u_is_size_feature_constant),u_size_t:new Jo(e,t.u_size_t),u_size:new Jo(e,t.u_size),u_camera_to_center_distance:new Jo(e,t.u_camera_to_center_distance),u_pitch:new Jo(e,t.u_pitch),u_rotate_symbol:new Qo(e,t.u_rotate_symbol),u_aspect_ratio:new Jo(e,t.u_aspect_ratio),u_fade_change:new Jo(e,t.u_fade_change),u_matrix:new oa(e,t.u_matrix),u_label_plane_matrix:new oa(e,t.u_label_plane_matrix),u_coord_matrix:new oa(e,t.u_coord_matrix),u_is_text:new Qo(e,t.u_is_text),u_pitch_with_map:new Qo(e,t.u_pitch_with_map),u_texsize:new ea(e,t.u_texsize),u_texture:new Qo(e,t.u_texture)}),symbolSDF:(e,t)=>({u_is_size_zoom_constant:new Qo(e,t.u_is_size_zoom_constant),u_is_size_feature_constant:new Qo(e,t.u_is_size_feature_constant),u_size_t:new Jo(e,t.u_size_t),u_size:new Jo(e,t.u_size),u_camera_to_center_distance:new Jo(e,t.u_camera_to_center_distance),u_pitch:new Jo(e,t.u_pitch),u_rotate_symbol:new Qo(e,t.u_rotate_symbol),u_aspect_ratio:new Jo(e,t.u_aspect_ratio),u_fade_change:new Jo(e,t.u_fade_change),u_matrix:new oa(e,t.u_matrix),u_label_plane_matrix:new oa(e,t.u_label_plane_matrix),u_coord_matrix:new oa(e,t.u_coord_matrix),u_is_text:new Qo(e,t.u_is_text),u_pitch_with_map:new Qo(e,t.u_pitch_with_map),u_texsize:new ea(e,t.u_texsize),u_texture:new Qo(e,t.u_texture),u_gamma_scale:new Jo(e,t.u_gamma_scale),u_device_pixel_ratio:new Jo(e,t.u_device_pixel_ratio),u_is_halo:new Qo(e,t.u_is_halo)}),symbolTextAndIcon:(e,t)=>({u_is_size_zoom_constant:new Qo(e,t.u_is_size_zoom_constant),u_is_size_feature_constant:new Qo(e,t.u_is_size_feature_constant),u_size_t:new Jo(e,t.u_size_t),u_size:new Jo(e,t.u_size),u_camera_to_center_distance:new Jo(e,t.u_camera_to_center_distance),u_pitch:new Jo(e,t.u_pitch),u_rotate_symbol:new Qo(e,t.u_rotate_symbol),u_aspect_ratio:new Jo(e,t.u_aspect_ratio),u_fade_change:new Jo(e,t.u_fade_change),u_matrix:new oa(e,t.u_matrix),u_label_plane_matrix:new oa(e,t.u_label_plane_matrix),u_coord_matrix:new oa(e,t.u_coord_matrix),u_is_text:new Qo(e,t.u_is_text),u_pitch_with_map:new Qo(e,t.u_pitch_with_map),u_texsize:new ea(e,t.u_texsize),u_texsize_icon:new ea(e,t.u_texsize_icon),u_texture:new Qo(e,t.u_texture),u_texture_icon:new Qo(e,t.u_texture_icon),u_gamma_scale:new Jo(e,t.u_gamma_scale),u_device_pixel_ratio:new Jo(e,t.u_device_pixel_ratio),u_is_halo:new Qo(e,t.u_is_halo)}),background:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_opacity:new Jo(e,t.u_opacity),u_color:new ra(e,t.u_color)}),backgroundPattern:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_opacity:new Jo(e,t.u_opacity),u_image:new Qo(e,t.u_image),u_pattern_tl_a:new ea(e,t.u_pattern_tl_a),u_pattern_br_a:new ea(e,t.u_pattern_br_a),u_pattern_tl_b:new ea(e,t.u_pattern_tl_b),u_pattern_br_b:new ea(e,t.u_pattern_br_b),u_texsize:new ea(e,t.u_texsize),u_mix:new Jo(e,t.u_mix),u_pattern_size_a:new ea(e,t.u_pattern_size_a),u_pattern_size_b:new ea(e,t.u_pattern_size_b),u_scale_a:new Jo(e,t.u_scale_a),u_scale_b:new Jo(e,t.u_scale_b),u_pixel_coord_upper:new ea(e,t.u_pixel_coord_upper),u_pixel_coord_lower:new ea(e,t.u_pixel_coord_lower),u_tile_units_to_pixels:new Jo(e,t.u_tile_units_to_pixels)}),terrainRaster:op,terrainDepth:op,skybox:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_sun_direction:new ta(e,t.u_sun_direction),u_cubemap:new Qo(e,t.u_cubemap),u_opacity:new Jo(e,t.u_opacity),u_temporal_offset:new Jo(e,t.u_temporal_offset)}),skyboxGradient:(e,t)=>({u_matrix:new oa(e,t.u_matrix),u_color_ramp:new Qo(e,t.u_color_ramp),u_center_direction:new ta(e,t.u_center_direction),u_radius:new Jo(e,t.u_radius),u_opacity:new Jo(e,t.u_opacity),u_temporal_offset:new Jo(e,t.u_temporal_offset)}),skyboxCapture:(e,t)=>({u_matrix_3f:new sa(e,t.u_matrix_3f),u_sun_direction:new ta(e,t.u_sun_direction),u_sun_intensity:new Jo(e,t.u_sun_intensity),u_color_tint_r:new na(e,t.u_color_tint_r),u_color_tint_m:new na(e,t.u_color_tint_m),u_luminance:new Jo(e,t.u_luminance)})};let Gp;function Hp(e,t,n,r,i,o,a){const s=e.context,l=s.gl,u=e.useProgram("collisionBox"),c=[];let d=0,h=0;for(let f=0;f<r.length;f++){const p=r[f],m=t.getTile(p),g=m.getBucket(n);if(!g)continue;let _=p.posMatrix;0===i[0]&&0===i[1]||(_=e.translatePosMatrix(p.posMatrix,m,i,o));const y=a?g.textCollisionBox:g.iconCollisionBox,v=g.collisionCircleArray;if(v.length>0){const t=Xa(),n=_;ls(t,g.placementInvProjMatrix,e.transform.glCoordMatrix),ls(t,t,g.placementViewportMatrix),c.push({circleArray:v,circleOffset:h,transform:n,invTransform:t}),d+=v.length/4,h=d}y&&(e.terrain&&e.terrain.setupElevationDraw(m,u),u.draw(s,l.LINES,mh.disabled,gh.disabled,e.colorModeForRenderPass(),yh.disabled,Cp(_,e.transform,m),n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,null,e.transform.zoom,null,y.collisionVertexBuffer,y.collisionVertexBufferExt))}if(!a||!c.length)return;const f=e.useProgram("collisionCircle"),p=new bo;p.resize(4*d),p._trim();let m=0;for(const e of c)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,r=e.circleArray[n+0],i=e.circleArray[n+1],o=e.circleArray[n+2],a=e.circleArray[n+3];p.emplace(m++,r,i,o,a,0),p.emplace(m++,r,i,o,a,1),p.emplace(m++,r,i,o,a,2),p.emplace(m++,r,i,o,a,3)}(!Gp||Gp.length<2*d)&&(Gp=function(e){const t=2*e,n=new wo;n.resize(t),n._trim();for(let e=0;e<t;e++){const t=6*e;n.uint16[t+0]=4*e+0,n.uint16[t+1]=4*e+1,n.uint16[t+2]=4*e+2,n.uint16[t+3]=4*e+2,n.uint16[t+4]=4*e+3,n.uint16[t+5]=4*e+0}return n}(d));const g=s.createIndexBuffer(Gp,!0),_=s.createVertexBuffer(p,_u.members,!0);for(const t of c){const r={u_matrix:t.transform,u_inv_matrix:t.invTransform,u_camera_to_center_distance:(y=e.transform).cameraToCenterDistance,u_viewport_size:[y.width,y.height]};f.draw(s,l.TRIANGLES,mh.disabled,gh.disabled,e.colorModeForRenderPass(),yh.disabled,r,n.id,_,g,wa.simpleSegment(0,2*t.circleOffset,t.circleArray.length,t.circleArray.length/2),null,e.transform.zoom,null,null,null)}var y;_.destroy(),g.destroy()}const qp=Ya(new Float32Array(16));function $p(e,t,n,r,i,o){const{horizontalAlign:a,verticalAlign:l}=Qu(e),u=-(a-.5)*t,c=-(l-.5)*n,d=lc(e,r);return new s((u/i+d[0])*o,(c/i+d[1])*o)}function Zp(e,t,n,r,i,o,a,l,u,c,d,h){const f=e.text.placedSymbolArray,p=e.text.dynamicLayoutVertexArray,m=e.icon.dynamicLayoutVertexArray,g={};p.clear();for(let m=0;m<f.length;m++){const _=f.get(m),y=e.allowVerticalPlacement&&!_.placedOrientation,v=_.hidden||!_.crossTileID||y?null:r[_.crossTileID];if(v){const r=new s(_.anchorX,_.anchorY),f=h(r),m=rf(r,n?l:a,f),y=of(o.cameraToCenterDistance,m.signedDistanceFromCamera);let b=i.evaluateSizeForFeature(e.textSizeData,c,_)*y/24;n&&(b*=e.tilePixelRatio/u);const{width:x,height:w,anchor:S,textOffset:E,textBoxScale:T}=v,k=$p(S,x,w,E,T,b),C=n?rf(r.add(k),a,f).point:m.point.add(t?k.rotate(-o.angle):k),P=e.allowVerticalPlacement&&_.placedOrientation===Yu.vertical?Math.PI/2:0;for(let e=0;e<_.numGlyphs;e++)hc(p,C,P);d&&_.associatedIconIndex>=0&&(g[_.associatedIconIndex]={shiftedAnchor:C,angle:P})}else pf(_.numGlyphs,p)}if(d){m.clear();const t=e.icon.placedSymbolArray;for(let e=0;e<t.length;e++){const n=t.get(e);if(n.hidden)pf(n.numGlyphs,m);else{const t=g[e];if(t)for(let e=0;e<n.numGlyphs;e++)hc(m,t.shiftedAnchor,t.angle);else pf(n.numGlyphs,m)}}e.icon.dynamicLayoutVertexBuffer.updateData(m)}e.text.dynamicLayoutVertexBuffer.updateData(p)}function Kp(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Xp(e,t,n,r,i,o,a,s,l,u,c,d){const h=e.context,f=h.gl,p=e.transform,m="map"===s,g="map"===l,_=m&&"point"!==n.layout.get("symbol-placement"),y=m&&!g&&!_,v=void 0!==n.layout.get("symbol-sort-key").constantOr(1);let b=!1;const x=e.depthModeForSublayer(0,mh.ReadOnly),w=n.layout.get("text-variable-anchor"),S=[],E=e.terrain&&g?["PITCH_WITH_MAP_TERRAIN"]:null;for(const s of r){const r=t.getTile(s),l=r.getBucket(n);if(!l)continue;const c=i?l.text:l.icon;if(!c||!c.segments.get().length)continue;const d=c.programConfigurations.get(n.id),h=i||l.sdfIcons,x=i?l.textSizeData:l.iconSizeData,T=g||0!==p.pitch,k=e.useProgram(Kp(h,i,l),d,E),C=bu(x,p.zoom);let P,R,O,M,A=[0,0],I=null;if(i){if(R=r.glyphAtlasTexture,O=f.LINEAR,P=r.glyphAtlasTexture.size,l.iconsInText){A=r.imageAtlasTexture.size,I=r.imageAtlasTexture;const t="composite"===x.kind||"camera"===x.kind;M=T||e.options.rotating||e.options.zooming||t?f.LINEAR:f.NEAREST}}else{const t=1!==n.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;R=r.imageAtlasTexture,O=h||e.options.rotating||e.options.zooming||t||T?f.LINEAR:f.NEAREST,P=r.imageAtlasTexture.size}const D=qc(r,1,e.transform.zoom),L=tf(s.posMatrix,g,m,e.transform,D),z=e.terrain&&g&&_?Qa(new Float32Array(16),L):qp,N=nf(s.posMatrix,g,m,e.transform,D),F=w&&l.hasTextData(),B="none"!==n.layout.get("icon-text-fit")&&F&&l.hasIconData();if(_){const t=p.elevation;sf(l,s.posMatrix,e,i,L,N,g,u,t?e=>t.getAtTileOffset(s,e.x,e.y):null)}const j=e.translatePosMatrix(s.posMatrix,r,o,a),V=_||i&&w||B?qp:L,U=e.translatePosMatrix(N,r,o,a,!0),W=h&&0!==n.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1);let G;G=h?l.iconsInText?jp(x.kind,C,y,g,e,j,V,U,P,A):Bp(x.kind,C,y,g,e,j,V,U,i,P,!0):Fp(x.kind,C,y,g,e,j,V,U,i,P);const H={program:k,buffers:c,uniformValues:G,atlasTexture:R,atlasTextureIcon:I,atlasInterpolation:O,atlasInterpolationIcon:M,isSDF:h,hasHalo:W,tile:r,labelPlaneMatrixInv:z};if(v&&l.canOverlap){b=!0;const e=c.segments.get();for(const t of e)S.push({segments:new wa([t]),sortKey:t.sortKey,state:H})}else S.push({segments:c.segments,sortKey:0,state:H})}b&&S.sort((e,t)=>e.sortKey-t.sortKey);for(const t of S){const r=t.state;if(e.terrain&&e.terrain.setupElevationDraw(r.tile,r.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:r.labelPlaneMatrixInv}),h.activeTexture.set(f.TEXTURE0),r.atlasTexture.bind(r.atlasInterpolation,f.CLAMP_TO_EDGE),r.atlasTextureIcon&&(h.activeTexture.set(f.TEXTURE1),r.atlasTextureIcon&&r.atlasTextureIcon.bind(r.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),r.isSDF){const i=r.uniformValues;r.hasHalo&&(i.u_is_halo=1,Yp(r.buffers,t.segments,n,e,r.program,x,c,d,i)),i.u_is_halo=0}Yp(r.buffers,t.segments,n,e,r.program,x,c,d,r.uniformValues)}}function Yp(e,t,n,r,i,o,a,s,l){const u=r.context;i.draw(u,u.gl.TRIANGLES,o,a,s,yh.disabled,l,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Qp(e,t,n,r,i,o,a){const s=e.context.gl,l=n.paint.get("fill-pattern"),u=l&&l.constantOr(1),c=n.getCrossfadeParameters();let d,h,f,p,m;a?(h=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=s.LINES):(h=u?"fillPattern":"fill",d=s.TRIANGLES);for(const g of r){const r=t.getTile(g);if(u&&!r.patternsLoaded())continue;const _=r.getBucket(n);if(!_)continue;e.prepareDrawTile(g);const y=_.programConfigurations.get(n.id),v=e.useProgram(h,y);u&&(e.context.activeTexture.set(s.TEXTURE0),r.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),y.updatePaintBuffers(c));const b=l.constantOr(null);if(b&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[b.to.toString()],n=e.patternPositions[b.from.toString()];t&&n&&y.setConstantPatternPositions(t,n)}const x=e.translatePosMatrix(g.posMatrix,r,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){p=_.indexBuffer2,m=_.segments2;const t=e.terrain&&e.terrain.renderingToTexture?e.terrain.drapeBufferSize:[s.drawingBufferWidth,s.drawingBufferHeight];f="fillOutlinePattern"===h&&u?Ep(x,e,c,r,t):Sp(x,t)}else p=_.indexBuffer,m=_.segments,f=u?wp(x,e,c,r):xp(x);v.draw(e.context,d,i,e.stencilModeForClipping(g),o,yh.disabled,f,n.id,_.layoutVertexBuffer,p,m,n.paint,e.transform.zoom,y)}}function Jp(e,t,n,r,i,o,a){const s=e.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),d=n.getCrossfadeParameters(),h=n.paint.get("fill-extrusion-opacity");for(const f of r){const r=t.getTile(f),p=r.getBucket(n);if(!p)continue;const m=p.programConfigurations.get(n.id),g=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",m);if(e.terrain){const i=e.terrain;if(!p.enableTerrain)continue;if(i.setupElevationDraw(r,g,{useMeterToDem:!0}),em(s,t,f,p,n,i),!p.centroidVertexBuffer){const e=g.attributes.a_centroid_pos;void 0!==e&&l.vertexAttrib2f(e,0,0)}}c&&(e.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),m.updatePaintBuffers(d));const _=u.constantOr(null);if(_&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[_.to.toString()],n=e.patternPositions[_.from.toString()];t&&n&&m.setConstantPatternPositions(t,n)}const y=e.translatePosMatrix(f.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),v=n.paint.get("fill-extrusion-vertical-gradient"),b=c?bp(y,e,v,h,f,d,r):vp(y,e,v,h);g.draw(s,s.gl.TRIANGLES,i,o,a,yh.backCCW,b,n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,n.paint,e.transform.zoom,m,e.terrain?p.centroidVertexBuffer:null)}}function em(e,t,n,r,i,o){const a=[e=>{let t=e.canonical.x-1,n=e.wrap;return t<0&&(t=(1<<e.canonical.z)-1,n--),new ud(e.overscaledZ,n,e.canonical.z,t,e.canonical.y)},e=>{let t=e.canonical.x+1,n=e.wrap;return t===1<<e.canonical.z&&(t=0,n++),new ud(e.overscaledZ,n,e.canonical.z,t,e.canonical.y)},e=>new ud(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,(0===e.canonical.y?1<<e.canonical.z:e.canonical.y)-1),e=>new ud(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y===(1<<e.canonical.z)-1?0:e.canonical.y+1)],l=e=>{const n=t.getSource().maxzoom,r=e=>{const n=t.getTileByID(e);if(n&&n.hasData())return n.getBucket(i)};let o,a,s;return(e.overscaledZ===e.canonical.z||e.overscaledZ>=n)&&(o=r(e.key)),e.overscaledZ>=n&&(a=r(e.calculateScaledKey(e.overscaledZ+1))),e.overscaledZ>n&&(s=r(e.calculateScaledKey(e.overscaledZ-1))),o||a||s},u=[0,0,0],c=(e,t)=>(u[0]=Math.min(e.min.y,t.min.y),u[1]=Math.max(e.max.y,t.max.y),u[2]=Sa-t.min.x>e.max.x?t.min.x-Sa:e.max.x,u),d=(e,t)=>(u[0]=Math.min(e.min.x,t.min.x),u[1]=Math.max(e.max.x,t.max.x),u[2]=Sa-t.min.y>e.max.y?t.min.y-Sa:e.max.y,u),h=[(e,t)=>c(e,t),(e,t)=>c(t,e),(e,t)=>d(e,t),(e,t)=>d(t,e)],f=new s(0,0);let p,m,g;const _=(e,t,r,i,a)=>{const s=[[i?r:e,i?e:r,0],[i?r:t,i?t:r,0]],l=a<0?Sa+a:a,u=[i?l:(e+t)/2,i?(e+t)/2:l,0];return 0===r&&a<0||0!==r&&a>0?o.getForTilePoints(g,[u],!0,m):s.push(u),o.getForTilePoints(n,s,!0,p),Math.max(s[0][2],s[1][2],u[2])/o.exaggeration()};for(let e=0;e<4;e++){const t=r.borders[e];if(0===t.length&&(r.borderDone[e]=!0),r.borderDone[e])continue;const i=g=a[e](n),s=l(i);if(!s||!s.enableTerrain)continue;if(m=o.findDEMTileFor(i),!m||!m.dem)continue;if(!p){const e=o.findDEMTileFor(n);if(!e||!e.dem)return;p=e}const u=(e<2?1:5)-e,c=s.borders[u];let d=0;for(let n=0;n<t.length;n++){const i=r.featuresOnBorder[t[n]],o=i.borders[e];let a;for(;d<c.length&&(a=s.featuresOnBorder[c[d]],!(a.borders[u][1]>o[0]+3));)s.borderDone[u]||s.encodeCentroid(void 0,a,!1),d++;if(a&&d<c.length){const t=d;let n=0;for(;!(a.borders[u][0]>o[1]-3)&&(n++,++d!==c.length);)a=s.featuresOnBorder[c[d]];if(a=s.featuresOnBorder[c[t]],i.intersectsCount()>1||a.intersectsCount()>1||1!==n){1!==n&&(d=t),r.encodeCentroid(void 0,i,!1),s.borderDone[u]||s.encodeCentroid(void 0,a,!1);continue}const l=h[e](i,a),p=e%2?8191:0;f.x=_(l[0],Math.min(8191,l[1]),p,e<2,l[2]),f.y=0,r.encodeCentroid(f,i,!1),s.borderDone[u]||s.encodeCentroid(f,a,!1)}else r.encodeCentroid(void 0,i,!1)}r.borderDone[e]=r.needsCentroidUpdate=!0,s.borderDone[u]||(s.borderDone[u]=s.needsCentroidUpdate=!0)}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(e)}const tm=new Pt(1,0,0,1),nm=new Pt(0,1,0,1),rm=new Pt(0,0,1,1),im=new Pt(1,0,1,1),om=new Pt(0,1,1,1);function am(e,t,n,r){lm(e,0,t+n/2,e.transform.width,n,r)}function sm(e,t,n,r){lm(e,t-n/2,0,n,e.transform.height,r)}function lm(e,t,n,r,i,o){const a=e.context,s=a.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*$.devicePixelRatio,n*$.devicePixelRatio,r*$.devicePixelRatio,i*$.devicePixelRatio),a.clear({color:o}),s.disable(s.SCISSOR_TEST)}function um(e,t,n){const r=e.context,i=r.gl,o=n.posMatrix,a=e.useProgram("debug"),s=t.getTileByID(n.key);e.terrain&&e.terrain.setupElevationDraw(s,a);const l=mh.disabled,u=gh.disabled,c=e.colorModeForRenderPass(),d="$debug";r.activeTexture.set(i.TEXTURE0),e.emptyTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE),a.draw(r,i.LINE_STRIP,l,u,c,yh.disabled,Pp(o,Pt.red),d,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);const h=s.latestRawTileData,f=Math.floor((h&&h.byteLength||0)/1024),p=t.getTile(n).tileSize,m=512/Math.min(p,512)*(n.overscaledZ/e.transform.zoom)*.5;let g=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(g+=" => "+n.overscaledZ),function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,`${g} ${f}kb`),a.draw(r,i.TRIANGLES,l,u,_h.alphaBlended,yh.disabled,Pp(o,Pt.transparent,m),d,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}const cm=so([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:dm}=cm;function hm(e,t,n,r){e.emplaceBack(t,n,r)}class fm{constructor(e){this.vertexArray=new go,this.indices=new wo,hm(this.vertexArray,-1,-1,1),hm(this.vertexArray,1,-1,1),hm(this.vertexArray,-1,1,1),hm(this.vertexArray,1,1,1),hm(this.vertexArray,-1,-1,-1),hm(this.vertexArray,1,-1,-1),hm(this.vertexArray,-1,1,-1),hm(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=e.createVertexBuffer(this.vertexArray,dm),this.indexBuffer=e.createIndexBuffer(this.indices),this.segment=wa.simpleSegment(0,0,36,12)}}function pm(e,t,n,r,i,o){const a=e.gl,s=t.paint.get("sky-atmosphere-color"),l=t.paint.get("sky-atmosphere-halo-color"),u=t.paint.get("sky-atmosphere-sun-intensity"),c=((e,t,n,r,i)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:n,u_color_tint_r:[r.r,r.g,r.b,r.a],u_color_tint_m:[i.r,i.g,i.b,i.a],u_luminance:5e-5}))(((d=[])[0]=(h=r)[0],d[1]=h[1],d[2]=h[2],d[3]=h[4],d[4]=h[5],d[5]=h[6],d[6]=h[8],d[7]=h[9],d[8]=h[10],d),i,u,s,l);var d,h;a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+o,t.skyboxTexture,0),n.draw(e,a.TRIANGLES,mh.disabled,gh.disabled,_h.unblended,yh.frontCW,c,"skyboxCapture",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment)}const mm={symbol:function(e,t,n,r,i){if("translucent"!==e.renderPass)return;const o=gh.disabled,a=e.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(e,t,n,r,i,o,a){const s=t.transform,l="map"===i,u="map"===o;for(const i of e){const e=r.getTile(i),o=e.getBucket(n);if(!o||!o.text||!o.text.segments.get().length)continue;const c=bu(o.textSizeData,s.zoom),d=qc(e,1,t.transform.zoom),h=tf(i.posMatrix,u,l,t.transform,d),f="none"!==n.layout.get("icon-text-fit")&&o.hasIconData();if(c){const t=Math.pow(2,s.zoom-e.tileID.overscaledZ),n=s.elevation;Zp(o,l,u,a,xu,s,h,i.posMatrix,t,c,f,n?e=>n.getAtTileOffset(i,e.x,e.y):e=>0)}}}(r,e,n,t,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),i),0!==n.paint.get("icon-opacity").constantOr(1)&&Xp(e,t,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,a),0!==n.paint.get("text-opacity").constantOr(1)&&Xp(e,t,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,a),t.map.showCollisionBoxes&&(Hp(e,t,n,r,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Hp(e,t,n,r,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))},circle:function(e,t,n,r){if("translucent"!==e.renderPass)return;const i=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity"),s=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0===i.constantOr(1)&&(0===o.constantOr(1)||0===a.constantOr(1)))return;const l=e.context,u=l.gl,c=e.depthModeForSublayer(0,mh.ReadOnly),d=gh.disabled,h=e.colorModeForRenderPass(),f=[];for(let i=0;i<r.length;i++){const o=r[i],a=t.getTile(o),l=a.getBucket(n);if(!l)continue;const u=l.programConfigurations.get(n.id),c=kp(n),d={programConfiguration:u,program:e.useProgram("circle",u,c),layoutVertexBuffer:l.layoutVertexBuffer,indexBuffer:l.indexBuffer,uniformValues:Tp(e,o,a,n),tile:a};if(s){const e=l.segments.get();for(const t of e)f.push({segments:new wa([t]),sortKey:t.sortKey,state:d})}else f.push({segments:l.segments,sortKey:0,state:d})}s&&f.sort((e,t)=>e.sortKey-t.sortKey);for(const t of f){const{programConfiguration:r,program:i,layoutVertexBuffer:o,indexBuffer:a,uniformValues:s,tile:f}=t.state,p=t.segments;e.terrain&&e.terrain.setupElevationDraw(f,i,{useDepthForOcclusion:!0}),i.draw(l,u.TRIANGLES,c,d,h,yh.disabled,s,n.id,o,a,p,n.paint,e.transform.zoom,r)}},heatmap:function(e,t,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){const i=e.context,o=i.gl,a=gh.disabled,s=new _h([o.ONE,o.ONE],Pt.transparent,[!0,!0,!0,!0]);!function(e,t,n){const r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{const o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){const i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,o,i)}}(i,e,n),i.clear({color:Pt.transparent});for(let l=0;l<r.length;l++){const u=r[l];if(t.hasRenderableParent(u))continue;const c=t.getTile(u),d=c.getBucket(n);if(!d)continue;const h=d.programConfigurations.get(n.id),f=e.useProgram("heatmap",h),{zoom:p}=e.transform;e.terrain&&e.terrain.setupElevationDraw(c,f),f.draw(i,o.TRIANGLES,mh.disabled,a,s,yh.disabled,Rp(u.posMatrix,c,p,n.paint.get("heatmap-intensity")),n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,n.paint,e.transform.zoom,h)}i.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,t){const n=e.context,r=n.gl,i=t.heatmapFbo;if(!i)return;n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);let o=t.colorRampTexture;o||(o=t.colorRampTexture=new Ic(n,t.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(n,r.TRIANGLES,mh.disabled,gh.disabled,e.colorModeForRenderPass(),yh.disabled,((e,t,n,r)=>{const i=Xa();ss(i,0,e.width,e.height,0,0,1);const o=e.context.gl;return{u_matrix:i,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}})(e,t),t.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,t.paint,e.transform.zoom)}(e,n))},line:function(e,t,n,r){if("translucent"!==e.renderPass)return;const i=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0===i.constantOr(1)||0===o.constantOr(1))return;const a=e.depthModeForSublayer(0,mh.ReadOnly),s=e.colorModeForRenderPass(),l=n.paint.get("line-dasharray"),u=n.paint.get("line-pattern"),c=u.constantOr(1),d=n.paint.get("line-gradient"),h=n.getCrossfadeParameters(),f=c?"linePattern":l?"lineSDF":d?"lineGradient":"line",p=e.context,m=p.gl;let g=!0;for(const i of r){const r=t.getTile(i);if(c&&!r.patternsLoaded())continue;const o=r.getBucket(n);if(!o)continue;e.prepareDrawTile(i);const y=o.programConfigurations.get(n.id),v=e.context.program.get(),x=e.useProgram(f,y),w=g||x.program!==v,S=u.constantOr(null);if(S&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[S.to.toString()],n=e.patternPositions[S.from.toString()];t&&n&&y.setConstantPatternPositions(t,n)}const E=e.terrain?i.posMatrix:null,T=c?Ap(e,r,n,h,E):l?Ip(e,r,n,l,h,E):d?Mp(e,r,n,E,o.lineClipsArray.length):Op(e,r,n,E);if(c)p.activeTexture.set(m.TEXTURE0),r.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),y.updatePaintBuffers(h);else if(l&&(w||e.lineAtlas.dirty))p.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(p);else if(d){const r=o.gradients[n.id];let a=r.texture;if(n.gradientVersion!==r.version){let s=256;if(n.stepInterpolant){const n=t.getSource().maxzoom,r=i.canonical.z===n?Math.ceil(1<<e.transform.maxZoom-i.canonical.z):1;s=b((_=o.maxLineLength/Sa*1024*r)<=1?1:Math.pow(2,Math.ceil(Math.log(_)/Math.LN2)),256,p.maxTextureSize)}r.gradient=Gs({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:s,image:r.gradient||void 0,clips:o.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new Ic(p,r.gradient,m.RGBA),r.version=n.gradientVersion,a=r.texture}p.activeTexture.set(m.TEXTURE0),a.bind(n.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}x.draw(p,m.TRIANGLES,a,e.stencilModeForClipping(i),s,yh.disabled,T,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,n.paint,e.transform.zoom,y,o.layoutVertexBuffer2),g=!1}var _},fill:function(e,t,n,r){const i=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0===o.constantOr(1))return;const a=e.colorModeForRenderPass(),s=n.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!s.constantOr(1)&&1===i.constantOr(Pt.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){const i=e.depthModeForSublayer(1,"opaque"===e.renderPass?mh.ReadWrite:mh.ReadOnly);Qp(e,t,n,r,i,a,!1)}if("translucent"===e.renderPass&&n.paint.get("fill-antialias")){const i=e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,mh.ReadOnly);Qp(e,t,n,r,i,a,!0)}},"fill-extrusion":function(e,t,n,r){const i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){const o=new mh(e.context.gl.LEQUAL,mh.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))Jp(e,t,n,r,o,gh.disabled,_h.disabled),Jp(e,t,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const i=e.colorModeForRenderPass();Jp(e,t,n,r,o,gh.disabled,i)}}},hillshade:function(e,t,n,r){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const i=e.context,o=e.depthModeForSublayer(0,mh.ReadOnly),a=e.colorModeForRenderPass(),s=e.terrain&&e.terrain.renderingToTexture,[l,u]="translucent"!==e.renderPass||s?[{},r]:e.stencilConfigForOverlap(r);for(const r of u){const i=t.getTile(r);if(i.needsHillshadePrepare&&"offscreen"===e.renderPass)ip(e,i,n,o,gh.disabled,a);else if("translucent"===e.renderPass){const t=s&&e.terrain?e.terrain.stencilModeForRTTOverlap(r):l[r.overscaledZ];np(e,r,i,n,o,t,a)}}i.viewport.set([0,0,e.width,e.height])},raster:function(e,t,n,r,i,o){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const a=e.context,s=a.gl,l=t.getSource(),u=e.useProgram("raster"),c=e.colorModeForRenderPass(),d=e.terrain&&e.terrain.renderingToTexture,[h,f]=l instanceof Oh||d?[{},r]:e.stencilConfigForOverlap(r),p=f[f.length-1].overscaledZ,m=!e.options.moving;for(const r of f){const i=d?mh.disabled:e.depthModeForSublayer(r.overscaledZ-p,1===n.paint.get("raster-opacity")?mh.ReadWrite:mh.ReadOnly,s.LESS),f=t.getTile(r);if(d&&(!f||!f.hasData()))continue;const g=d?r.posMatrix:e.transform.calculatePosMatrix(r.toUnwrapped(),m),_=e.terrain&&d?e.terrain.stencilModeForRTTOverlap(r):h[r.overscaledZ],y=o?0:n.paint.get("raster-fade-duration");f.registerFadeDuration(y);const v=t.findLoadedParent(r,0),b=hp(f,v,t,e.transform,y);let x,w;e.terrain&&e.terrain.prepareDrawTile(r);const S="nearest"===n.paint.get("raster-resampling")?s.NEAREST:s.LINEAR;a.activeTexture.set(s.TEXTURE0),f.texture.bind(S,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(s.TEXTURE1),v?(v.texture.bind(S,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,v.tileID.overscaledZ-f.tileID.overscaledZ),w=[f.tileID.canonical.x*x%1,f.tileID.canonical.y*x%1]):f.texture.bind(S,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const E=zp(g,w||[0,0],x||1,b,n);l instanceof Oh?u.draw(a,s.TRIANGLES,i,gh.disabled,c,yh.disabled,E,n.id,l.boundsBuffer,e.quadTriangleIndexBuffer,l.boundsSegments):u.draw(a,s.TRIANGLES,i,_,c,yh.disabled,E,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n,r){const i=n.paint.get("background-color"),o=n.paint.get("background-opacity");if(0===o)return;const a=e.context,s=a.gl,l=e.transform,u=l.tileSize,c=n.paint.get("background-pattern");if(e.isPatternMissing(c))return;const d=!c&&1===i.a&&1===o&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==d)return;const h=gh.disabled,f=e.depthModeForSublayer(0,"opaque"===d?mh.ReadWrite:mh.ReadOnly),p=e.colorModeForRenderPass(),m=e.useProgram(c?"backgroundPattern":"background"),g=r||l.coveringTiles({tileSize:u});c&&(a.activeTexture.set(s.TEXTURE0),e.imageManager.bind(e.context));const _=n.getCrossfadeParameters();for(const t of g){const l=r?t.posMatrix:e.transform.calculatePosMatrix(t.toUnwrapped());e.prepareDrawTile(t);const d=c?Up(l,o,e,c,{tileID:t,tileSize:u},_):Vp(l,o,i);m.draw(a,s.TRIANGLES,f,h,p,yh.disabled,d,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}},sky:function(e,t,n){const r=n.paint.get("sky-opacity");if(0===r)return;const i=e.context,o=n.paint.get("sky-type"),a=new mh(i.gl.LEQUAL,mh.ReadOnly,[0,1]),s=e.frameCounter/1e3%1;"atmosphere"===o?"offscreen"===e.renderPass?n.needsSkyboxCapture(e)&&(function(e,t,n,r){const i=e.context,o=i.gl;let a=t.skyboxFbo;if(!a){a=t.skyboxFbo=i.createFramebuffer(32,32,!1),t.skyboxGeometry=new fm(i),t.skyboxTexture=i.gl.createTexture(),o.bindTexture(o.TEXTURE_CUBE_MAP,t.skyboxTexture),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MAG_FILTER,o.LINEAR);for(let e=0;e<6;++e)o.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,o.RGBA,32,32,0,o.RGBA,o.UNSIGNED_BYTE,null)}i.bindFramebuffer.set(a.framebuffer),i.viewport.set([0,0,32,32]);const s=t.getCenter(e,!0),l=e.useProgram("skyboxCapture"),u=new Float64Array(16);Ya(u),rs(u,u,.5*-Math.PI),pm(i,t,l,u,s,0),Ya(u),rs(u,u,.5*Math.PI),pm(i,t,l,u,s,1),Ya(u),ns(u,u,.5*-Math.PI),pm(i,t,l,u,s,2),Ya(u),ns(u,u,.5*Math.PI),pm(i,t,l,u,s,3),Ya(u),pm(i,t,l,u,s,4),Ya(u),rs(u,u,Math.PI),pm(i,t,l,u,s,5),i.viewport.set([0,0,e.width,e.height])}(e,n),n.markSkyboxValid(e)):"sky"===e.renderPass&&function(e,t,n,r,i){const o=e.context,a=o.gl,s=e.transform,l=e.useProgram("skybox");o.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_CUBE_MAP,t.skyboxTexture);const u=((e,t,n,r,i)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:r,u_temporal_offset:i}))(s.skyboxMatrix,t.getCenter(e,!1),0,r,i);l.draw(o,a.TRIANGLES,n,gh.disabled,e.colorModeForRenderPass(),yh.backCW,u,"skybox",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment)}(e,n,a,r,s):"gradient"===o&&"sky"===e.renderPass&&function(e,t,n,r,i){const o=e.context,a=o.gl,s=e.transform,l=e.useProgram("skyboxGradient");t.skyboxGeometry||(t.skyboxGeometry=new fm(o)),o.activeTexture.set(a.TEXTURE0);let u=t.colorRampTexture;u||(u=t.colorRampTexture=new Ic(o,t.colorRamp,a.RGBA)),u.bind(a.LINEAR,a.CLAMP_TO_EDGE);const c=((e,t,n,r,i)=>({u_matrix:e,u_color_ramp:0,u_center_direction:t,u_radius:p(n),u_opacity:r,u_temporal_offset:i}))(s.skyboxMatrix,t.getCenter(e,!1),t.paint.get("sky-gradient-radius"),r,i);l.draw(o,a.TRIANGLES,n,gh.disabled,e.colorModeForRenderPass(),yh.backCW,c,"skyboxGradient",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment)}(e,n,a,r,s)},debug:function(e,t,n){for(let r=0;r<n.length;r++)um(e,t,n[r])},custom:function(e,t,n){const r=e.context,i=n.implementation;if("offscreen"===e.renderPass){const t=i.prerender;t&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),t.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(gh.disabled);const t="3d"===i.renderingMode?new mh(e.context.gl.LEQUAL,mh.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,mh.ReadOnly);r.setDepthMode(t),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}};class gm{constructor(e,t){this.context=new vh(e),this.transform=t,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=bh.maxUnderzooming+bh.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Uf,this.gpuTimers={},this.frameCounter=0}updateTerrain(e,t){const n=!!e&&!!e.terrain;if(!(n||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new mp(this,e));const r=this._terrain;this.transform.elevation=n?r:null,r.update(e,this.transform,t)}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(e,t){if(this.width=e*$.devicePixelRatio,this.height=t*$.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const e=this.context,t=new uo;t.emplaceBack(0,0),t.emplaceBack(Sa,0),t.emplaceBack(0,Sa),t.emplaceBack(Sa,Sa),this.tileExtentBuffer=e.createVertexBuffer(t,md.members),this.tileExtentSegments=wa.simpleSegment(0,0,4,2);const n=new uo;n.emplaceBack(0,0),n.emplaceBack(Sa,0),n.emplaceBack(0,Sa),n.emplaceBack(Sa,Sa),this.debugBuffer=e.createVertexBuffer(n,md.members),this.debugSegments=wa.simpleSegment(0,0,4,5);const r=new co;r.emplaceBack(0,0,0,0),r.emplaceBack(Sa,0,Sa,0),r.emplaceBack(0,Sa,0,Sa),r.emplaceBack(Sa,Sa,Sa,Sa),this.rasterBoundsBuffer=e.createVertexBuffer(r,Rh.members),this.rasterBoundsSegments=wa.simpleSegment(0,0,4,2);const i=new uo;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(i,md.members),this.viewportSegments=wa.simpleSegment(0,0,4,2);const o=new Ro;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(o);const a=new wo;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(a),this.emptyTexture=new Ic(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);const s=this.context.gl;this.stencilClearMode=new gh({func:s.ALWAYS,mask:0},0,255,s.ZERO,s.ZERO,s.ZERO),this.loadTimeStamps.push(u.performance.now())}clearStencil(){const e=this.context,t=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const n=Xa();ss(n,0,this.width,this.height,0,0,1),ts(n,n,[t.drawingBufferWidth,t.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,t.TRIANGLES,mh.disabled,this.stencilClearMode,_h.disabled,yh.disabled,dp(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t,n){if(!(t&&this.currentStencilSource!==t.id&&e.isTileClipped()&&n&&n.length))return;this.currentStencilSource=t.id;const r=this.context,i=r.gl;this.nextStencilID+n.length>256&&this.clearStencil(),r.setColorMode(_h.disabled),r.setDepthMode(mh.disabled);const o=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const e of n){const t=this._tileClippingMaskIDs[e.key]=this.nextStencilID++;o.draw(r,i.TRIANGLES,mh.disabled,new gh({func:i.ALWAYS,mask:0},t,255,i.KEEP,i.KEEP,i.REPLACE),_h.disabled,yh.disabled,dp(e.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new gh({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(e);const t=this.context.gl;return new gh({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,n=e.sort((e,t)=>t.overscaledZ-e.overscaledZ),r=n[n.length-1].overscaledZ,i=n[0].overscaledZ-r+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();const e={};for(let n=0;n<i;n++)e[n+r]=new gh({func:t.GEQUAL,mask:255},n+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=i,[e,n]}return[{[r]:gh.disabled},n]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const t=1/8;return new _h([e.CONSTANT_COLOR,e.ONE],new Pt(t,t,t,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?_h.unblended:_h.alphaBlended}depthModeForSublayer(e,t,n){if(!this.opaquePassEnabledForLayer())return mh.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new mh(n||this.context.gl.LEQUAL,t,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,t){this.style=e,this.options=t,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange($.now()),this.imageManager.beginFrame();const n=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context)}const i={},o={},a={};for(const e in r){const t=r[e];i[e]=t.getVisibleCoordinates(),o[e]=i[e].slice().reverse(),a[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<n.length;e++)if(this.style._layers[n[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(a),this.opaquePassCutoff=0),Te.has(this.context.gl)){this.renderPass="offscreen";for(const t of n){const n=this.style._layers[t],r=e._getLayerSourceCache(n);if(!n.hasOffscreenPass()||n.isHidden(this.transform.zoom))continue;const i=r?o[r.id]:void 0;("custom"===n.type||n.isSky()||i&&i.length)&&this.renderLayer(this,r,n,i)}if(this.depthRangeFor3D=[0,1-(e.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:t.showOverdrawInspector?Pt.black:Pt.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=t.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const t=this.style._layers[n[this.currentLayer]],r=e._getLayerSourceCache(t);if(t.isSky())continue;const i=r?o[r.id]:void 0;this._renderTileClippingMasks(t,r,i),this.renderLayer(this,r,t,i)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const t=this.style._layers[n[this.currentLayer]],r=e._getLayerSourceCache(t);t.isSky()&&this.renderLayer(this,r,t,r?o[r.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;){const t=this.style._layers[n[this.currentLayer]],r=e._getLayerSourceCache(t);if(t.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(t)){if(t.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const s=r?("symbol"===t.type?a:o)[r.id]:void 0;this._renderTileClippingMasks(t,r,r?i[r.id]:void 0),this.renderLayer(this,r,t,s),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let t=null;S(this.style._layers).forEach(n=>{const r=e._getLayerSourceCache(n);r&&!n.isHidden(this.transform.zoom)&&(!t||t.getSource().maxzoom<r.getSource().maxzoom)&&(t=r)}),t&&this.options.showTileBoundaries&&mm.debug(this,t,t.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;am(e,e.transform.height-(t.top||0),3,tm),am(e,t.bottom||0,3,nm),sm(e,t.left||0,3,rm),sm(e,e.transform.width-(t.right||0),3,im);const n=e.transform.centerPoint;!function(e,t,n,r){lm(e,t-1,n-10,2,20,r),lm(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,om)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%d,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(u.performance.now()),this.saveCanvasCopy())}}renderLayer(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||r&&r.length)&&(this.id=n.id,this.gpuTimingStart(n),mm[n.type](e,t,n,r,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}queryGpuTimers(e){const t={};for(const n in e){const r=e[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=o}return t}translatePosMatrix(e,t,n,r,i){if(!n[0]&&!n[1])return e;const o=i?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(o){const e=Math.sin(o),t=Math.cos(o);n=[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}const a=[i?n[0]:qc(t,n[0],this.transform.zoom),i?n[1]:qc(t,n[1],this.transform.zoom),0],s=new Float32Array(16);return es(s,e,a),s}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=[];return this.terrain&&!this.terrain.renderingToTexture&&t.push("TERRAIN"),e&&t.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&t.push("OVERDRAW_INSPECTOR"),t}useProgram(e,t,n){this.cache=this.cache||{};const r=n||[],i=this.currentGlobalDefines().concat(r),o=_p.cacheKey(e,i,t);return this.cache[o]||(this.cache[o]=new _p(this.context,e,Qf[e],t,Wp[e],i)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=u.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Ic(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(e){this.terrain&&this.terrain.prepareDrawTile(e)}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}}class _m{constructor(e=0,t=0,n=0,r=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r}interpolate(e,t,n){return null!=t.top&&null!=e.top&&(this.top=bn(e.top,t.top,n)),null!=t.bottom&&null!=e.bottom&&(this.bottom=bn(e.bottom,t.bottom,n)),null!=t.left&&null!=e.left&&(this.left=bn(e.left,t.left,n)),null!=t.right&&null!=e.right&&(this.right=bn(e.right,t.right,n)),this}getCenter(e,t){const n=b((this.left+e-this.right)/2,0,e),r=b((this.top+t-this.bottom)/2,0,t);return new s(n,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new _m(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ym(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}function vm(e,t,n){e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]}function bm(e,t){const n=ym(e,3);os(e,t),vm(e,3,n)}function xm(e,t){vm(e,3,[t[0],t[1],t[2],1])}function wm(e,t){const n=Ps([]);return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=o*l+a*s,e[3]=a*l-o*s}(n,n,-t),Rs(n,n,-e),n}function Sm(e,t){const n=[e[0],e[1],0],r=[t[0],t[1],0];if(ds(n)>=1e-15){const e=_s([],n);ms(r,e,ys(r,e)),t[0]=r[0],t[1]=r[1]}const i=vs([],t,e);if(Es(i)<1e-15)return null;const o=Math.atan2(-i[1],i[0]);return wm(Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2]),o)}class Em{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(e){this._position=this._renderWorldCopies?function(e){if(!e)return;const t=Array.isArray(e)?new rd(e[0],e[1],e[2]):e;return t.x=x(t.x,0,1),t}(e):e}lookAtPoint(e,t){if(this.orientation=null,!this.position)return;const n=this._elevation?this._elevation.getAtPoint(rd.fromLngLat(e)):0,r=this.position,i=rd.fromLngLat(e,n),o=[i.x-r.x,i.y-r.y,i.z-r.z];t||(t=[0,0,1]),t[2]=Math.abs(t[2]),this.orientation=Sm(o,t)}setPitchBearing(e,t){this.orientation=wm(p(e),p(-t))}}class Tm{constructor(e,t){this._transform=Ya([]),this._orientation=Ps([]),t&&(this._orientation=t,bm(this._transform,this._orientation)),e&&xm(this._transform,e)}get mercatorPosition(){const e=this.position;return new rd(e[0],e[1],e[2])}get position(){const e=ym(this._transform,3);return[e[0],e[1],e[2]]}set position(e){xm(this._transform,e)}get orientation(){return this._orientation}set orientation(e){this._orientation=e,bm(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=wm(e,t),bm(this._transform,this._orientation)}forward(){const e=ym(this._transform,2);return[-e[0],-e[1],-e[2]]}up(){const e=ym(this._transform,1);return[-e[0],-e[1],-e[2]]}right(){const e=ym(this._transform,0);return[e[0],e[1],e[2]]}getCameraToWorld(e,t){const n=new Float64Array(16);return Qa(n,this.getWorldToCamera(e,t)),n}getWorldToCamera(e,t){const n=new Float64Array(16),r=new Float64Array(4),i=this.position;var o,a;return(o=r)[0]=-(a=this._orientation)[0],o[1]=-a[1],o[2]=-a[2],o[3]=a[3],ms(i,i,-e),os(n,r),es(n,n,i),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=t,n[9]*=t,n[10]*=t,n[11]*=t,n}getCameraToClipPerspective(e,t,n,r){const i=new Float64Array(16);return as(i,e,t,n,r),i}clone(){return new Tm([...this.position],[...this.orientation])}}class km{constructor(e,t,n,r,i){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===i||i,this._minZoom=e||0,this._maxZoom=t||22,this._minPitch=null==n?0:n,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new Kc(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new _m,this._posMatrixCache={},this._alignedPosMatrixCache={},this._camera=new Tm,this._centerAltitude=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const e=new km(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._cameraZoom=this._cameraZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,e?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(e){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),e&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(e){const t=-x(e,-180,180)*Math.PI/180;var n;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=(n=new Za(4),Za!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=r*-s+o*l,e[3]=i*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const t=b(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const e=this._elevation.getAtPoint(rd.fromLngLat(this.center),-1);return-1===e?(this._cameraZoom=null,!1):(this._centerAltitude=e,!0)}_updateCameraOnTerrain(){const e=this.cameraToCenterDistance/this.worldSize,t=ed(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(t+e)}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const e=this._cameraZoom,t=ed(this._elevation.getAtPoint(rd.fromLngLat(this.center)),this.center.lat),n=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),i=Math.max(n-t,r);this._setZoom(this._zoomFromMercatorZ(i))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(e){const t=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,e.toAltitude()));let n;n=e.z<this._camera.position[2]?[t.x,t.y,t.z]:[e.x,e.y,e.z];const r=ds(ws([],this._camera.position,n));return b(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(e){if(!this.height)return;if(!e.position&&!e.orientation)return;this._updateCameraState();let t=!1;if(e.orientation&&!function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}(e.orientation,this._camera.orientation)&&(t=this._setCameraOrientation(e.orientation)),e.position){const i=[e.position.x,e.position.y,e.position.z];((n=i)[0]!==(r=this._camera.position)[0]||n[1]!==r[1]||n[2]!==r[2])&&(this._setCameraPosition(i),t=!0)}var n,r;t&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const e=this._camera.position,t=new Em;return t.position=new rd(e[0],e[1],e[2]),t.orientation=this._camera.orientation,t._elevation=this.elevation,t._renderWorldCopies=this._renderWorldCopies,t}_setCameraOrientation(e){if(t=e,!Math.hypot(t[0],t[1],t[2],t[3]))return!1;var t;!function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a}(e,e);const n=bs([],[0,0,-1],e),r=bs([],[0,-1,0],e);if(r[2]<0)return!1;const i=Sm(n,r);return!!i&&(this._camera.orientation=i,!0)}_setCameraPosition(e){const t=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;e[2]=b(e[2],r/n,r/t),this._camera.position=e}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(e){const t=[new ld(0,e)];if(this._renderWorldCopies){const n=this.pointCoordinate(new s(0,0)),r=this.pointCoordinate(new s(this.width,0)),i=this.pointCoordinate(new s(this.width,this.height)),o=this.pointCoordinate(new s(0,this.height)),a=Math.floor(Math.min(n.x,r.x,i.x,o.x)),l=Math.floor(Math.max(n.x,r.x,i.x,o.x)),u=1;for(let n=a-u;n<=l+u;n++)0!==n&&t.push(new ld(n,e))}return t}coveringTiles(e){let t=this.coveringZoomLevel(e);const n=t,r=!!e.useElevationData;if(void 0!==e.minzoom&&t<e.minzoom)return[];void 0!==e.maxzoom&&t>e.maxzoom&&(t=e.maxzoom);const i=rd.fromLngLat(this.center),o=1<<t,a=[o*i.x,o*i.y,0],s=Ms.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,t),l=this.pointCoordinate(this.getCameraPoint()),u=o*ed(1,this.center.lat),c=this._camera.position[2]/ed(1,this.center.lat),d=[o*l.x,o*l.y,c],h=this.cameraToCenterDistance/e.tileSize*(e.roundZoom?1:.502),f=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?t:0,p=this.elevation?1e4*this.elevation.exaggeration():0,m=e=>({aabb:new As([e*o,0,-p],[(e+1)*o,o,p]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),g=[],_=[],y=t,v=e.reparseOverscaled?n:t,b=(e,t)=>{if(!this._elevation)return;const n=this._elevation.getMinMaxForTile(t);n&&(e.min[2]=n.min,e.max[2]=n.max,e.center[2]=(e.min[2]+e.max[2])/2)},x=e=>e*e,w=x((c-this._centerAltitude)*u),S=(e,t)=>{if(t*x(.707)<e)return 1;const n=Math.sqrt(t/e);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)};if(this._renderWorldCopies)for(let e=1;e<=3;e++)g.push(m(-e)),g.push(m(e));for(g.push(m(0));g.length>0;){const n=g.pop(),i=n.x,o=n.y;let l=n.fullyVisible;if(!l){const e=n.aabb.intersects(s);if(0===e)continue;l=2===e}let c=!0;if(f<=n.zoom&&n.zoom<y){const e=n.aabb.distanceX(d),t=n.aabb.distanceY(d);let i=w;r&&(i=x(n.aabb.distanceZ(d)*u));const o=e*e+t*t+i;c=o<x((1<<y-n.zoom)*h*S(Math.max(i,w),o))}if(n.zoom!==y&&c)for(let e=0;e<4;e++){const t=(i<<1)+e%2,a=(o<<1)+(e>>1),s=n.aabb.quadrant(e);let u=null;r&&n.zoom>y-6&&(u=new ud(n.zoom+1===y?v:n.zoom+1,n.wrap,n.zoom+1,t,a),b(s,u)),g.push({aabb:s,zoom:n.zoom+1,x:t,y:a,wrap:n.wrap,fullyVisible:l,tileID:u})}else{const r=n.zoom===y?v:n.zoom;if(e.minzoom&&e.minzoom>r)continue;const s=a[0]-(.5+i+(n.wrap<<n.zoom))*(1<<t-n.zoom),l=a[1]-.5-o,u=n.tileID?n.tileID:new ud(r,n.wrap,n.zoom,i,o);_.push({tileID:u,distanceSq:s*s+l*l})}}return _.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(e){const t=b(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s(Qc(e.lng)*this.worldSize,Jc(t)*this.worldSize)}unproject(e){return new rd(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(e,t){const n=this.pointCoordinate(t),r=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(e),o=new rd(i.x-(n.x-r.x),i.y-(n.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(e){this.center=this.coordinateLocation(e),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e){return this._coordinatePoint(this.locationCoordinate(e),!1)}locationPoint3D(e){return this._coordinatePoint(this.locationCoordinate(e),!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(e){return rd.fromLngLat(e)}coordinateLocation(e){return e.toLngLat()}pointRayIntersection(e,t){const n=null!=t?t:this._centerAltitude,r=[e.x,e.y,0,1],i=[e.x,e.y,1,1];ks(r,r,this.pixelMatrixInverse),ks(i,i,this.pixelMatrixInverse);const o=i[3];Ts(r,r,1/r[3]),Ts(i,i,1/o);const a=r[2],s=i[2];return{p0:r,p1:i,t:a===s?0:(n-a)/(s-a)}}screenPointToMercatorRay(e){const t=[e.x,e.y,0,1],n=[e.x,e.y,1,1];return ks(t,t,this.pixelMatrixInverse),ks(n,n,this.pixelMatrixInverse),Ts(t,t,1/t[3]),Ts(n,n,1/n[3]),t[2]=ed(t[2],this._center.lat)*this.worldSize,n[2]=ed(n[2],this._center.lat)*this.worldSize,Ts(t,t,1/this.worldSize),Ts(n,n,1/this.worldSize),new Os([t[0],t[1],t[2]],_s([],ws([],n,t)))}rayIntersectionCoordinate(e){const{p0:t,p1:n,t:r}=e,i=ed(t[2],this._center.lat),o=ed(n[2],this._center.lat);return new rd(bn(t[0],n[0],r)/this.worldSize,bn(t[1],n[1],r)/this.worldSize,bn(i,o,r))}pointCoordinate(e){const t=this.horizonLineFromTop(!1),n=new s(e.x,Math.max(t,e.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(n))}pointCoordinate3D(e){if(!this.elevation)return this.pointCoordinate(e);const t=this.elevation;let n=this.elevation.pointCoordinate(e);if(n)return new rd(n[0],n[1],n[2]);let r=0,i=this.horizonLineFromTop();if(e.y>i)return this.pointCoordinate(e);const o=.02*i,a=e.clone();for(let e=0;e<10&&i-r>o;e++){a.y=bn(r,i,.66);const e=t.pointCoordinate(a);e?(i=a.y,n=e):r=a.y}return n?new rd(n[0],n[1],n[2]):this.pointCoordinate(e)}isPointAboveHorizon(e){if(this.elevation)return!this.elevation.pointCoordinate(e);{const t=this.horizonLineFromTop();return e.y<t}}_coordinatePoint(e,t){const n=t&&this.elevation?this.elevation.getAtPoint(e,this._centerAltitude):this._centerAltitude,r=[e.x*this.worldSize,e.y*this.worldSize,n+e.toAltitude(),1];return ks(r,r,this.pixelMatrix),r[3]>0?new s(r[0]/r[3],r[1]/r[3]):new s(Number.MAX_VALUE,Number.MAX_VALUE)}getBounds(){return this._terrainEnabled()?this._getBounds3D():(new $c).extend(this.pointLocation(new s(this._edgeInsets.left,this._edgeInsets.top))).extend(this.pointLocation(new s(this.width-this._edgeInsets.right,this._edgeInsets.top))).extend(this.pointLocation(new s(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom))).extend(this.pointLocation(new s(this._edgeInsets.left,this.height-this._edgeInsets.bottom)))}_getBounds3D(){const e=this.elevation,t=e.visibleDemTiles.reduce((e,t)=>{if(t.dem){const n=t.dem.tree;e.min=Math.min(e.min,n.minimums[0]),e.max=Math.max(e.max,n.maximums[0])}return e},{min:Number.MAX_VALUE,max:0});t.min*=e.exaggeration(),t.max*=e.exaggeration();const n=this.horizonLineFromTop();return[new s(0,n),new s(this.width,n),new s(this.width,this.height),new s(0,this.height)].reduce((e,n)=>e.extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(n,t.min)))).extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(n,t.max)))),new $c)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-.97*t;return e?Math.max(0,n):n}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new $c([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(e,t=!1){const n=e.key,r=t?this._alignedPosMatrixCache:this._posMatrixCache;if(r[n])return r[n];const i=e.canonical,o=this.worldSize/this.zoomScale(i.z),a=i.x+Math.pow(2,i.z)*e.wrap,s=Ya(new Float64Array(16));return es(s,s,[a*o,i.y*o,0]),ts(s,s,[o/Sa,o/Sa,1]),Ja(s,t?this.alignedProjMatrix:this.projMatrix,s),r[n]=new Float32Array(s),r[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const e=this._elevation;this._updateCameraState();const t=this._camera.position,n=this._camera.forward();if(t.z<=0||n[2]>=0)return;const r=ed(1,this._center.lat);t[2]/=r,n[2]/=r,_s(n,n);const i=e.raycast(t,n,e.exaggeration());if(i){const e=gs([],t,n,i),r=new rd(e[0],e[1],ed(e[2],td(e[1]))),o=this._camera.position,a=r.z+ds([r.x-o[0],r.y-o[1],r.z-o[2]]);this._cameraZoom=this._zoomFromMercatorZ(a),this._centerAltitude=r.toAltitude(),this._center=r.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const e=this._elevation;this._updateCameraState();const t=e.getAtPoint(this._camera.mercatorPosition),n=this._minimumHeightOverTerrain()*Math.cos(p(this._maxPitch)),r=ed(t,this._center.lat),i=this._camera.position[2]-r;if(i<n){const e=rd.fromLngLat(this._center,this._centerAltitude),t=this._camera.mercatorPosition,r=[e.x-t.x,e.y-t.y,e.z-t.z],o=ds(r);r[2]-=n-i;const a=ds(r);if(0===a)return;ms(r,r,o/a),this._camera.position=[e.x-r[0],e.y-r[1],e.z-r[2]],this._camera.orientation=Sm(r,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let e,t,n,r,i=-90,o=90,a=-180,l=180;const u=this.size,c=this._unmodified;if(this.latRange){const t=this.latRange;i=Jc(t[1])*this.worldSize,o=Jc(t[0])*this.worldSize,e=o-i<u.y?u.y/(o-i):0}if(this.lngRange){const e=this.lngRange;a=Qc(e[0])*this.worldSize,l=Qc(e[1])*this.worldSize,t=l-a<u.x?u.x/(l-a):0}const d=this.point,h=Math.max(t||0,e||0);if(h)return this.center=this.unproject(new s(t?(l+a)/2:d.x,e?(o+i)/2:d.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){const e=d.y,t=u.y/2;e-t<i&&(r=i+t),e+t>o&&(r=o-t)}if(this.lngRange){const e=d.x,t=u.x/2;e-t<a&&(n=a+t),e+t>l&&(n=l-t)}void 0===n&&void 0===r||(this.center=this.unproject(new s(void 0!==n?n:d.x,void 0!==r?r:d.y))),this._constrainCameraAltitude(),this._unmodified=c,this._constraining=!1}_minZoomForBounds(){const e=(e,t)=>Math.log2(e/(this.tileSize*Math.abs(t[1]-t[0])));let t=0;if(this.latRange){const n=this.latRange;t=e(this.height,[Jc(n[0]),Jc(n[1])])}let n=0;if(this.lngRange){const t=this.lngRange;n=e(this.width,[Qc(t[0]),Qc(t[1])])}return Math.max(t,n)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const t=ed(1,this.center.lat)*this.worldSize;this._updateCameraState();const n=Math.PI/2+this._pitch,r=this.fovAboveCenter,i=this.elevation?this.elevation.getMinElevationBelowMSL()*t:0,o=(this._camera.position[2]*this.worldSize-i)/Math.cos(this._pitch),a=Math.sin(r)*o/Math.sin(b(Math.PI-n-r,.01,Math.PI-.01)),s=this.point,l=s.x,u=s.y,c=Math.cos(Math.PI/2-this._pitch)*a+o,d=Math.min(1.01*c,o*(1/this._horizonShift)),h=this.height/50,f=this._camera.getWorldToCamera(this.worldSize,t),p=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,h,d);p[8]=2*-e.x/this.width,p[9]=2*e.y/this.height;let m=ls([],p,f);this.mercatorMatrix=ts([],m,[this.worldSize,this.worldSize,this.worldSize/t]),this.projMatrix=m,this.invProjMatrix=Qa(new Float64Array(16),this.projMatrix);const g=new Float32Array(16);Ya(g),ts(g,g,[1,-1,1]),ns(g,g,this._pitch),is(g,g,this.angle);const _=as(new Float32Array(16),this._fov,this.width/this.height,h,d),y=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;_[8]=2*-e.x/this.width,_[9]=2*(e.y+y)/this.height,this.skyboxMatrix=Ja(g,_,g);const v=this.width%2/2,x=this.height%2/2,w=Math.cos(this.angle),S=Math.sin(this.angle),E=l-Math.round(l)+w*v+S*x,T=u-Math.round(u)+w*x+S*v,k=new Float64Array(m);if(es(k,k,[E>.5?E-1:E,T>.5?T-1:T,0]),this.alignedProjMatrix=k,m=Xa(),ts(m,m,[this.width/2,-this.height/2,1]),es(m,m,[1,-1,0]),this.labelPlaneMatrix=m,m=Xa(),ts(m,m,[1,-1,1]),es(m,m,[-1,-1,0]),ts(m,m,[2/this.width,2/this.height,1]),this.glCoordMatrix=m,this.pixelMatrix=Ja(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),m=Qa(new Float64Array(16),this.pixelMatrix),!m)throw new Error("failed to invert matrix");this.pixelMatrixInverse=m,this._posMatrixCache={},this._alignedPosMatrixCache={}}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const e=this._camera.forward(),t=this.cameraToCenterDistance,n=this.point,r=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-ed(this._centerAltitude,this.center.lat),i=this.cameraToCenterDistance/r;this._camera.position=[n.x/this.worldSize-e[0]*t/i,n.y/this.worldSize-e[1]*t/i,ed(this._centerAltitude,this._center.lat)+-e[2]*t/i]}_translateCameraConstrained(e){const t=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=e[2];let r=1;n>0&&(r=Math.min((t-this._camera.position[2])/n,1)),this._camera.position=gs([],this._camera.position,e,r),this._updateStateFromCamera()}_updateStateFromCamera(){const e=this._camera.position,t=this._camera.forward(),{pitch:n,bearing:r}=this._camera.getPitchBearing(),i=ed(this._centerAltitude,this.center.lat),o=this._mercatorZfromZoom(this._maxZoom)*Math.cos(p(this._maxPitch)),a=Math.max((e[2]-i)/Math.cos(n),o),s=this._zoomFromMercatorZ(a);gs(e,e,t,a),this._pitch=b(n,p(this.minPitch),p(this.maxPitch)),this.angle=x(r,-Math.PI,Math.PI),this._setZoom(b(s,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new rd(e[0],e[1],e[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}_terrainEnabled(){return!!this._elevation}isHorizonVisibleForPoints(e,t){const n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.y,t.y),a=[new s(n,i),new s(r,o),new s(n,o),new s(r,i)],l=this._renderWorldCopies?-3:0,u=this._renderWorldCopies?4:1;for(const e of a){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const n=this.rayIntersectionCoordinate(t);if(n.x<l||n.y<0||n.x>u||n.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+this.fovAboveCenter*f>88||this.isHorizonVisibleForPoints(new s(0,0),new s(this.width,this.height))}zoomDeltaToMovement(e,t){const n=ds(ws([],this._camera.position,e)),r=this._zoomFromMercatorZ(n)+t;return n-this._mercatorZfromZoom(r)}getCameraPoint(){const e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s(0,e))}}class Cm{constructor(e){this._hashName=e&&encodeURIComponent(e),O(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(e,t){let n=!1,r=null;const i=()=>{r=null,n&&(e(),r=setTimeout(i,300),n=!1)};return()=>(n=!0,r||i(),r)}(this._updateHashUnthrottled.bind(this))}addTo(e){return this._map=e,u.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return u.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(t.lng*i)/i,a=Math.round(t.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=e?`/${o}/${a}/${n}`:`${n}/${a}/${o}`,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+="/"+Math.round(l)),this._hashName){const e=this._hashName;let t=!1;const n=u.location.hash.slice(1).split("&").map(n=>{const r=n.split("=")[0];return r===e?(t=!0,`${r}=${c}`):n}).filter(e=>e);return t||n.push(`${e}=${c}`),"#"+n.join("&")}return"#"+c}_getCurrentHash(){const e=u.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map(e=>e.split("=")).forEach(e=>{e[0]===this._hashName&&(t=e)}),(t&&t[1]||"").split("/")}return e.split("/")}_onHashChange(){const e=this._getCurrentHash();if(e.length>=3&&!e.some(e=>isNaN(e))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}_updateHashUnthrottled(){const e=u.location.href.replace(/(#.+)?$/,this.getHashString());u.history.replaceState(u.history.state,null,e)}}const Pm={linearity:.3,easing:y(0,0,.3,1)},Rm=E({deceleration:2500,maxSpeed:1400},Pm),Om=E({deceleration:20,maxSpeed:1400},Pm),Mm=E({deceleration:1e3,maxSpeed:360},Pm),Am=E({deceleration:1e3,maxSpeed:90},Pm);class Im{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:$.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,t=$.now();for(;e.length>0&&t-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const t={zoom:0,bearing:0,pitch:0,pan:new s(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)t.zoom+=e.zoomDelta||0,t.bearing+=e.bearingDelta||0,t.pitch+=e.pitchDelta||0,e.panDelta&&t.pan._add(e.panDelta),e.around&&(t.around=e.around),e.pinchAround&&(t.pinchAround=e.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(t.pan.mag()){const i=Lm(t.pan.mag(),n,E({},Rm,e||{}));r.offset=t.pan.mult(i.amount/t.pan.mag()),r.center=this._map.transform.center,Dm(r,i)}if(t.zoom){const e=Lm(t.zoom,n,Om);r.zoom=this._map.transform.zoom+e.amount,Dm(r,e)}if(t.bearing){const e=Lm(t.bearing,n,Mm);r.bearing=this._map.transform.bearing+b(e.amount,-179,179),Dm(r,e)}if(t.pitch){const e=Lm(t.pitch,n,Am);r.pitch=this._map.transform.pitch+e.amount,Dm(r,e)}if(r.zoom||r.bearing){const e=void 0===t.pinchAround?t.around:t.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),E(r,{noMoveStart:!0})}}function Dm(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Lm(e,t,n){const{maxSpeed:r,linearity:i,deceleration:o}=n,a=b(e*i/(t/1e3),-r,r),s=Math.abs(a)/(o*i);return{easing:n.easing,duration:1e3*s,amount:a*(s/2)}}class zm extends Je{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n,r={}){const i=Z.mousePos(t.getCanvasContainer(),n);super(e,E({point:i,lngLat:t.unproject(i),originalEvent:n},r)),this._defaultPrevented=!1,this.target=t}}class Nm extends Je{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){const r="touchend"===e?n.changedTouches:n.touches,i=Z.touchPos(t.getCanvasContainer(),r),o=i.map(e=>t.unproject(e)),a=i.reduce((e,t,n,r)=>e.add(t.div(r.length)),new s(0,0));super(e,{points:i,point:a,lngLats:o,lngLat:t.unproject(a),originalEvent:n}),this._defaultPrevented=!1}}class Fm extends Je{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}}class Bm{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new Fm(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new zm(e.type,this._map,e))}mouseup(e){this._map.fire(new zm(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new zm(e.type,this._map,e))}dblclick(e){return this._firePreventable(new zm(e.type,this._map,e))}mouseover(e){this._map.fire(new zm(e.type,this._map,e))}mouseout(e){this._map.fire(new zm(e.type,this._map,e))}touchstart(e){return this._firePreventable(new Nm(e.type,this._map,e))}touchmove(e){this._map.fire(new Nm(e.type,this._map,e))}touchend(e){this._map.fire(new Nm(e.type,this._map,e))}touchcancel(e){this._map.fire(new Nm(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class jm{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(e){this._map.fire(new zm(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new zm("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new zm(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Vm{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(Z.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const r=this._startPos;this._lastPos=n,this._box||(this._box=Z.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const i=Math.min(r.x,n.x),o=Math.max(r.x,n.x),a=Math.min(r.y,n.y),s=Math.max(r.y,n.y);Z.setTransform(this._box,`translate(${i}px,${a}px)`),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"}mouseupWindow(e,t){if(!this._active)return;if(0!==e.button)return;const n=this._startPos,r=t;if(this.reset(),Z.suppressClick(),n.x!==r.x||n.y!==r.y)return this._map.fire(new Je("boxzoomend",{originalEvent:e})),{cameraAnimation:e=>e.fitScreenCoordinates(n,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(Z.remove(this._box),this._box=null),Z.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,t){return this._map.fire(new Je(e,{originalEvent:t}))}}function Um(e,t){const n={};for(let r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}class Wm{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,t,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=function(e){const t=new s(0,0);for(const n of e)t._add(n);return t.div(e.length)}(t),this.touches=Um(n,t)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const r=Um(n,t);for(const e in this.touches){const t=this.touches[e],n=r[e];(!n||n.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class Gm{constructor(e){this.singleTap=new Wm(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const r=this.singleTap.touchend(e,t,n);if(r){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(r)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class Hm{constructor(){this._zoomIn=new Gm({numTouches:1,numTaps:2}),this._zoomOut=new Gm({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const r=this._zoomIn.touchend(e,t,n),i=this._zoomOut.touchend(e,t,n);return r?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(r)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const qm={0:1,2:2};class $m{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const n=Z.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}mousemoveWindow(e,t){const n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){const n=qm[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}mouseupWindow(e){this._lastPoint&&Z.mouseButton(e)===this._eventButton&&(this._moved&&Z.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Zm extends $m{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class Km extends $m{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(e){e.preventDefault()}}class Xm extends $m{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(e){e.preventDefault()}}class Ym{constructor(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s(0,0)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,t,n){n.length>0&&(this._active=!0);const r=Um(n,t),i=new s(0,0),o=new s(0,0);let a=0;for(const e in r){const t=r[e],n=this._touches[e];n&&(i._add(t),o._add(t.sub(n)),a++,r[e]=t)}if(this._touches=r,a<this._minTouches||!o.mag())return;const l=o.div(a);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:i.div(a),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qm{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(e){}_move(e,t,n){return{}}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){if(!this._firstTwoTouches)return;e.preventDefault();const[r,i]=this._firstTwoTouches,o=Jm(n,t,r),a=Jm(n,t,i);if(!o||!a)return;const s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[r,i]=this._firstTwoTouches,o=Jm(n,t,r),a=Jm(n,t,i);o&&a||(this._active&&Z.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Jm(e,t,n){for(let r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function eg(e,t){return Math.log(e/t)/Math.LN2}class tg extends Qm{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(eg(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:eg(this._distance,n),pinchAround:t}}}function ng(e,t){return 180*e.angleWith(t)/Math.PI}class rg extends Qm{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ng(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=ng(e,this._startVector);return Math.abs(n)<t}}function ig(e){return Math.abs(e.y)>Math.abs(e.x)}class og extends Qm{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(e){this._lastPoints=e,ig(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,n){const r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const r=e.mag()>=2,i=t.mag()>=2;if(!r&&!i)return;if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return ig(e)&&ig(t)&&o}}const ag={panStep:100,bearingStep:15,pitchStep:10};class sg{constructor(){const e=ag;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,r=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,r=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:lg,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+n*this._bearingStep,pitch:a.getPitch()+r*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function lg(e){return e*(2-e)}const ug=4.000244140625;class cg{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._handler=t,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,O(["_onTimeout"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(e){if(!this.isEnabled())return;let t=e.deltaMode===u.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const n=$.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==t&&t%ug==0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&(this._lastWheelEvent=e,this._delta-=t,this._active||this._start(e)),e.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=Z.mousePos(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._map.transform,t=()=>e._terrainEnabled()?e.computeZoomRelativeTo(this._aroundCoord):e.zoom;if(0!==this._delta){const n="wheel"===this._type&&Math.abs(this._delta)>ug?this._wheelZoomRate:this._defaultZoomRate;let r=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==r&&(r=1/r);const i=t(),o=Math.pow(2,i),a="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(a*r))),"wheel"===this._type&&(this._startZoom=t(),this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:t(),r=this._startZoom,i=this._easing;let o,a=!1;if("wheel"===this._type&&r&&i){const e=Math.min(($.now()-this._lastWheelEventTime)/200,1);o=bn(r,n,i(e)),e<1?this._frameId||(this._frameId=!0):a=!0}else o=n,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:o-t(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let t=v;if(this._prevEase){const e=this._prevEase,n=($.now()-e.start)/e.duration,r=e.easing(n+.01)-e.easing(n),i=.27/Math.sqrt(r*r+1e-4)*.01;t=y(i,Math.sqrt(.0729-i*i),.25,1)}return this._prevEase={start:$.now(),duration:e,easing:t},t}reset(){this._active=!1}}class dg{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class hg{constructor(){this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class fg{constructor(){this._tap=new Gm({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class pg{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class mg{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class gg{constructor(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const _g=e=>e.zoom||e.drag||e.pitch||e.rotate;class yg extends Je{}class vg{constructor(){this.constants=[1,1,.01],this.radius=0}setup(e,t){const n=ws([],t,e);this.radius=ds(n[2]<0?Ss([],n,this.constants):[n[0],n[1],0])}projectRay(e){Ss(e,e,this.constants),_s(e,e),function(e,t,n){e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2]}(e,e,this.constants);const t=ms([],e,this.radius);if(t[2]>0){const e=ms([],[0,0,1],ys(t,[0,0,1])),n=ms([],_s([],[t[0],t[1],0]),this.radius),r=fs([],t,ms([],ws([],fs([],n,e),t),2));t[0]=r[0],t[1]=r[1]}return t}}function bg(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class xg{constructor(e,t){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Im(e),this._bearingSnap=t.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new vg,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(t),O(["handleEvent","handleWindowEvent"],this);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[u.document,"mousemove",{capture:!0}],[u.document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[u,"blur",void 0]];for(const[e,t,n]of this._listeners)Z.addEventListener(e,t,e===u.document?this.handleWindowEvent:this.handleEvent,n)}destroy(){for(const[e,t,n]of this._listeners)Z.removeEventListener(e,t,e===u.document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new Bm(t,e));const r=t.boxZoom=new Vm(t,e);this._add("boxZoom",r);const i=new Hm,o=new hg;t.doubleClickZoom=new dg(o,i),this._add("tapZoom",i),this._add("clickZoom",o);const a=new fg;this._add("tapDragZoom",a);const s=t.touchPitch=new og;this._add("touchPitch",s);const l=new Km(e),u=new Xm(e);t.dragRotate=new mg(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);const c=new Zm(e),d=new Ym(e);t.dragPan=new pg(n,c,d),this._add("mousePan",c),this._add("touchPan",d,["touchZoom","touchRotate"]);const h=new rg,f=new tg;t.touchZoomRotate=new gg(n,f,h,a),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]),this._add("blockableMapEvent",new jm(t));const p=t.scrollZoom=new cg(t,this);this._add("scrollZoom",p,["mousePan"]);const m=t.keyboard=new sg;this._add("keyboard",m);for(const n of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[n]&&t[n].enable(e[n])}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(_g(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,n){for(const r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,e.type+"Window")}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}handleEvent(e,t){if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const n="renderFrame"===e.type,r=n?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?Z.touchPos(this._el,s):n?void 0:Z.mousePos(this._el,e);for(const{handlerName:n,handler:u,allowed:c}of this._handlers){if(!u.isEnabled())continue;let d;this._blockedByActive(a,c,n)?u.reset():u[t||e.type]&&(d=u[t||e.type](e,l,s),this.mergeHandlerResult(i,o,d,n,r),d&&d.needsRenderFrame&&this._triggerRenderFrame()),(d||u.isActive())&&(a[n]=u)}const u={};for(const e in this._previousActiveHandlers)a[e]||(u[e]=r);this._previousActiveHandlers=a,(Object.keys(u).length||bg(i))&&(this._changes.push([i,o,u]),this._triggerRenderFrame()),(Object.keys(a).length||bg(i))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:c}=i;c&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],c(this._map))}mergeHandlerResult(e,t,n,r,i){if(!n)return;E(e,n);const o={handlerName:r,originalEvent:n.originalEvent||i};void 0!==n.zoomDelta&&(t.zoom=o),void 0!==n.panDelta&&(t.drag=o),void 0!==n.pitchDelta&&(t.pitch=o),void 0!==n.bearingDelta&&(t.rotate=o)}_applyChanges(){const e={},t={},n={};for(const[r,i,o]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new s(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.aroundCoord&&(e.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),E(t,i),E(n,o);this._updateMapTransform(e,t,n),this._changes=[]}_updateMapTransform(e,t,n){const r=this._map,i=r.transform,o=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!bg(e)){const e=i.zoom;i.cameraElevationReference="sea",i.recenterOnTerrain(),i.cameraElevationReference="ground",e!==i.zoom&&this._map._update(!0)}if(!bg(e))return this._fireEvents(t,n,!0);let{panDelta:a,zoomDelta:s,bearingDelta:l,pitchDelta:u,around:c,aroundCoord:d,pinchAround:h}=e;void 0!==h&&(c=h),(e=>t.drag&&!this._eventsInProgress.drag)()&&c&&(this._dragOrigin=o(i.pointCoordinate3D(c)),this._trackingEllipsoid.setup(i._camera.position,this._dragOrigin)),i.cameraElevationReference="sea",r._stop(!0),c=c||r.transform.centerPoint,l&&(i.bearing+=l),u&&(i.pitch+=u),i._updateCameraState();const f=[0,0,0];if(a){const e=i.screenPointToMercatorRay(c),t=i.screenPointToMercatorRay(c.sub(a)),n=this._trackingEllipsoid.projectRay(e.dir),r=this._trackingEllipsoid.projectRay(t.dir);f[0]=r[0]-n[0],f[1]=r[1]-n[1]}const p=i.zoom,m=[0,0,0];if(s){const e=o(d||i.pointCoordinate3D(c)),t={dir:_s([],ws([],e,i._camera.position))},n=i.screenPointToMercatorRay(i.centerPoint);if(t.dir[2]<0){const r=nd(e[2],e[1]),a=i.rayIntersectionCoordinate(i.pointRayIntersection(i.centerPoint,r)),l=i.zoomDeltaToMovement(o(a),s)*(n.dir[2]/t.dir[2]);ms(m,t.dir,l)}else if(i._terrainEnabled()){const n=i.zoomDeltaToMovement(e,s);ms(m,t.dir,n)}}const g=fs(f,f,m);i._translateCameraConstrained(g),s&&Math.abs(i.zoom-p)>1e-4&&i.recenterOnTerrain(),i.cameraElevationReference="ground",this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}_fireEvents(e,t,n){const r=_g(this._eventsInProgress),i=_g(e),o={};for(const t in e){const{originalEvent:n}=e[t];this._eventsInProgress[t]||(o[t+"start"]=n),this._eventsInProgress[t]=e[t]}!r&&i&&this._fireEvent("movestart",i.originalEvent);for(const e in o)this._fireEvent(e,o[e]);i&&this._fireEvent("move",i.originalEvent);for(const t in e){const{originalEvent:n}=e[t];this._fireEvent(t,n)}const a={};let s;for(const e in this._eventsInProgress){const{handlerName:n,originalEvent:r}=this._eventsInProgress[e];this._handlersById[n].isActive()||(delete this._eventsInProgress[e],s=t[n]||r,a[e+"end"]=s)}for(const e in a)this._fireEvent(e,a[e]);const l=_g(this._eventsInProgress);if(n&&(r||i)&&!l){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),t=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;e?(t(e.bearing||this._map.getBearing())&&(e.bearing=0),this._map.easeTo(e,{originalEvent:s})):(this._map.fire(new Je("moveend",{originalEvent:s})),t(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(e,t){this._map.fire(new Je(e,t?{originalEvent:t}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new yg("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class wg extends tt{constructor(e,t){super(),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=t.bearingSnap,O(["_renderFrameCallback"],this)}getCenter(){return new Kc(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(e,t,n){return e=s.convert(e).mult(-1),this.panTo(this.transform.center,E({offset:e},t),n)}panTo(e,t,n){return this.easeTo(E({center:e},t),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(e,t,n){return this.easeTo(E({zoom:e},t),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(e,t,n){return this.easeTo(E({bearing:e},t),n)}resetNorth(e,t){return this.rotateTo(0,E({duration:1e3},e),t),this}resetNorthPitch(e,t){return this.easeTo(E({bearing:0,pitch:0,duration:1e3},e),t),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(e,t){e=$c.convert(e);const n=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),n,t)}_extendCameraOptions(e){const t={top:0,bottom:0,right:0,left:0};if("number"==typeof(e=E({padding:t,offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){const t=e.padding;e.padding={top:t,bottom:t,right:t,left:t}}return e.padding=E(t,e.padding),e}_cameraForBoxAndBearing(e,t,n,r){const i=this._extendCameraOptions(r),o=this.transform,a=o.padding,l=o.project(Kc.convert(e)),u=o.project(Kc.convert(t)),c=l.rotate(-p(n)),d=u.rotate(-p(n)),h=new s(Math.max(c.x,d.x),Math.max(c.y,d.y)),f=new s(Math.min(c.x,d.x),Math.min(c.y,d.y)),m=h.sub(f),g=(o.width-(a.left+a.right+i.padding.left+i.padding.right))/m.x,_=(o.height-(a.top+a.bottom+i.padding.top+i.padding.bottom))/m.y;if(_<0||g<0)return void z("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(o.scaleZoom(o.scale*Math.min(g,_)),i.maxZoom),v="number"==typeof i.offset.x?new s(i.offset.x,i.offset.y):s.convert(i.offset),b=new s((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(n*Math.PI/180),x=v.add(b).mult(o.scale/o.zoomScale(y));return{center:o.unproject(l.add(u).div(2).sub(x)),zoom:y,bearing:n}}_cameraForBox(e,t,n,r,i){const o=this._extendCameraOptions(i);n=n||0,r=r||0,e=Kc.convert(e),t=Kc.convert(t);const a=this.transform.clone();a.padding=o.padding;const s=this.getFreeCameraOptions(),l=new Kc(.5*(e.lng+t.lng),.5*(e.lat+t.lat)),u=.5*(n+r);if(a._camera.position[2]<ed(u,l.lat))return void z("Map cannot fit within canvas with the given bounds, padding, and/or offset.");s.lookAtPoint(l),a.setFreeCameraOptions(s);const c=rd.fromLngLat(e),d=rd.fromLngLat(t),h=a.pointRayIntersection(a.centerPoint,u),f=[(p=a.rayIntersectionCoordinate(h)).x,p.y,p.z];var p;const m=a.screenPointToMercatorRay(a.centerPoint);let g,_=0;do{const t=Math.floor(a.zoom),i=1<<t,o=Math.min(i*c.x,i*d.x),s=Math.min(i*c.y,i*d.y),l=Math.max(i*c.x,i*d.x),u=Math.max(i*c.y,i*d.y),h=new As([o,s,n],[l,u,r]),p=Ms.fromInvProjectionMatrix(a.invProjMatrix,a.worldSize,t);if(2!==h.intersects(p)){g&&(a._camera.position=gs([],a._camera.position,m.dir,-g),a._updateStateFromCamera());break}g=.5*ds(ws([],a._camera.position,f)),a._camera.position=gs([],a._camera.position,m.dir,g);try{a._updateStateFromCamera()}catch(e){return void z("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++_<10);return{center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}}fitBounds(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}_raycastElevationBox(e,t){const n=this.transform.elevation;if(!n)return;const r=new s(e.x,t.y),i=new s(t.x,e.y),o=n.pointCoordinate(e);if(!o)return;const a=n.pointCoordinate(t);if(!a)return;const l=n.pointCoordinate(r);if(!l)return;const u=n.pointCoordinate(i);if(!u)return;const c=new rd(o[0],o[1]).toLngLat(),d=new rd(a[0],a[1]).toLngLat(),h=new rd(l[0],l[1]).toLngLat(),f=new rd(u[0],u[1]).toLngLat(),p=Math.min(c.lng,Math.min(d.lng,Math.min(h.lng,f.lng))),m=Math.min(c.lat,Math.min(d.lat,Math.min(h.lat,f.lat))),g=Math.max(c.lng,Math.max(d.lng,Math.max(h.lng,f.lng))),_=Math.max(c.lat,Math.max(d.lat,Math.max(h.lat,f.lat))),y=Math.min(o[3],Math.min(a[3],Math.min(l[3],u[3]))),v=Math.max(o[3],Math.max(a[3],Math.max(l[3],u[3])));return{minLngLat:new Kc(p,m),maxLngLat:new Kc(g,_),minAltitude:y,maxAltitude:v}}fitScreenCoordinates(e,t,n,r,i){let o,a,l,u;const c=s.convert(e),d=s.convert(t),h=this._raycastElevationBox(c,d);if(h)o=h.minLngLat,a=h.maxLngLat,l=h.minAltitude,u=h.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(c,d))return this;o=this.transform.pointLocation(c),a=this.transform.pointLocation(d)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(s.convert(e)),this.transform.pointLocation(s.convert(t)),n,r):this._cameraForBox(o,a,l,u,r),r,i)}_fitInternal(e,t,n){return e?(delete(t=E(e,t)).padding,t.linear?this.easeTo(t,n):this.flyTo(t,n)):this}jumpTo(e,t){this.stop();const n=this.transform;let r=!1,i=!1,o=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=Kc.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),null==e.padding||n.isPaddingEqual(e.padding)||(n.padding=e.padding),this.fire(new Je("movestart",t)).fire(new Je("move",t)),r&&this.fire(new Je("zoomstart",t)).fire(new Je("zoom",t)).fire(new Je("zoomend",t)),i&&this.fire(new Je("rotatestart",t)).fire(new Je("rotate",t)).fire(new Je("rotateend",t)),o&&this.fire(new Je("pitchstart",t)).fire(new Je("pitch",t)).fire(new Je("pitchend",t)),this.fire(new Je("moveend",t))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(e,t){this.stop();const n=this.transform,r=n.zoom,i=n.pitch,o=n.bearing;n.setFreeCameraOptions(e);const a=r!==n.zoom,s=i!==n.pitch,l=o!==n.bearing;return this.fire(new Je("movestart",t)).fire(new Je("move",t)),a&&this.fire(new Je("zoomstart",t)).fire(new Je("zoom",t)).fire(new Je("zoomend",t)),l&&this.fire(new Je("rotatestart",t)).fire(new Je("rotate",t)).fire(new Je("rotateend",t)),s&&this.fire(new Je("pitchstart",t)).fire(new Je("pitch",t)).fire(new Je("pitchend",t)),this.fire(new Je("moveend",t)),this}easeTo(e,t){this._stop(!1,e.easeId),(!1===(e=E({offset:[0,0],duration:500,easing:v},e)).animate||!e.essential&&$.prefersReducedMotion)&&(e.duration=0);const n=this.transform,r=this.getZoom(),i=this.getBearing(),o=this.getPitch(),a=this.getPadding(),l="zoom"in e?+e.zoom:r,u="bearing"in e?this._normalizeBearing(e.bearing,i):i,c="pitch"in e?+e.pitch:o,d="padding"in e?e.padding:n.padding,h=s.convert(e.offset);let f=n.centerPoint.add(h);const p=n.pointLocation(f),m=Kc.convert(e.center||p);this._normalizeCenter(m);const g=n.project(p),_=n.project(m).sub(g),y=n.zoomScale(l-r);let b,x;e.around&&(b=Kc.convert(e.around),x=n.locationPoint(b));const w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==r,this._rotating=this._rotating||i!==u,this._pitching=this._pitching||c!==o,this._padding=!n.isPaddingEqual(d),this._easeId=e.easeId,this._prepareEase(t,e.noMoveStart,w),this._ease(e=>{if(this._zooming&&(n.zoom=bn(r,l,e)),this._rotating&&(n.bearing=bn(i,u,e)),this._pitching&&(n.pitch=bn(o,c,e)),this._padding&&(n.interpolatePadding(a,d,e),f=n.centerPoint.add(h)),b)n.setLocationAtPoint(b,x);else{const t=n.zoomScale(n.zoom-r),i=l>r?Math.min(2,y):Math.max(.5,y),o=Math.pow(i,1-e),a=n.unproject(g.add(_.mult(e*o)).mult(t));n.setLocationAtPoint(n.renderWorldCopies?a.wrap():a,f)}this._fireMoveEvents(t)},e=>{n.recenterOnTerrain(),this._afterEase(t,e)},e),this}_prepareEase(e,t,n={}){this._moving=!0,this.transform.cameraElevationReference="sea",t||n.moving||this.fire(new Je("movestart",e)),this._zooming&&!n.zooming&&this.fire(new Je("zoomstart",e)),this._rotating&&!n.rotating&&this.fire(new Je("rotatestart",e)),this._pitching&&!n.pitching&&this.fire(new Je("pitchstart",e))}_fireMoveEvents(e){this.fire(new Je("move",e)),this._zooming&&this.fire(new Je("zoom",e)),this._rotating&&this.fire(new Je("rotate",e)),this._pitching&&this.fire(new Je("pitch",e))}_afterEase(e,t){if(this._easeId&&t&&this._easeId===t)return;delete this._easeId,this.transform.cameraElevationReference="ground";const n=this._zooming,r=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new Je("zoomend",e)),r&&this.fire(new Je("rotateend",e)),i&&this.fire(new Je("pitchend",e)),this.fire(new Je("moveend",e))}flyTo(e,t){if(!e.essential&&$.prefersReducedMotion){const n=T(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,t)}this.stop(),e=E({offset:[0,0],speed:1.2,curve:1.42,easing:v},e);const n=this.transform,r=this.getZoom(),i=this.getBearing(),o=this.getPitch(),a=this.getPadding(),l="zoom"in e?b(+e.zoom,n.minZoom,n.maxZoom):r,u="bearing"in e?this._normalizeBearing(e.bearing,i):i,c="pitch"in e?+e.pitch:o,d="padding"in e?e.padding:n.padding,h=n.zoomScale(l-r),f=s.convert(e.offset);let p=n.centerPoint.add(f);const m=n.pointLocation(p),g=Kc.convert(e.center||m);this._normalizeCenter(g);const _=n.project(m),y=n.project(g).sub(_);let x=e.curve;const w=Math.max(n.width,n.height),S=w/h,k=y.mag();if("minZoom"in e){const t=b(Math.min(e.minZoom,r,l),n.minZoom,n.maxZoom),i=w/n.zoomScale(t-r);x=Math.sqrt(i/k*2)}const C=x*x;function P(e){const t=(S*S-w*w+(e?-1:1)*C*C*k*k)/(2*(e?S:w)*C*k);return Math.log(Math.sqrt(t*t+1)-t)}function R(e){return(Math.exp(e)-Math.exp(-e))/2}function O(e){return(Math.exp(e)+Math.exp(-e))/2}const M=P(0);let A=function(e){return O(M)/O(M+x*e)},I=function(e){return w*((O(M)*(R(t=M+x*e)/O(t))-R(M))/C)/k;var t},D=(P(1)-M)/x;if(Math.abs(k)<1e-6||!isFinite(D)){if(Math.abs(w-S)<1e-6)return this.easeTo(e,t);const n=S<w?-1:1;D=Math.abs(Math.log(S/w))/x,I=function(){return 0},A=function(e){return Math.exp(n*x*e)}}return e.duration="duration"in e?+e.duration:1e3*D/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=i!==u,this._pitching=c!==o,this._padding=!n.isPaddingEqual(d),this._prepareEase(t,!1),this._ease(e=>{const s=e*D,h=1/A(s);n.zoom=1===e?l:r+n.scaleZoom(h),this._rotating&&(n.bearing=bn(i,u,e)),this._pitching&&(n.pitch=bn(o,c,e)),this._padding&&(n.interpolatePadding(a,d,e),p=n.centerPoint.add(f));const m=1===e?g:n.unproject(_.add(y.mult(I(s))).mult(h));n.setLocationAtPoint(n.renderWorldCopies?m.wrap():m,p),n._updateCenterElevation(),this._fireMoveEvents(t)},()=>this._afterEase(t),e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(e,t,n){!1===n.animate||0===n.duration?(e(1),t()):(this._easeStart=$.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=t,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const e=Math.min(($.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(e,t){e=x(e,-180,180);const n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}class Sg{constructor(e={}){this.options=e,O(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=Z.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Z.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Z.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){Z.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString("AttributionControl."+t);e.title=n,e.setAttribute("aria-label",n)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));const t=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||ne.ACCESS_TOKEN}];if(e){const n=t.reduce((e,n,r)=>(n.value&&(e+=`${n.key}=${n.value}${r<t.length-1?"&":""}`),e),"?");e.href=`${ne.FEEDBACK_URL}/${n}${this._map._hash?this._map._hash.getHashString(!0):""}`,e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(e=>"string"!=typeof e?"":e)):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const n in t){const r=t[n];if(r.used){const t=r.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort((e,t)=>e.length-t.length),e=e.filter((t,n)=>{for(let r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0});const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Eg{constructor(){O(["_updateLogo"],this),O(["_updateCompact"],this)}onAdd(e){this._map=e,this._container=Z.create("div","mapboxgl-ctrl");const t=Z.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){Z.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const n=e[t].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Tg{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const t of n)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const kg={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:Cg,HTMLElement:Pg,ImageBitmap:Rg}=u,Og={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Mg(e){e.parentNode&&e.parentNode.removeChild(e)}const Ag={showCompass:!0,showZoom:!0,visualizePitch:!1};class Ig{constructor(e,t,n=!1){this._clickTolerance=10,this.element=t,this.mouseRotate=new Km({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,n&&(this.mousePitch=new Xm({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),O(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),Z.addEventListener(t,"mousedown",this.mousedown),Z.addEventListener(t,"touchstart",this.touchstart,{passive:!1}),Z.addEventListener(t,"touchmove",this.touchmove),Z.addEventListener(t,"touchend",this.touchend),Z.addEventListener(t,"touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),Z.disableDrag()}move(e,t){const n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){const r=this.mousePitch.mousemoveWindow(e,t);r&&r.pitchDelta&&n.setPitch(n.getPitch()+r.pitchDelta)}}off(){const e=this.element;Z.removeEventListener(e,"mousedown",this.mousedown),Z.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),Z.removeEventListener(e,"touchmove",this.touchmove),Z.removeEventListener(e,"touchend",this.touchend),Z.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){Z.enableDrag(),Z.removeEventListener(u,"mousemove",this.mousemove),Z.removeEventListener(u,"mouseup",this.mouseup)}mousedown(e){this.down(E({},e,{ctrlKey:!0,preventDefault:()=>e.preventDefault()}),Z.mousePos(this.element,e)),Z.addEventListener(u,"mousemove",this.mousemove),Z.addEventListener(u,"mouseup",this.mouseup)}mousemove(e){this.move(e,Z.mousePos(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=Z.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=Z.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Dg(e,t,n){if(e=new Kc(e.lng,e.lat),t){const r=new Kc(e.lng-360,e.lat),i=new Kc(e.lng+360,e.lat),o=360*Math.ceil(Math.abs(e.lng-n.center.lng)/360),a=n.locationPoint(e).distSqr(t),s=t.x<0||t.y<0||t.x>n.width||t.y>n.height;n.locationPoint(r).distSqr(t)<a&&(s||Math.abs(r.lng-n.center.lng)<o)?e=r:n.locationPoint(i).distSqr(t)<a&&(s||Math.abs(i.lng-n.center.lng)<o)&&(e=i)}for(;Math.abs(e.lng-n.center.lng)>180;){const t=n.locationPoint(e);if(t.x>=0&&t.y>=0&&t.x<=n.width&&t.y<=n.height)break;e.lng>n.center.lng?e.lng-=360:e.lng+=360}return e}const Lg={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function zg(e,t,n){const r=e.classList;for(const e in Lg)r.remove(`mapboxgl-${n}-anchor-${e}`);r.add(`mapboxgl-${n}-anchor-${t}`)}class Ng extends tt{constructor(e,t){if(super(),(e instanceof u.HTMLElement||t)&&(e=E({element:e},t)),O(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,e&&e.element)this._element=e.element,this._offset=s.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=Z.create("div"),this._element.setAttribute("aria-label","Map marker");const t=Z.createNS("http://www.w3.org/2000/svg","svg"),n=41,r=27;t.setAttributeNS(null,"display","block"),t.setAttributeNS(null,"height",n+"px"),t.setAttributeNS(null,"width",r+"px"),t.setAttributeNS(null,"viewBox",`0 0 ${r} ${n}`);const i=Z.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"stroke","none"),i.setAttributeNS(null,"stroke-width","1"),i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"fill-rule","evenodd");const o=Z.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"fill-rule","nonzero");const a=Z.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"transform","translate(3.0, 29.0)"),a.setAttributeNS(null,"fill","#000000");const l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of l){const t=Z.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),a.appendChild(t)}const u=Z.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);const c=Z.createNS("http://www.w3.org/2000/svg","path");c.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(c);const d=Z.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");const h=Z.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(h);const f=Z.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");const p=Z.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"transform","translate(8.0, 8.0)");const m=Z.createNS("http://www.w3.org/2000/svg","circle");m.setAttributeNS(null,"fill","#000000"),m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"cx","5.5"),m.setAttributeNS(null,"cy","5.5"),m.setAttributeNS(null,"r","5.4999962");const g=Z.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#FFFFFF"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962"),p.appendChild(m),p.appendChild(g),o.appendChild(a),o.appendChild(u),o.appendChild(d),o.appendChild(f),o.appendChild(p),t.appendChild(o),t.setAttributeNS(null,"height",n*this._scale+"px"),t.setAttributeNS(null,"width",r*this._scale+"px"),this._element.appendChild(t),this._offset=s.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()}),zg(this._element,this._anchor,"marker"),this._popup=null}addTo(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),Z.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=Kc.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(e){const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}_updateOcclusion(){this._occlusionTimer||(this._occlusionTimer=setTimeout(this._onOcclusionTimer.bind(this),60))}_onOcclusionTimer(){const e=this._map.transform,t=this._pos?this._pos.sub(this._transformedOffset()):null;if(t&&t.x>=0&&t.x<e.width&&t.y>=0&&t.y<e.height){const e=this._map.unproject(t),n=this._map.getFreeCameraOptions();if(n.position){const t=n.position.toLngLat(),r=t.distanceTo(e),i=t.distanceTo(this._lngLat);this._element.classList.toggle("mapboxgl-marker-occluded",r<.9*i)}}this._occlusionTimer=null}_update(e){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Dg(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset()),this._map.transform.elevation&&this._updateOcclusion();let t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(t=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n=`rotateX(${this._map.getPitch()}deg)`),e&&"moveend"!==e.type||(this._pos=this._pos.round()),Z.setTransform(this._element,`${Lg[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${n} ${t}`)}_transformedOffset(){if(!this._defaultMarker)return this._offset;const e=this._map.transform,t=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&t._rotate(e.angle),"map"===this._pitchAlignment&&(t.y*=Math.cos(e._pitch)),t}getOffset(){return this._offset}setOffset(e){return this._offset=s.convert(e),this._update(),this}_onMove(e){if(!this._isDragging){const t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new Je("dragstart"))),this.fire(new Je("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new Je("dragend")),this._state="inactive"}_addDragHandler(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Fg={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Bg,jg=0,Vg=!1;const Ug={maxWidth:100,unit:"metric"};function Wg(e,t,n){const r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){const n=3.2808*s;n>5280?Gg(t,r,n/5280,e._getUIString("ScaleControl.Miles")):Gg(t,r,n,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Gg(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Gg(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):Gg(t,r,s,e._getUIString("ScaleControl.Meters"))}function Gg(e,t,n,r){const i=function(e){const t=Math.pow(10,(""+Math.floor(e)).length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(n);e.style.width=t*(i/n)+"px",e.innerHTML=`${i}&nbsp;${r}`}const Hg={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},qg=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),$g={version:i,supported:e,setRTLTextPlugin:function(e,t,n=!1){if(Di===Oi||Di===Mi||Di===Ai)throw new Error("setRTLTextPlugin cannot be called multiple times.");Li=$.resolveURL(e),Di=Oi,Ii=t,Ni(),n||ji()},getRTLTextPluginStatus:Bi,Map:class extends wg{constructor(e){if(null!=(e=E({},Og,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new km(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies),e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._optimizeForTerrain=e.optimizeForTerrain,this._renderTaskQueue=new Tg,this._controls=[],this._mapId=C(),this._locale=E({},kg,e.locale),this._clickTolerance=e.clickTolerance,this._requestManager=new de(e.transformRequest,e.accessToken,e.testMode),this._silenceAuthErrors=!!e.testMode,"string"==typeof e.container){if(this._container=u.document.getElementById(e.container),!this._container)throw new Error(`Container '${e.container}' not found.`)}else{if(!(e.container instanceof Pg))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),O(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==u&&(u.addEventListener("online",this._onWindowOnline,!1),u.addEventListener("resize",this._onWindowResize,!1),u.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new xg(this,e),this._hash=e.hash&&new Cm("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,E({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localFontFamily=e.localFontFamily,this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),e.attributionControl&&this.addControl(new Sg({customAttribution:e.customAttribution})),this._logoControl=new Eg,this.addControl(this._logoControl,e.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",e=>{this._update("style"===e.dataType),this.fire(new Je(e.dataType+"data",e))}),this.on("dataloading",e=>{this.fire(new Je(e.dataType+"dataloading",e))})}_getMapId(){return this._mapId}addControl(e,t){if(void 0===t&&(t=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new et(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[t];return-1!==t.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new et(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const t=this._controls.indexOf(e);return t>-1&&this._controls.splice(t,1),e.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}resize(e){const t=this._containerDimensions(),n=t[0],r=t[1];this._resizeCanvas(n,r),this.transform.resize(n,r),this.painter.resize(n,r);const i=!this._moving;return i&&(this.stop(),this.fire(new Je("movestart",e)).fire(new Je("move",e))),this.fire(new Je("resize",e)),i&&this.fire(new Je("moveend",e)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds($c.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?85:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}project(e){return this.transform.locationPoint3D(Kc.convert(e))}unproject(e){return this.transform.pointLocation3D(s.convert(e))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let r=!1;const i=i=>{const o=this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[];o.length?r||(r=!0,n.call(this,new zm(e,this,i.originalEvent,{features:o}))):r=!1};return{layer:t,listener:n,delegates:{mousemove:i,mouseout:()=>{r=!1}}}}if("mouseleave"===e||"mouseout"===e){let r=!1;const i=i=>{(this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?r=!0:r&&(r=!1,n.call(this,new zm(e,this,i.originalEvent)))},o=t=>{r&&(r=!1,n.call(this,new zm(e,this,t.originalEvent)))};return{layer:t,listener:n,delegates:{mousemove:i,mouseout:o}}}{const r=e=>{const r=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(this,e),delete e.features)};return{layer:t,listener:n,delegates:{[e]:r}}}}on(e,t,n){if(void 0===n)return super.on(e,t);const r=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r);for(const e in r.delegates)this.on(e,r.delegates[e]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);const r=this._createDelegatedListener(e,t,n);for(const e in r.delegates)this.once(e,r.delegates[e]);return this}off(e,t,n){return void 0===n?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(r=>{const i=this._delegatedListeners[e];for(let e=0;e<i.length;e++){const r=i[e];if(r.layer===t&&r.listener===n){for(const e in r.delegates)this.off(e,r.delegates[e]);return i.splice(e,1),this}}})(),this)}queryRenderedFeatures(e,t){return this.style?(void 0!==t||void 0===e||e instanceof s||Array.isArray(e)||(t=e,e=void 0),this.style.queryRenderedFeatures(e=e||[[0,0],[this.transform.width,this.transform.height]],t=t||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(e,t){return!1!==(t=E({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},t)).diff&&t.localIdeographFontFamily===this._localIdeographFontFamily&&t.localFontFamily===this._localFontFamily&&this.style&&e?(this._diffStyle(e,t),this):(this._localIdeographFontFamily=t.localIdeographFontFamily,this._localFontFamily=t.localFontFamily,this._updateStyle(e,t))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),e&&(this.style=new Zf(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Zf(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e,t){if("string"==typeof e){const n=this._requestManager.normalizeStyleURL(e),r=this._requestManager.transformRequest(n,Fe.Style);Ue(r,(e,n)=>{e?this.fire(new et(e)):n&&this._updateDiff(n,t)})}else"object"==typeof e&&this._updateDiff(e,t)}_updateDiff(e,t){try{this.style.setState(e)&&this._update(!0)}catch(n){z(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(e,t)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():z("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){const t=this.style&&this.style._getSourceCaches(e);if(0!==t.length)return t.every(e=>e.loaded());this.fire(new et(new Error(`There is no source with ID '${e}'`)))}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(e,t,{pixelRatio:n=1,sdf:r=!1,stretchX:i,stretchY:o,content:a}={}){if(this._lazyInitEmptyStyle(),t instanceof Cg||Rg&&t instanceof Rg){const{width:s,height:l,data:u}=$.getImageData(t);this.style.addImage(e,{data:new Us({width:s,height:l},u),pixelRatio:n,stretchX:i,stretchY:o,content:a,sdf:r,version:0})}else{if(void 0===t.width||void 0===t.height)return this.fire(new et(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:s,height:l,data:u}=t,c=t;this.style.addImage(e,{data:new Us({width:s,height:l},new Uint8Array(u)),pixelRatio:n,stretchX:i,stretchY:o,content:a,sdf:r,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e)}}}updateImage(e,t){const n=this.style.getImage(e);if(!n)return this.fire(new et(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=t instanceof Cg||Rg&&t instanceof Rg?$.getImageData(t):t,{width:i,height:o,data:a}=r;return void 0===i||void 0===o?this.fire(new et(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):i!==n.data.width||o!==n.data.height?this.fire(new et(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(a,!(t instanceof Cg||Rg&&t instanceof Rg)),void this.style.updateImage(e,n))}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new et(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(e,t){Xe(this._requestManager.transformRequest(e,Fe.Image),t)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t,n={}){return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n,r={}){return this.style.setPaintProperty(e,t,n,r),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n,r={}){return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),this.style.setTerrain(e),this._update(!0)}getTerrain(){return this.style.getTerrain()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_detectMissingCSS(){"rgb(250, 128, 114)"!==u.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&z("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=Z.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=Z.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=Z.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);const r=this._controlContainer=Z.create("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{i[e]=Z.create("div","mapboxgl-ctrl-"+e,r)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,t){const n=$.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"}_setupPainter(){const t=E({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);n?(ke(n,!0),this.painter=new gm(n,this.transform),this.on("data",e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)}),re.testSupport(n)):this.fire(new et(new Error("Failed to initialize WebGL")))}_contextLost(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new Je("webglcontextlost",{originalEvent:e}))}_contextRestored(e){this._setupPainter(),this.resize(),this._update(),this.fire(new Je("webglcontextrestored",{originalEvent:e}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(e){let t,n=0;const r=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(t=r.createQueryEXT(),r.beginQueryEXT(r.TIME_ELAPSED_EXT,t),n=$.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._removed)return;let i=!1;const o=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,t=$.now();this.style.zoomHistory.update(e,t);const n=new Ui(e,{now:t,fadeDuration:o,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=n.crossFadingFactor();1===r&&r===this._crossFadingFactor||(i=!0,this._crossFadingFactor=r),this.style.update(n)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new Je("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new Je("load"))),this.style&&(this.style.hasTransitions()||i)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const e=$.now()-n;r.endQueryEXT(r.TIME_ELAPSED_EXT,t),setTimeout(()=>{const n=r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(t),this.fire(new Je("gpu-timing-frame",{cpuTime:e,gpuTime:n}))},50)}if(this.listens("gpu-timing-layer")){const e=this.painter.collectGpuTimers();setTimeout(()=>{const t=this.painter.queryGpuTimers(e);this.fire(new Je("gpu-timing-layer",{layerTimes:t}))},50)}const a=this._sourcesDirty||this._styleDirty||this._placementDirty;if(a||this._repaint)this.triggerRepaint();else if(this._triggerFrame(!1),!this.isMoving()&&this.loaded()&&(this.fire(new Je("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const e=this._calculateSpeedIndex();this.fire(new Je("speedindexcompleted",{speedIndex:e})),this.speedIndexTiming=!1}return!this._loaded||this._fullyLoaded||a||(this._fullyLoaded=!0,this._authenticate()),this}_authenticate(){Ee(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,e=>{if(e&&(e.message===ce||401===e.status)){const e=this.painter.context.gl;ke(e,!1),this._logoControl instanceof Eg&&this._logoControl._updateLogo(),e&&e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT|e.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new et(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),we(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const n=this.painter.context.gl,r=n.createFramebuffer();function i(e){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);const t=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,t),t}return n.bindFramebuffer(n.FRAMEBUFFER,r),this._canvasPixelComparison(i(e),t.canvasCopies.map(i),t.timeStamps)}_canvasPixelComparison(e,t,n){let r=n[1]-n[0];const i=e.length/4;for(let o=0;o<t.length;o++){const a=t[o];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);r+=(n[o+2]-n[o+1])*(1-s/i)}return r}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==u&&(u.removeEventListener("resize",this._onWindowResize,!1),u.removeEventListener("orientationchange",this._onWindowResize,!1),u.removeEventListener("online",this._onWindowOnline,!1));const e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),Mg(this._canvasContainer),Mg(this._controlContainer),Mg(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),Te.delete(this.painter.context.gl),this._removed=!0,this.fire(new Je("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(e){this._renderNextFrame=this._renderNextFrame||e,this.style&&!this._frame&&(this._frame=$.frame(e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)}))}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}_setCacheLimits(e,t){!function(e,t){Oe=e,Me=t}(e,t)}get version(){return i}},NavigationControl:class{constructor(e){this.options=E({},Ag,e),this._container=Z.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(O(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),Z.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),Z.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(O(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=Z.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}_rotateCompassArrow(){const e=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=e}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ig(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){Z.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const n=Z.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}_setButtonTitle(e,t){const n=this._map._getUIString("NavigationControl."+t);e.title=n,e.setAttribute("aria-label",n)}},GeolocateControl:class extends tt{constructor(e){super(),this.options=E({},Fg,e),O(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(e){var t;return this._map=e,this._container=Z.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),t=this._setupUI,void 0!==Bg?t(Bg):void 0!==u.navigator.permissions?u.navigator.permissions.query({name:"geolocation"}).then(e=>{Bg="denied"!==e.state,t(Bg)}):(Bg=!!u.navigator.geolocation,t(Bg)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(u.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),Z.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,jg=0,Vg=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new Je("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new Je("geolocate",e)),this._finish()}}_updateCamera(e){const t=new Kc(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,r=E({bearing:this._map.getBearing()},this.options.fitBoundsOptions);this._map.fitBounds(t.toBounds(n),r,{geolocateSource:!0})}_updateMarker(e){if(e){const t=new Kc(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(t).addTo(this._map),this._userLocationDotMarker.setLngLat(t).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([100,e]),r=t.distanceTo(n)/100,i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Vg)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new Je("error",e)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(e){if(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=Z.create("button","mapboxgl-ctrl-geolocate",this._container),Z.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){z("Geolocation support is not available so the GeolocateControl will be disabled.");const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Z.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ng(this._dotElement),this._circleElement=Z.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ng({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",e=>{e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new Je("trackuserlocationend")))})}trigger(){if(!this._setup)return z("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new Je("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":jg--,Vg=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new Je("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new Je("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),jg++,jg>1?(e={maximumAge:6e5,timeout:0},Vg=!0):(e=this.options.positionOptions,Vg=!1),this._geolocationWatchID=u.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else u.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){u.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Sg,ScaleControl:class{constructor(e){this.options=E({},Ug,e),O(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Wg(this._map,this._container,this.options)}onAdd(e){return this._map=e,this._container=Z.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){Z.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(e){this.options.unit=e,Wg(this._map,this._container,this.options)}},FullscreenControl:class{constructor(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof u.HTMLElement?this._container=e.container:z("Full screen control 'container' must be a DOM element.")),O(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in u.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in u.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=Z.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",z("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){Z.remove(this._controlContainer),this._map=null,u.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!u.document.fullscreenEnabled&&!u.document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=Z.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Z.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),u.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(u.document.fullscreenElement||u.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?u.document.exitFullscreen?u.document.exitFullscreen():u.document.webkitCancelFullScreen&&u.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends tt{constructor(e){super(),this.options=E(Object.create(Hg),e),O(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new Je("open")),this}isOpen(){return!!this._map}remove(){return this._content&&Z.remove(this._content),this._container&&(Z.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new Je("close")),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=Kc.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(u.document.createTextNode(e))}setHTML(e){const t=u.document.createDocumentFragment(),n=u.document.createElement("body");let r;for(n.innerHTML=e;r=n.firstChild,r;)t.appendChild(r);return this.setDOMContent(t)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=Z.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){this._container&&this._container.classList.add(e)}removeClassName(e){this._container&&this._container.classList.remove(e)}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}_createCloseButton(){this.options.closeButton&&(this._closeButton=Z.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(e){this._update(e.point)}_onMouseMove(e){this._update(e.point)}_onDrag(e){this._update(e.point)}_update(e){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(this._container||(this._container=Z.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=Z.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(e=>this._container.classList.add(e)),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Dg(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!e)return;const t=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);let n=this.options.anchor;const r=function e(t){if(t){if("number"==typeof t){const e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new s(0,0),top:new s(0,t),"top-left":new s(e,e),"top-right":new s(-e,e),bottom:new s(0,-t),"bottom-left":new s(e,-e),"bottom-right":new s(-e,-e),left:new s(t,0),right:new s(-t,0)}}if(t instanceof s||Array.isArray(t)){const e=s.convert(t);return{center:e,top:e,"top-left":e,"top-right":e,bottom:e,"bottom-left":e,"bottom-right":e,left:e,right:e}}return{center:s.convert(t.center||[0,0]),top:s.convert(t.top||[0,0]),"top-left":s.convert(t["top-left"]||[0,0]),"top-right":s.convert(t["top-right"]||[0,0]),bottom:s.convert(t.bottom||[0,0]),"bottom-left":s.convert(t["bottom-left"]||[0,0]),"bottom-right":s.convert(t["bottom-right"]||[0,0]),left:s.convert(t.left||[0,0]),right:s.convert(t.right||[0,0])}}return e(new s(0,0))}(this.options.offset);if(!n){const e=this._container.offsetWidth,i=this._container.offsetHeight;let o;o=t.y+r.bottom.y<i?["top"]:t.y>this._map.transform.height-i?["bottom"]:[],t.x<e/2?o.push("left"):t.x>this._map.transform.width-e/2&&o.push("right"),n=0===o.length?"bottom":o.join("-")}const i=t.add(r[n]).round();Z.setTransform(this._container,`${Lg[n]} translate(${i.x}px,${i.y}px)`),zg(this._container,n,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(qg);e&&e.focus()}_onClose(){this.remove()}},Marker:Ng,Style:Zf,LngLat:Kc,LngLatBounds:$c,Point:s,MercatorCoordinate:rd,FreeCameraOptions:Em,Evented:tt,config:ne,prewarm:function(){Vh().acquire(Fh)},clearPrewarmedResources:function(){const e=jh;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Fh),jh=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return ne.ACCESS_TOKEN},set accessToken(e){ne.ACCESS_TOKEN=e},get baseApiUrl(){return ne.API_URL},set baseApiUrl(e){ne.API_URL=e},get workerCount(){return Bh.workerCount},set workerCount(e){Bh.workerCount=e},get maxParallelImageRequests(){return ne.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){ne.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage(e){!function(e){const t=u.caches.delete(Ce);e&&t.catch(e).then(()=>e())}(e)},workerUrl:"",workerClass:null,setNow:$.setNow,restoreNow:$.restoreNow};return $g}()}).call(this,n(123))},function(e,t,n){"use strict";function r(){return new Worker(n.p+"app.bundle.worker.js")}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1),o=r(n(0)),a=this,s="C:\\Users\\masze\\Documents\\UST\\ISDN 2002\\Github\\CatchProject\\src\\components\\Login.js",l=i.StyleSheet.create({input:{borderWidth:1,fontSize:24,fontFamily:"Arial"}}),u=function(e){return o.createElement(i.SafeAreaView,{__self:a,__source:{fileName:s,lineNumber:6,columnNumber:5}},o.createElement(i.Text,{style:l.input,__self:a,__source:{fileName:s,lineNumber:7,columnNumber:7}},"PlayerID:"),o.createElement(i.TextInput,{style:l.input,keyboardType:"numeric",__self:a,__source:{fileName:s,lineNumber:8,columnNumber:7}}))};t.default=u},function(e){e.exports=JSON.parse('{"name":"CatchProject","displayName":"CatchProject"}')},function(e,t,n){var r=n(383),i=n(384);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=s(c),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:c,updater:g(h,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var o=m++;n=p||(p=u(t)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=l(e,t),u=0;u<n.length;u++){var c=s(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(e,t,n){"use strict";n.r(t);var r=n(169),i=n.n(r)()(!0);i.push([e.i,".map-container {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n}\r\n","",{version:3,sources:["webpack://site.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,OAAO;EACP,SAAS;AACX",sourcesContent:[".map-container {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n}\r\n"],sourceRoot:""}]),t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"createStackNavigator",(function(){return bt})),n.d(t,"Assets",(function(){return Tt})),n.d(t,"StackView",(function(){return _t})),n.d(t,"Header",(function(){return at})),n.d(t,"HeaderTitle",(function(){return rt})),n.d(t,"HeaderBackButton",(function(){return _e})),n.d(t,"HeaderBackground",(function(){return be})),n.d(t,"CardStyleInterpolators",(function(){return r})),n.d(t,"HeaderStyleInterpolators",(function(){return i})),n.d(t,"TransitionSpecs",(function(){return o})),n.d(t,"TransitionPresets",(function(){return a})),n.d(t,"CardAnimationContext",(function(){return Ae})),n.d(t,"HeaderHeightContext",(function(){return Ve})),n.d(t,"GestureHandlerRefContext",(function(){return xt})),n.d(t,"useCardAnimation",(function(){return wt})),n.d(t,"useHeaderHeight",(function(){return St})),n.d(t,"useGestureHandlerRef",(function(){return Et}));var r={};n.r(r),n.d(r,"forHorizontalIOS",(function(){return p})),n.d(r,"forVerticalIOS",(function(){return m})),n.d(r,"forModalPresentationIOS",(function(){return g})),n.d(r,"forFadeFromBottomAndroid",(function(){return _})),n.d(r,"forRevealFromBottomAndroid",(function(){return y})),n.d(r,"forScaleFromCenterAndroid",(function(){return v})),n.d(r,"forNoAnimation",(function(){return b}));var i={};n.r(i),n.d(i,"forUIKit",(function(){return w})),n.d(i,"forFade",(function(){return S})),n.d(i,"forSlideLeft",(function(){return E})),n.d(i,"forSlideRight",(function(){return T})),n.d(i,"forSlideUp",(function(){return k})),n.d(i,"forNoAnimation",(function(){return C}));var o={};n.r(o),n.d(o,"TransitionIOSSpec",(function(){return P})),n.d(o,"FadeInFromBottomAndroidSpec",(function(){return R})),n.d(o,"FadeOutToBottomAndroidSpec",(function(){return O})),n.d(o,"RevealFromBottomAndroidSpec",(function(){return M})),n.d(o,"ScaleFromCenterAndroidSpec",(function(){return A}));var a={};n.r(a),n.d(a,"SlideFromRightIOS",(function(){return I})),n.d(a,"ModalSlideFromBottomIOS",(function(){return D})),n.d(a,"ModalPresentationIOS",(function(){return L})),n.d(a,"FadeFromBottomAndroid",(function(){return z})),n.d(a,"RevealFromBottomAndroid",(function(){return N})),n.d(a,"ScaleFromCenterAndroid",(function(){return F})),n.d(a,"DefaultTransition",(function(){return B})),n.d(a,"ModalTransition",(function(){return j}));var s=n(1);function l(){const e=s.Dimensions.get("window");return!("ios"!==s.Platform.OS||s.Platform.isPad||s.Platform.isTVOS||780!==e.height&&780!==e.width&&812!==e.height&&812!==e.width&&844!==e.height&&844!==e.width&&896!==e.height&&896!==e.width&&926!==e.height&&926!==e.width)}const{add:u,multiply:c}=s.Animated;function d(e,t,n){return u(c(e,t),c(e.interpolate({inputRange:[0,1],outputRange:[1,0]}),n))}const{add:h,multiply:f}=s.Animated;function p({current:e,next:t,inverted:n,layouts:{screen:r}}){return{cardStyle:{transform:[{translateX:f(e.progress.interpolate({inputRange:[0,1],outputRange:[r.width,0],extrapolate:"clamp"}),n)},{translateX:t?f(t.progress.interpolate({inputRange:[0,1],outputRange:[0,-.3*r.width],extrapolate:"clamp"}),n):0}]},overlayStyle:{opacity:e.progress.interpolate({inputRange:[0,1],outputRange:[0,.07],extrapolate:"clamp"})},shadowStyle:{shadowOpacity:e.progress.interpolate({inputRange:[0,1],outputRange:[0,.3],extrapolate:"clamp"})}}}function m({current:e,inverted:t,layouts:{screen:n}}){return{cardStyle:{transform:[{translateY:f(e.progress.interpolate({inputRange:[0,1],outputRange:[n.height,0],extrapolate:"clamp"}),t)}]}}}function g({index:e,current:t,next:n,inverted:r,layouts:{screen:i},insets:o}){const a=i.width>i.height,s=a?0:10,u=o.top,c=i.height/i.width,d=h(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0),p=f(d.interpolate({inputRange:[0,1,2],outputRange:[i.height,0===e?0:s,(0===e?u:0)-s*c]}),r),m=d.interpolate({inputRange:[0,1,1.0001,2],outputRange:[0,.3,1,1]}),g=a?1:d.interpolate({inputRange:[0,1,2],outputRange:[1,1,i.width?1-2*s/i.width:1]}),_=a?0:0===e?d.interpolate({inputRange:[0,1,1.0001,2],outputRange:[0,0,l()?38:0,10]}):10;return{cardStyle:{overflow:"hidden",borderTopLeftRadius:_,borderTopRightRadius:_,marginTop:0===e?0:u,marginBottom:0===e?0:s,transform:[{translateY:p},{scale:g}]},overlayStyle:{opacity:m}}}function _({current:e,inverted:t,layouts:{screen:n},closing:r}){const i=f(e.progress.interpolate({inputRange:[0,1],outputRange:[.08*n.height,0],extrapolate:"clamp"}),t);return{cardStyle:{opacity:d(r,e.progress,e.progress.interpolate({inputRange:[0,.5,.9,1],outputRange:[0,.25,.7,1]})),transform:[{translateY:i}]}}}function y({current:e,next:t,inverted:n,layouts:{screen:r}}){return{containerStyle:{overflow:"hidden",transform:[{translateY:f(e.progress.interpolate({inputRange:[0,1],outputRange:[r.height,0],extrapolate:"clamp"}),n)}]},cardStyle:{transform:[{translateY:f(e.progress.interpolate({inputRange:[0,1],outputRange:[r.height*(95.9/100)*-1,0],extrapolate:"clamp"}),n)},{translateY:t?f(t.progress.interpolate({inputRange:[0,1],outputRange:[0,.02*r.height*-1],extrapolate:"clamp"}),n):0}]},overlayStyle:{opacity:e.progress.interpolate({inputRange:[0,.36,1],outputRange:[0,.1,.1],extrapolate:"clamp"})}}}function v({current:e,next:t,closing:n}){const r=h(e.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),t?t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0);return{containerStyle:{opacity:r.interpolate({inputRange:[0,.75,.875,1,1.0825,1.2075,2],outputRange:[0,0,1,1,1,1,0]}),transform:[{scale:d(n,e.progress.interpolate({inputRange:[0,1],outputRange:[.9,1],extrapolate:"clamp"}),r.interpolate({inputRange:[0,1,2],outputRange:[.85,1,1.1]}))}]}}}function b(){return{}}const{add:x}=s.Animated;function w({current:e,next:t,layouts:n}){const r=n.leftLabel?(n.screen.width-n.leftLabel.width)/2-27:100,i=n.title?(n.screen.width-n.title.width)/2-27:100,o=n.screen.width/4,a=x(e.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),t?t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0);return{leftButtonStyle:{opacity:a.interpolate({inputRange:[.3,1,1.5],outputRange:[0,1,0]})},leftLabelStyle:{transform:[{translateX:a.interpolate({inputRange:[0,1,2],outputRange:s.I18nManager.isRTL?[-o,0,r]:[r,0,-o]})}]},rightButtonStyle:{opacity:a.interpolate({inputRange:[.3,1,1.5],outputRange:[0,1,0]})},titleStyle:{opacity:a.interpolate({inputRange:[0,.4,1,1.5],outputRange:[0,.1,1,0]}),transform:[{translateX:a.interpolate({inputRange:[.5,1,2],outputRange:s.I18nManager.isRTL?[-i,0,o]:[o,0,-i]})}]},backgroundStyle:{transform:[{translateX:a.interpolate({inputRange:[0,1,2],outputRange:s.I18nManager.isRTL?[-n.screen.width,0,n.screen.width]:[n.screen.width,0,-n.screen.width]})}]}}}function S({current:e,next:t}){const n=x(e.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),t?t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0),r=n.interpolate({inputRange:[0,1,2],outputRange:[0,1,0]});return{leftButtonStyle:{opacity:r},rightButtonStyle:{opacity:r},titleStyle:{opacity:r},backgroundStyle:{opacity:n.interpolate({inputRange:[0,1,1.9,2],outputRange:[0,1,1,0]})}}}function E({current:e,next:t,layouts:{screen:n}}){const r=[{translateX:x(e.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),t?t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:s.I18nManager.isRTL?[-n.width,0,n.width]:[n.width,0,-n.width]})}];return{leftButtonStyle:{transform:r},rightButtonStyle:{transform:r},titleStyle:{transform:r},backgroundStyle:{transform:r}}}function T({current:e,next:t,layouts:{screen:n}}){const r=[{translateX:x(e.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),t?t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:s.I18nManager.isRTL?[n.width,0,-n.width]:[-n.width,0,n.width]})}];return{leftButtonStyle:{transform:r},rightButtonStyle:{transform:r},titleStyle:{transform:r},backgroundStyle:{transform:r}}}function k({current:e,next:t,layouts:{header:n}}){const r=[{translateY:x(e.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),t?t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:[-n.height,0,-n.height]})}];return{leftButtonStyle:{transform:r},rightButtonStyle:{transform:r},titleStyle:{transform:r},backgroundStyle:{transform:r}}}function C(){return{}}const P={animation:"spring",config:{stiffness:1e3,damping:500,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}},R={animation:"timing",config:{duration:350,easing:s.Easing.out(s.Easing.poly(5))}},O={animation:"timing",config:{duration:150,easing:s.Easing.in(s.Easing.linear)}},M={animation:"timing",config:{duration:425,easing:s.Easing.bezier(.35,.45,0,1)}},A={animation:"timing",config:{duration:400,easing:s.Easing.bezier(.35,.45,0,1)}},I={gestureDirection:"horizontal",transitionSpec:{open:P,close:P},cardStyleInterpolator:p,headerStyleInterpolator:S},D={gestureDirection:"vertical",transitionSpec:{open:P,close:P},cardStyleInterpolator:m,headerStyleInterpolator:S},L={gestureDirection:"vertical",transitionSpec:{open:P,close:P},cardStyleInterpolator:g,headerStyleInterpolator:S},z={gestureDirection:"vertical",transitionSpec:{open:R,close:O},cardStyleInterpolator:_,headerStyleInterpolator:S},N={gestureDirection:"vertical",transitionSpec:{open:M,close:M},cardStyleInterpolator:y,headerStyleInterpolator:S},F={gestureDirection:"horizontal",transitionSpec:{open:A,close:A},cardStyleInterpolator:v,headerStyleInterpolator:S},B=s.Platform.select({ios:I,android:s.Platform.Version>=29?F:s.Platform.Version>=28?N:z,default:F}),j=s.Platform.select({ios:D,default:B});var V=n(0),U=n(8);const W={WebkitTransition:"webkitTransitionEnd",Transition:"transitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd"};function G({children:e,style:t,onInsetsChange:n}){return V.useEffect(()=>{if("undefined"==typeof document)return;const e=function(){const e=document.createElement("div"),{style:t}=e;return t.position="fixed",t.left="0",t.top="0",t.width="0",t.height="0",t.zIndex="-1",t.overflow="hidden",t.visibility="hidden",t.transitionDuration="0.05s",t.transitionProperty="padding",t.transitionDelay="0s",t.paddingTop=Z("top"),t.paddingBottom=Z("bottom"),t.paddingLeft=Z("left"),t.paddingRight=Z("right"),e}();document.body.appendChild(e);const t=()=>{const{paddingTop:t,paddingBottom:r,paddingLeft:i,paddingRight:o}=window.getComputedStyle(e),a={top:t?parseInt(t,10):0,bottom:r?parseInt(r,10):0,left:i?parseInt(i,10):0,right:o?parseInt(o,10):0},s={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};n({nativeEvent:{insets:a,frame:s}})};return e.addEventListener(q(),t),t(),()=>{document.body.removeChild(e),e.removeEventListener(q(),t)}},[n]),V.createElement(s.View,{style:t},e)}let H=null;function q(){if(null!==H)return H;const e=document.createElement("invalidtype");H=W.Transition;for(const t in W)if(void 0!==e.style[t]){H=W[t];break}return H}let $=null;function Z(e){return"".concat(function(){if(null!==$)return $;const{CSS:e}=window;return $=e&&e.supports&&e.supports("top: constant(safe-area-inset-top)")?"constant":"env",$}(),"(safe-area-inset-").concat(e,")")}const K=V.createContext(null);K.displayName="SafeAreaInsetsContext";const X=V.createContext(null);function Y({children:e,initialMetrics:t,initialSafeAreaInsets:n,style:r}){var i,o,a,l,u;const c=V.useContext(K),d=V.useContext(X),[h,f]=V.useState(null!==(i=null!==(o=null!==(a=null==t?void 0:t.insets)&&void 0!==a?a:n)&&void 0!==o?o:c)&&void 0!==i?i:null),[p,m]=V.useState(null!==(l=null!==(u=null==t?void 0:t.frame)&&void 0!==u?u:d)&&void 0!==l?l:{x:0,y:0,width:s.Dimensions.get("window").width,height:s.Dimensions.get("window").height}),g=V.useCallback(e=>{const{nativeEvent:{frame:t,insets:n}}=e;!t||t.height===p.height&&t.width===p.width&&t.x===p.x&&t.y===p.y||m(t),h&&n.bottom===h.bottom&&n.left===h.left&&n.right===h.right&&n.top===h.top||f(n)},[p,h]);return V.createElement(G,{style:[Q.fill,r],onInsetsChange:g},null!=h?V.createElement(X.Provider,{value:p},V.createElement(K.Provider,{value:h},e)):null)}X.displayName="SafeAreaFrameContext";const Q=s.StyleSheet.create({fill:{flex:1}});const J=K.Consumer,ee=({children:e})=>V.createElement(V.Fragment,null,e),te=s.View,ne=2,re=3,ie=5;var oe;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let se;try{se=n(336)}catch(e){}class le extends V.Component{render(){const{active:e,style:t,...n}=this.props;return V.createElement(s.View,ae({hidden:!e,style:[t,{display:e?"flex":"none"}]},n))}}const ue=s.Animated.createAnimatedComponent(le),ce=null===(oe=se)||void 0===oe?void 0:oe.shouldUseActivityState,de=({enabled:e,...t})=>{var n;return e&&"web"!==s.Platform.OS&&null!==(n=se)&&void 0!==n&&n.screensEnabled()?V.createElement(se.ScreenContainer,ae({enabled:e},t)):V.createElement(s.View,t)},he=({enabled:e,active:t,...n})=>{var r;return e&&"web"===s.Platform.OS?V.createElement(ue,ae({active:t},n)):e&&null!==(r=se)&&void 0!==r&&r.screensEnabled()?ce?V.createElement(se.Screen,ae({enabled:e,activityState:t},n)):V.createElement(se.Screen,ae({enabled:e,active:t},n)):V.createElement(s.View,n)};var fe=n(145);function pe({children:e}){return e}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge({borderless:e=!1,pressColor:t="rgba(0, 0, 0, .32)",style:n,children:r,...i}){return"android"===s.Platform.OS&&s.Platform.Version>=21?V.createElement(s.TouchableNativeFeedback,me({},i,{useForeground:s.TouchableNativeFeedback.canUseNativeForeground(),background:s.TouchableNativeFeedback.Ripple(t,e)}),V.createElement(s.View,{style:n},V.Children.only(r))):V.createElement(s.TouchableOpacity,me({style:n},i),r)}function _e({disabled:e,allowFontScaling:t,backImage:r,label:i,labelStyle:o,labelVisible:a="ios"===s.Platform.OS,onLabelLayout:l,onPress:u,pressColorAndroid:c,screenLayout:d,tintColor:h,titleLayout:f,truncatedLabel:p="Back",accessibilityLabel:m=(i&&"Back"!==i?"".concat(i,", back"):"Go back"),style:g}){const{dark:_,colors:y}=Object(fe.a)(),[v,b]=V.useState(void 0),x=void 0!==h?h:s.Platform.select({ios:y.primary,default:y.text}),w=void 0!==c?c:_?"rgba(255, 255, 255, .32)":"rgba(0, 0, 0, .32)",S=e=>{null==l||l(e),b(e.nativeEvent.layout.x+e.nativeEvent.layout.width)};return V.createElement(ge,{disabled:e,accessible:!0,accessibilityRole:"button",accessibilityComponentType:"button",accessibilityLabel:m,accessibilityTraits:"button",testID:"header-back",delayPressIn:0,onPress:e?void 0:()=>u&&requestAnimationFrame(u),pressColor:w,style:[ye.container,e&&ye.disabled,g],hitSlop:s.Platform.select({ios:void 0,default:{top:16,right:16,bottom:16,left:16}}),borderless:!0},V.createElement(V.Fragment,null,r?r({tintColor:x}):V.createElement(s.Image,{style:[ye.icon,Boolean(a)&&ye.iconWithLabel,Boolean(x)&&{tintColor:x}],source:n(150),fadeDuration:0}),(()=>{const e=!i||v&&f&&d&&(d.width-f.width)/2<v+26?p:i;if(!a||void 0===e)return null;const l=V.createElement(s.View,{style:d?[ye.labelWrapper,{minWidth:d.width/2-27}]:null},V.createElement(s.Animated.Text,{accessible:!1,onLayout:e===i?S:void 0,style:[ye.label,x?{color:x}:null,o],numberOfLines:1,allowFontScaling:!!t},e));return r||"ios"!==s.Platform.OS?l:V.createElement(pe,{maskElement:V.createElement(s.View,{style:ye.iconMaskContainer},V.createElement(s.Image,{source:n(151),style:ye.iconMask}),V.createElement(s.View,{style:ye.iconMaskFillerRect}))},l)})()))}const ye=s.StyleSheet.create({container:{alignItems:"center",flexDirection:"row",...s.Platform.select({ios:null,default:{marginVertical:3,marginHorizontal:11}})},disabled:{opacity:.5},label:{fontSize:17,letterSpacing:.35},labelWrapper:{flexDirection:"row",alignItems:"flex-start"},icon:s.Platform.select({ios:{height:21,width:13,marginLeft:8,marginRight:22,marginVertical:12,resizeMode:"contain",transform:[{scaleX:s.I18nManager.isRTL?-1:1}]},default:{height:24,width:24,margin:3,resizeMode:"contain",transform:[{scaleX:s.I18nManager.isRTL?-1:1}]}}),iconWithLabel:"ios"===s.Platform.OS?{marginRight:6}:{},iconMaskContainer:{flex:1,flexDirection:"row",justifyContent:"center"},iconMaskFillerRect:{flex:1,backgroundColor:"#000"},iconMask:{height:21,width:13,marginLeft:-14.5,marginVertical:12,alignSelf:"center",resizeMode:"contain",transform:[{scaleX:s.I18nManager.isRTL?-1:1}]}});function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be({style:e,...t}){const{colors:n}=Object(fe.a)();return V.createElement(s.Animated.View,ve({style:[xe.container,{backgroundColor:n.card,borderBottomColor:n.border,shadowColor:n.border},e]},t))}const xe=s.StyleSheet.create({container:{flex:1,...s.Platform.select({android:{elevation:4},ios:{shadowOpacity:.85,shadowRadius:0,shadowOffset:{width:0,height:s.StyleSheet.hairlineWidth}},default:{borderBottomWidth:s.StyleSheet.hairlineWidth}})}});var we=V.createContext(!1);function Se(e){let t,n;return(...r)=>{let i=!1;if(t){if(t.length!==r.length)i=!0;else for(let e=0;e<t.length;e++)if(t[e]!==r[e]){i=!0;break}}else i=!0;return t=r,(i||void 0===n)&&(n=e(...r)),n}}const Ee=(e,t)=>{const n=e.width>e.height;let r;return r="ios"===s.Platform.OS?n&&!s.Platform.isPad?32:44:"android"===s.Platform.OS?56:64,r+t};function Te(e){const[t,n]=V.useState(void 0),[r,i]=V.useState(void 0),o=V.useContext(we),a=Se((e,t,n,r,i,o,a)=>e({current:{progress:n},next:r&&{progress:r},layouts:{header:{height:a,width:t.width},screen:t,title:i,leftLabel:o}})),{scene:l,layout:u,insets:c,title:d,leftLabel:h,onGoBack:f,headerTitle:p,headerTitleAlign:m=s.Platform.select({ios:"center",default:"left"}),headerLeft:g=(f?e=>V.createElement(_e,e):void 0),headerTransparent:_,headerTintColor:y,headerBackground:v,headerRight:b,headerBackImage:x,headerBackTitle:w,headerBackTitleVisible:S,headerTruncatedBackTitle:E,headerPressColorAndroid:T,headerBackAccessibilityLabel:k,headerBackAllowFontScaling:C,headerTitleAllowFontScaling:P,headerTitleStyle:R,headerBackTitleStyle:O,headerLeftContainerStyle:M,headerRightContainerStyle:A,headerTitleContainerStyle:I,headerStyle:D,headerStatusBarHeight:L=(o?0:c.top),styleInterpolator:z}=e,N=Ee(u,L),{height:F=N,minHeight:B,maxHeight:j,backgroundColor:U,borderBottomColor:W,borderBottomEndRadius:G,borderBottomLeftRadius:H,borderBottomRightRadius:q,borderBottomStartRadius:$,borderBottomWidth:Z,borderColor:K,borderEndColor:X,borderEndWidth:Y,borderLeftColor:Q,borderLeftWidth:J,borderRadius:ee,borderRightColor:te,borderRightWidth:ne,borderStartColor:re,borderStartWidth:ie,borderStyle:oe,borderTopColor:ae,borderTopEndRadius:se,borderTopLeftRadius:le,borderTopRightRadius:ue,borderTopStartRadius:ce,borderTopWidth:de,borderWidth:he,boxShadow:fe,elevation:pe,shadowColor:me,shadowOffset:ge,shadowOpacity:ye,shadowRadius:ve,opacity:xe,transform:Te,...Ce}=s.StyleSheet.flatten(D||{});const Pe={backgroundColor:U,borderBottomColor:W,borderBottomEndRadius:G,borderBottomLeftRadius:H,borderBottomRightRadius:q,borderBottomStartRadius:$,borderBottomWidth:Z,borderColor:K,borderEndColor:X,borderEndWidth:Y,borderLeftColor:Q,borderLeftWidth:J,borderRadius:ee,borderRightColor:te,borderRightWidth:ne,borderStartColor:re,borderStartWidth:ie,borderStyle:oe,borderTopColor:ae,borderTopEndRadius:se,borderTopLeftRadius:le,borderTopRightRadius:ue,borderTopStartRadius:ce,borderTopWidth:de,borderWidth:he,boxShadow:fe,elevation:pe,shadowColor:me,shadowOffset:ge,shadowOpacity:ye,shadowRadius:ve,opacity:xe,transform:Te};for(const e in Pe)void 0===Pe[e]&&delete Pe[e];const{titleStyle:Re,leftButtonStyle:Oe,leftLabelStyle:Me,rightButtonStyle:Ae,backgroundStyle:Ie}=a(z,u,l.progress.current,l.progress.next,r,h?t:void 0,"number"==typeof F?F:N),De=g?g({backImage:x,pressColorAndroid:T,accessibilityLabel:k,allowFontScaling:C,onPress:f,labelVisible:S,label:void 0!==w?w:h,truncatedLabel:E,labelStyle:[Me,O],onLabelLayout:e=>{const{height:r,width:i}=e.nativeEvent.layout;t&&r===t.height&&i===t.width||n({height:r,width:i})},screenLayout:u,titleLayout:r,tintColor:y,canGoBack:Boolean(f)}):null,Le=b?b({tintColor:y}):null;return V.createElement(V.Fragment,null,V.createElement(s.Animated.View,{pointerEvents:"box-none",style:[s.StyleSheet.absoluteFill,{zIndex:0},Ie]},v?v({style:Pe}):_?null:V.createElement(be,{style:Pe})),V.createElement(s.Animated.View,{pointerEvents:"box-none",style:[{height:F,minHeight:B,maxHeight:j,opacity:xe,transform:Te}]},V.createElement(s.View,{pointerEvents:"none",style:{height:L}}),V.createElement(s.View,{pointerEvents:"box-none",style:ke.content},De?V.createElement(s.Animated.View,{pointerEvents:"box-none",style:[ke.left,{left:c.left},Oe,M]},De):null,V.createElement(s.Animated.View,{pointerEvents:"box-none",style:["left"===m?{position:"absolute",left:(De?72:16)+c.left,right:(Le?72:16)+c.right}:{marginHorizontal:(De?32:16)+(De&&!1!==S?40:0)+Math.max(c.left,c.right)},Re,I]},p({children:d,onLayout:e=>{const{height:t,width:n}=e.nativeEvent.layout;i(e=>e&&t===e.height&&n===e.width?e:{height:t,width:n})},allowFontScaling:P,tintColor:y,style:R})),Le?V.createElement(s.Animated.View,{pointerEvents:"box-none",style:[ke.right,{right:c.right},Ae,A]},Le):null)))}const ke=s.StyleSheet.create({content:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},left:{position:"absolute",left:0,top:0,bottom:0,justifyContent:"center",alignItems:"flex-start"},right:{position:"absolute",right:0,top:0,bottom:0,justifyContent:"center",alignItems:"flex-end"}});var Ce=n(168),Pe=n.n(Ce);function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Oe=V.forwardRef((function({enabled:e,layout:t,style:n,...r},i){const[o,a]=V.useState(!1);return V.useEffect(()=>{if("undefined"==typeof document||!document.body)return;const e=document.body.clientWidth,n=document.body.clientHeight;a(e===t.width&&n===t.height)},[t.height,t.width]),V.createElement(s.View,Re({},r,{ref:i,style:[e&&o?Me.page:Me.card,n]}))}));const Me=s.StyleSheet.create({page:{minHeight:"100%"},card:{flex:1,overflow:"hidden"}});var Ae=V.createContext(void 0);function Ie(e){switch(e){case"vertical":return 1;case"vertical-inverted":return-1;case"horizontal":return s.I18nManager.isRTL?-1:1;case"horizontal-inverted":return s.I18nManager.isRTL?1:-1}}function De(e,t){const n=Ie(t);switch(t){case"vertical":case"vertical-inverted":return e.height*n;case"horizontal":case"horizontal-inverted":return e.width*n}}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ne="web"!==s.Platform.OS,Fe=e=>{if(e){return null!=s.StyleSheet.flatten(e).opacity}return!1};class Be extends V.Component{constructor(...e){super(...e),ze(this,"isCurrentlyMounted",!1),ze(this,"isClosing",new s.Animated.Value(0)),ze(this,"inverted",new s.Animated.Value(Ie(this.props.gestureDirection))),ze(this,"layout",{width:new s.Animated.Value(this.props.layout.width),height:new s.Animated.Value(this.props.layout.height)}),ze(this,"isSwiping",new s.Animated.Value(0)),ze(this,"interactionHandle",void 0),ze(this,"pendingGestureCallback",void 0),ze(this,"lastToValue",void 0),ze(this,"animate",({closing:e,velocity:t})=>{const{gesture:n,transitionSpec:r,onOpen:i,onClose:o,onTransition:a}=this.props,l=this.getAnimateToValue({...this.props,closing:e});this.lastToValue=l;const u=e?r.close:r.open,c="spring"===u.animation?s.Animated.spring:s.Animated.timing;this.setPointerEventsEnabled(!e),this.handleStartInteraction(),clearTimeout(this.pendingGestureCallback),null==a||a({closing:e,gesture:void 0!==t}),c(n,{...u.config,velocity:t,toValue:l,useNativeDriver:Ne,isInteraction:!1}).start(({finished:t})=>{this.handleEndInteraction(),clearTimeout(this.pendingGestureCallback),t&&(e?o():i(),this.isCurrentlyMounted&&this.forceUpdate())})}),ze(this,"getAnimateToValue",({closing:e,layout:t,gestureDirection:n})=>e?De(t,n):0),ze(this,"setPointerEventsEnabled",e=>{var t;const n=e?"box-none":"none";null===(t=this.contentRef.current)||void 0===t||t.setNativeProps({pointerEvents:n})}),ze(this,"handleStartInteraction",()=>{void 0===this.interactionHandle&&(this.interactionHandle=s.InteractionManager.createInteractionHandle())}),ze(this,"handleEndInteraction",()=>{void 0!==this.interactionHandle&&(s.InteractionManager.clearInteractionHandle(this.interactionHandle),this.interactionHandle=void 0)}),ze(this,"handleGestureStateChange",({nativeEvent:e})=>{const{layout:t,onClose:n,onGestureBegin:r,onGestureCanceled:i,onGestureEnd:o,gestureDirection:a,gestureVelocityImpact:s}=this.props;switch(e.state){case ne:this.isSwiping.setValue(1),this.handleStartInteraction(),null==r||r();break;case re:{this.isSwiping.setValue(0),this.handleEndInteraction();const t="vertical"===a||"vertical-inverted"===a?e.velocityY:e.velocityX;this.animate({closing:this.props.closing,velocity:t}),null==i||i();break}case ie:{let r,i,l;this.isSwiping.setValue(0),"vertical"===a||"vertical-inverted"===a?(r=t.height,i=e.translationY,l=e.velocityY):(r=t.width,i=e.translationX,l=e.velocityX);const u=(i+l*s)*Ie(a)>r/2?0!==l||0!==i:this.props.closing;this.animate({closing:u,velocity:l}),u&&(this.pendingGestureCallback=setTimeout(()=>{n(),this.forceUpdate()},32)),null==o||o();break}}}),ze(this,"getInterpolatedStyle",Se((e,t,n,r,i,o,a,s,l)=>e({index:t,current:{progress:n},next:r&&{progress:r},closing:this.isClosing,swiping:this.isSwiping,inverted:this.inverted,layouts:{screen:i},insets:{top:o,right:a,bottom:s,left:l}}))),ze(this,"getCardAnimationContext",Se((e,t,n,r,i,o,a,s)=>({index:e,current:{progress:t},next:n&&{progress:n},closing:this.isClosing,swiping:this.isSwiping,inverted:this.inverted,layouts:{screen:r},insets:{top:i,right:o,bottom:a,left:s}}))),ze(this,"contentRef",V.createRef())}componentDidMount(){this.animate({closing:this.props.closing}),this.isCurrentlyMounted=!0}componentDidUpdate(e){const{layout:t,gestureDirection:n,closing:r}=this.props,{width:i,height:o}=t;i!==e.layout.width&&this.layout.width.setValue(i),o!==e.layout.height&&this.layout.height.setValue(o),n!==e.gestureDirection&&this.inverted.setValue(Ie(n));const a=this.getAnimateToValue(this.props);this.getAnimateToValue(e)===a&&this.lastToValue===a||this.animate({closing:r})}componentWillUnmount(){this.isCurrentlyMounted=!1,this.handleEndInteraction()}gestureActivationCriteria(){const{layout:e,gestureDirection:t,gestureResponseDistance:n}=this.props,r="vertical"===t||"vertical-inverted"===t?void 0!==(null==n?void 0:n.vertical)?n.vertical:135:void 0!==(null==n?void 0:n.horizontal)?n.horizontal:50;if("vertical"===t)return{maxDeltaX:15,minOffsetY:5,hitSlop:{bottom:-e.height+r}};if("vertical-inverted"===t)return{maxDeltaX:15,minOffsetY:-5,hitSlop:{top:-e.height+r}};{const n=-e.width+r;return 1===Ie(t)?{minOffsetX:5,maxDeltaY:20,hitSlop:{right:n}}:{minOffsetX:-5,maxDeltaY:20,hitSlop:{left:n}}}}render(){const{styleInterpolator:e,index:t,current:n,gesture:r,next:i,layout:o,insets:a,overlay:l,overlayEnabled:u,shadowEnabled:c,gestureEnabled:d,gestureDirection:h,pageOverflowEnabled:f,children:p,containerStyle:m,contentStyle:g,..._}=this.props,y=this.getInterpolatedStyle(e,t,n,i,o,a.top,a.right,a.bottom,a.left),v=this.getCardAnimationContext(t,n,i,o,a.top,a.right,a.bottom,a.left),{containerStyle:b,cardStyle:x,overlayStyle:w,shadowStyle:S}=y,E=d?s.Animated.event([{nativeEvent:"vertical"===h||"vertical-inverted"===h?{translationY:r}:{translationX:r}}],{useNativeDriver:Ne}):void 0,{backgroundColor:T}=s.StyleSheet.flatten(g||{}),k="string"==typeof T&&0===Pe()(T).alpha();return V.createElement(Ae.Provider,{value:v},V.createElement(s.Animated.View,{style:{opacity:n},collapsable:!1}),V.createElement(s.View,Le({pointerEvents:"box-none"},_),u?V.createElement(s.View,{pointerEvents:"box-none",style:s.StyleSheet.absoluteFill},l({style:w})):null,V.createElement(s.Animated.View,{needsOffscreenAlphaCompositing:Fe(b),style:[je.container,b,m],pointerEvents:"box-none"},V.createElement(ee,Le({enabled:0!==o.width&&d,onGestureEvent:E,onHandlerStateChange:this.handleGestureStateChange},this.gestureActivationCriteria()),V.createElement(s.Animated.View,{style:[je.container,x]},c&&S&&!k?V.createElement(s.Animated.View,{style:[je.shadow,"horizontal"===h?[je.shadowHorizontal,je.shadowLeft]:"horizontal-inverted"===h?[je.shadowHorizontal,je.shadowRight]:"vertical"===h?[je.shadowVertical,je.shadowTop]:[je.shadowVertical,je.shadowBottom],{backgroundColor:T},S],pointerEvents:"none"}):null,V.createElement(Oe,{ref:this.contentRef,enabled:f,layout:o,style:g},p))))))}}ze(Be,"defaultProps",{overlayEnabled:"ios"!==s.Platform.OS,shadowEnabled:!0,gestureEnabled:!0,gestureVelocityImpact:.3,overlay:({style:e})=>e?V.createElement(s.Animated.View,{pointerEvents:"none",style:[je.overlay,e]}):null});const je=s.StyleSheet.create({container:{flex:1},overlay:{flex:1,backgroundColor:"#000"},shadow:{position:"absolute",shadowRadius:5,shadowColor:"#000",shadowOpacity:.3},shadowHorizontal:{top:0,bottom:0,width:3,shadowOffset:{width:-1,height:1}},shadowLeft:{left:0},shadowRight:{right:0},shadowVertical:{left:0,right:0,height:3,shadowOffset:{width:1,height:-1}},shadowTop:{top:0},shadowBottom:{bottom:0}});var Ve=V.createContext(void 0);var Ue=V.createContext(void 0);function We({active:e,cardOverlay:t,cardOverlayEnabled:n,cardShadowEnabled:r,cardStyle:i,cardStyleInterpolator:o,closing:a,gesture:l,focused:u,gestureDirection:c,gestureEnabled:d,gestureResponseDistance:h,gestureVelocityImpact:f,getPreviousScene:p,getFocusedRoute:m,mode:g,headerMode:_,headerShown:y,headerStyleInterpolator:v,hasAbsoluteHeader:b,headerHeight:x,onHeaderHeightChange:w,isParentHeaderShown:S,index:E,layout:T,onCloseRoute:k,onOpenRoute:C,onPageChangeCancel:P,onPageChangeConfirm:R,onPageChangeStart:O,onGestureCancel:M,onGestureEnd:A,onGestureStart:I,onTransitionEnd:D,onTransitionStart:L,renderHeader:z,renderScene:N,safeAreaInsetBottom:F,safeAreaInsetLeft:B,safeAreaInsetRight:j,safeAreaInsetTop:U,scene:W,transitionSpec:G}){const H={top:U,right:j,bottom:F,left:B},{colors:q}=Object(fe.a)(),[$,Z]=V.useState("box-none");V.useEffect(()=>{var e,t;const n=null===(e=W.progress.next)||void 0===e||null===(t=e.addListener)||void 0===t?void 0:t.call(e,({value:e})=>{Z(e<=.1?"box-none":"none")});return()=>{var e,t;n&&(null===(e=W.progress.next)||void 0===e||null===(t=e.removeListener)||void 0===t||t.call(e,n))}},[$,W.progress.next]);const K="none"!==_&&!1!==y,X=p({route:W.route});return V.createElement(Be,{index:E,gestureDirection:c,layout:T,insets:H,gesture:l,current:W.progress.current,next:W.progress.next,closing:a,onOpen:()=>{const{route:e}=W;null==D||D({route:e},!1),C({route:e})},onClose:()=>{const{route:e}=W;null==D||D({route:e},!0),k({route:e})},overlay:t,overlayEnabled:n,shadowEnabled:r,onTransition:({closing:t,gesture:n})=>{const{route:r}=W;n?e&&t?null==R||R(!1):null==P||P():null==R||R(!0),null==L||L({route:r},t)},onGestureBegin:()=>{const{route:e}=W;null==O||O(),null==I||I({route:e})},onGestureCanceled:()=>{const{route:e}=W;null==P||P(),null==M||M({route:e})},onGestureEnd:()=>{const{route:e}=W;null==A||A({route:e})},gestureEnabled:d,gestureResponseDistance:h,gestureVelocityImpact:f,transitionSpec:G,styleInterpolator:o,accessibilityElementsHidden:!u,importantForAccessibility:u?"auto":"no-hide-descendants",pointerEvents:e?"box-none":$,pageOverflowEnabled:"screen"===_&&"card"===g,containerStyle:b?{marginTop:x}:null,contentStyle:[{backgroundColor:q.background},i],style:[{overflow:e?void 0:"hidden"},s.StyleSheet.absoluteFill]},V.createElement(s.View,{style:He.container},V.createElement(s.View,{style:He.scene},V.createElement(Ue.Provider,{value:X},V.createElement(we.Provider,{value:S||K},V.createElement(Ve.Provider,{value:x},N({route:W.route}))))),"screen"===_?z({mode:"screen",layout:T,insets:H,scenes:[X,W],getPreviousScene:p,getFocusedRoute:m,gestureDirection:c,styleInterpolator:v,onContentHeightChange:w}):null))}var Ge=V.memo(We);const He=s.StyleSheet.create({container:{flex:1,flexDirection:"column-reverse"},scene:{flex:1}});function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ze=Object.freeze({options:{}}),Ke=(e,t,n,r,i,o)=>e.reduce((e,a)=>{const{options:l={}}=r[a.key]||{},u=s.StyleSheet.flatten(l.headerStyle||{}),c="number"==typeof u.height?u.height:o[a.key],d={...t,...l.safeAreaInsets},{headerStatusBarHeight:h=(n?0:d.top)}=l;return e[a.key]="number"==typeof c?c:Ee(i,h),e},{}),Xe=(e,t,n)=>{const{gestureDirection:r=("modal"===e?j.gestureDirection:B.gestureDirection)}=(null==n?void 0:n.options)||{};return De(t,r)},Ye=(e,t,n,r)=>{const i=Xe(e,{width:Math.max(1,n.width),height:Math.max(1,n.height)},r);return i>0?t.interpolate({inputRange:[0,i],outputRange:[1,0]}):t.interpolate({inputRange:[i,0],outputRange:[0,1]})};class Qe extends V.Component{static getDerivedStateFromProps(e,t){if(e.routes===t.routes&&e.descriptors===t.descriptors)return null;const n=e.routes.reduce((n,r)=>{const i=e.descriptors[r.key],{animationEnabled:o}=(null==i?void 0:i.options)||{};return n[r.key]=t.gestures[r.key]||new s.Animated.Value(e.openingRouteKeys.includes(r.key)&&!1!==o?Xe(e.mode,t.layout,i):0),n},{});return{routes:e.routes,scenes:e.routes.map((r,i,o)=>{const a=o[i-1],s=o[i+1],l=t.scenes[i],u=n[r.key],c=a?n[a.key]:void 0,d=s?n[s.key]:void 0,h=e.descriptors[r.key]||t.descriptors[r.key]||(l?l.descriptor:Ze),f=e.descriptors[null==s?void 0:s.key]||t.descriptors[null==s?void 0:s.key],p=e.descriptors[null==a?void 0:a.key]||t.descriptors[null==a?void 0:a.key],m={route:r,descriptor:h,progress:{current:Ye(e.mode,u,t.layout,h),next:d?Ye(e.mode,d,t.layout,f):void 0,previous:c?Ye(e.mode,c,t.layout,p):void 0},__memo:[r,t.layout,h,f,p,u,d,c]};return l&&m.__memo.every((e,t)=>l.__memo[t]===e)?l:m}),gestures:n,descriptors:e.descriptors,headerHeights:Ke(e.routes,e.insets,e.isParentHeaderShown,t.descriptors,t.layout,t.headerHeights)}}constructor(e){super(e),$e(this,"handleLayout",e=>{const{height:t,width:n}=e.nativeEvent.layout,r={width:n,height:t};this.setState((e,i)=>t===e.layout.height&&n===e.layout.width?null:{layout:r,headerHeights:Ke(i.routes,i.insets,i.isParentHeaderShown,e.descriptors,r,e.headerHeights)})}),$e(this,"handleHeaderLayout",({route:e,height:t})=>{this.setState(({headerHeights:n})=>n[e.key]===t?null:{headerHeights:{...n,[e.key]:t}})}),$e(this,"getFocusedRoute",()=>{const{state:e}=this.props;return e.routes[e.index]}),$e(this,"getPreviousScene",({route:e})=>{const{getPreviousRoute:t}=this.props,{scenes:n}=this.state,r=t({route:e});if(r){return n.find(e=>e.route.key===r.key)}});const{height:t=0,width:n=0}=s.Dimensions.get("window");this.state={routes:[],scenes:[],gestures:{},layout:{height:t,width:n},descriptors:this.props.descriptors,headerHeights:{}}}render(){const{mode:e,insets:t,descriptors:n,state:r,routes:i,closingRouteKeys:o,onOpenRoute:a,onCloseRoute:l,getGesturesEnabled:u,renderHeader:c,renderScene:d,headerMode:h,isParentHeaderShown:f,onTransitionStart:p,onTransitionEnd:m,onPageChangeStart:g,onPageChangeConfirm:_,onPageChangeCancel:y,onGestureStart:v,onGestureEnd:x,onGestureCancel:w,detachInactiveScreens:S="web"===s.Platform.OS||ce}=this.props,{scenes:E,layout:T,gestures:k,headerHeights:P}=this.state,R=r.routes[r.index],O=n[R.key],M=O?O.options:{},A=P[R.key];let I="modal"===e?j:B;"screen"===h&&(I={...I,headerStyleInterpolator:C});const{top:D=t.top,right:L=t.right,bottom:z=t.bottom,left:N=t.left}=M.safeAreaInsets||{};let F=1;for(let t=E.length-1;t>=0;t--){const{detachPreviousScreen:n="modal"!==e||t!==E.length-1}=E[t].descriptor.options;if(!1!==n)break;F++}const U="float"===h&&this.state.scenes.slice(-2).some(e=>{const{descriptor:t}=e,n=t?t.options:{},{headerTransparent:r,headerShown:i=!0}=n;return!(!r&&!1!==i)}),W="float"===h?V.createElement(V.Fragment,{key:"header"},c({mode:"float",layout:T,insets:{top:D,right:L,bottom:z,left:N},scenes:E,getPreviousScene:this.getPreviousScene,getFocusedRoute:this.getFocusedRoute,onContentHeightChange:this.handleHeaderLayout,gestureDirection:void 0!==M.gestureDirection?M.gestureDirection:I.gestureDirection,styleInterpolator:void 0!==M.headerStyleInterpolator?M.headerStyleInterpolator:I.headerStyleInterpolator,style:[Je.floating,U&&[{height:A},Je.absolute]]})):null;return V.createElement(V.Fragment,null,U?null:W,V.createElement(de,{enabled:S,style:Je.container,onLayout:this.handleLayout},i.map((n,r,i)=>{const C=R.key===n.key,O=k[n.key],M=E[r];let A=1;if(ce||"web"===s.Platform.OS)if(r<i.length-F-1)A=0;else{const e=E[i.length-1],t=r===i.length-1?2:r>=i.length-F?1:0;A=e?e.progress.current.interpolate({inputRange:[0,.99,1],outputRange:[1,1,t],extrapolate:"clamp"}):1}else A=M.progress.next?M.progress.next.interpolate({inputRange:[0,.99,1],outputRange:[1,1,0],extrapolate:"clamp"}):1;const{safeAreaInsets:D,headerShown:L=!0,headerTransparent:z,cardShadowEnabled:N,cardOverlayEnabled:B,cardOverlay:j,cardStyle:W,animationEnabled:G,gestureResponseDistance:H,gestureVelocityImpact:q,gestureDirection:$=I.gestureDirection,transitionSpec:Z=I.transitionSpec,cardStyleInterpolator:K=(!1===G?b:I.cardStyleInterpolator),headerStyleInterpolator:X=I.headerStyleInterpolator}=M.descriptor?M.descriptor.options:{};let Y={gestureDirection:$,transitionSpec:Z,cardStyleInterpolator:K,headerStyleInterpolator:X};if(r!==i.length-1){const e=E[r+1];if(e){const{animationEnabled:t,gestureDirection:n=I.gestureDirection,transitionSpec:r=I.transitionSpec,cardStyleInterpolator:i=(!1===t?b:I.cardStyleInterpolator),headerStyleInterpolator:o=I.headerStyleInterpolator}=e.descriptor?e.descriptor.options:{};Y={gestureDirection:n,transitionSpec:r,cardStyleInterpolator:i,headerStyleInterpolator:o}}}const{top:Q=t.top,right:J=t.right,bottom:ee=t.bottom,left:te=t.left}=D||{},ne="none"!==h&&!1!==L?P[n.key]:0;return V.createElement(he,{key:n.key,style:s.StyleSheet.absoluteFill,enabled:S,active:A,pointerEvents:"box-none"},V.createElement(Ge,qe({index:r,active:r===i.length-1,focused:C,closing:o.includes(n.key),layout:T,gesture:O,scene:M,safeAreaInsetTop:Q,safeAreaInsetRight:J,safeAreaInsetBottom:ee,safeAreaInsetLeft:te,cardOverlay:j,cardOverlayEnabled:B,cardShadowEnabled:N,cardStyle:W,onPageChangeStart:g,onPageChangeConfirm:_,onPageChangeCancel:y,onGestureStart:v,onGestureCancel:w,onGestureEnd:x,gestureResponseDistance:H,headerHeight:ne,isParentHeaderShown:f,onHeaderHeightChange:this.handleHeaderLayout,getPreviousScene:this.getPreviousScene,getFocusedRoute:this.getFocusedRoute,mode:e,headerMode:h,headerShown:L,hasAbsoluteHeader:U&&!z,renderHeader:c,renderScene:d,onOpenRoute:a,onCloseRoute:l,onTransitionStart:p,onTransitionEnd:m,gestureEnabled:0!==r&&u({route:n}),gestureVelocityImpact:q},Y)))})),U?W:null)}}const Je=s.StyleSheet.create({container:{flex:1},absolute:{position:"absolute",top:0,left:0,right:0},floating:{zIndex:1}});function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tt extends V.Component{constructor(...e){super(...e),et(this,"previouslyFocusedTextInput",void 0),et(this,"startTimestamp",0),et(this,"keyboardTimeout",void 0),et(this,"clearKeyboardTimeout",()=>{void 0!==this.keyboardTimeout&&(clearTimeout(this.keyboardTimeout),this.keyboardTimeout=void 0)}),et(this,"handlePageChangeStart",()=>{if(!this.props.enabled)return;this.clearKeyboardTimeout();const e=s.TextInput.State.currentlyFocusedInput?s.TextInput.State.currentlyFocusedInput():s.TextInput.State.currentlyFocusedField();s.TextInput.State.blurTextInput(e),this.previouslyFocusedTextInput=e,this.startTimestamp=Date.now()}),et(this,"handlePageChangeConfirm",e=>{if(this.props.enabled){if(this.clearKeyboardTimeout(),e)s.Keyboard.dismiss();else{const e=this.previouslyFocusedTextInput;e&&s.TextInput.State.blurTextInput(e)}this.previouslyFocusedTextInput=void 0}}),et(this,"handlePageChangeCancel",()=>{if(!this.props.enabled)return;this.clearKeyboardTimeout();const e=this.previouslyFocusedTextInput;e&&(Date.now()-this.startTimestamp<100?this.keyboardTimeout=setTimeout(()=>{s.TextInput.State.focusTextInput(e),this.previouslyFocusedTextInput=void 0},100):(s.TextInput.State.focusTextInput(e),this.previouslyFocusedTextInput=void 0))})}componentWillUnmount(){this.clearKeyboardTimeout()}render(){return this.props.children({onPageChangeStart:this.handlePageChangeStart,onPageChangeConfirm:this.handlePageChangeConfirm,onPageChangeCancel:this.handlePageChangeCancel})}}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rt({tintColor:e,style:t,...n}){const{colors:r}=Object(fe.a)();return V.createElement(s.Animated.Text,nt({accessibilityRole:"header","aria-level":"1",numberOfLines:1},n,{style:[it.title,{color:void 0===e?r.text:e},t]}))}const it=s.StyleSheet.create({title:s.Platform.select({ios:{fontSize:17,fontWeight:"600"},android:{fontSize:20,fontFamily:"sans-serif-medium",fontWeight:"normal"},default:{fontSize:18,fontWeight:"500"}})});function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var at=V.memo((function(e){const{scene:t,previous:n,layout:r,insets:i,navigation:o,styleInterpolator:a}=e,{options:s}=t.descriptor,l="function"!=typeof s.headerTitle&&void 0!==s.headerTitle?s.headerTitle:void 0!==s.title?s.title:t.route.name;let u;if(void 0!==s.headerBackTitle)u=s.headerBackTitle;else if(n){const e=n.descriptor.options;u="function"!=typeof e.headerTitle&&void 0!==e.headerTitle?e.headerTitle:void 0!==e.title?e.title:n.route.name}const c=V.useCallback(function(e,t){let n;return function(...r){n||(e.apply(this,r),n=setTimeout(()=>{n=void 0},t))}}(()=>{o.isFocused()&&o.canGoBack()&&o.dispatch({...U.StackActions.pop(),source:t.route.key})},50),[o,t.route.key]);return V.createElement(Te,ot({},s,{insets:i,layout:r,scene:t,title:l,leftLabel:u,headerTitle:"function"!=typeof s.headerTitle?e=>V.createElement(rt,e):s.headerTitle,onGoBack:n?c:void 0,styleInterpolator:a}))}));function st({mode:e,scenes:t,layout:n,insets:r,getPreviousScene:i,getFocusedRoute:o,onContentHeightChange:a,gestureDirection:l,styleInterpolator:u,style:c}){const d=o(),h=V.useContext(Ue);return V.createElement(s.Animated.View,{pointerEvents:"box-none",style:c},t.slice(-3).map((t,o,c)=>{var f;if("screen"===e&&o!==c.length-1||!t)return null;const{header:p,headerShown:m=!0,headerTransparent:g}=t.descriptor.options||{};if(!m)return null;const _=d.key===t.route.key,y=null!==(f=i({route:t.route}))&&void 0!==f?f:h,v=c[o-1],b=c[o+1],{headerShown:x=!0}=(null==v?void 0:v.descriptor.options)||{},{headerShown:w=!0}=(null==b?void 0:b.descriptor.options)||{},S=!1===x&&!b||!1===w,P={mode:e,layout:n,insets:r,scene:t,previous:y,navigation:t.descriptor.navigation,styleInterpolator:"float"===e?S?"vertical"===l||"vertical-inverted"===l?k:"horizontal-inverted"===l?T:E:u:C};return V.createElement(U.NavigationContext.Provider,{key:t.route.key,value:t.descriptor.navigation},V.createElement(U.NavigationRouteContext.Provider,{value:t.route},V.createElement(s.View,{onLayout:a?e=>{const{height:n}=e.nativeEvent.layout;a({route:t.route,height:n})}:void 0,pointerEvents:_?"box-none":"none",accessibilityElementsHidden:!_,importantForAccessibility:_?"auto":"no-hide-descendants",style:"float"===e&&!_||g?lt.header:null},void 0!==p?p(P):V.createElement(at,P))))}))}const lt=s.StyleSheet.create({header:{position:"absolute",top:0,left:0,right:0}}),ut={top:(ct=!0,s.Platform.select({ios:(dt=ct?44:30,ht=20,l()?dt:ht),android:s.StatusBar.currentHeight,default:0})),bottom:l()?34:0,right:0,left:0};var ct,dt,ht;function ft({children:e}){return V.createElement(J,null,t=>t?e:V.createElement(Y,{initialSafeAreaInsets:ut},e))}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gt=null!=te?te:s.View;class _t extends V.Component{constructor(...e){super(...e),mt(this,"state",{routes:[],previousRoutes:[],previousDescriptors:{},openingRouteKeys:[],closingRouteKeys:[],replacingRouteKeys:[],descriptors:{}}),mt(this,"getGesturesEnabled",({route:e})=>{const t=this.state.descriptors[e.key];if(t){const{gestureEnabled:e,animationEnabled:n}=t.options;return!1!==n&&!1!==e}return!1}),mt(this,"getPreviousRoute",({route:e})=>{const{closingRouteKeys:t,replacingRouteKeys:n}=this.state,r=this.state.routes.filter(r=>r.key===e.key||!t.includes(r.key)&&!n.includes(r.key)),i=r.findIndex(t=>t.key===e.key);return r[i-1]}),mt(this,"renderScene",({route:e})=>{const t=this.state.descriptors[e.key]||this.props.descriptors[e.key];return t?t.render():null}),mt(this,"renderHeader",e=>V.createElement(st,e)),mt(this,"handleOpenRoute",({route:e})=>{const{state:t,navigation:n}=this.props,{closingRouteKeys:r,replacingRouteKeys:i}=this.state;r.some(t=>t===e.key)&&i.every(t=>t!==e.key)&&t.routeNames.includes(e.name)&&!t.routes.some(t=>t.key===e.key)?n.navigate(e):this.setState(t=>({routes:t.replacingRouteKeys.length?t.routes.filter(e=>!t.replacingRouteKeys.includes(e.key)):t.routes,openingRouteKeys:t.openingRouteKeys.filter(t=>t!==e.key),closingRouteKeys:t.closingRouteKeys.filter(t=>t!==e.key),replacingRouteKeys:[]}))}),mt(this,"handleCloseRoute",({route:e})=>{const{state:t,navigation:n}=this.props;t.routes.some(t=>t.key===e.key)?n.dispatch({...U.StackActions.pop(),source:e.key,target:t.key}):this.setState(t=>({routes:t.routes.filter(t=>t.key!==e.key),openingRouteKeys:t.openingRouteKeys.filter(t=>t!==e.key),closingRouteKeys:t.closingRouteKeys.filter(t=>t!==e.key)}))}),mt(this,"handleTransitionStart",({route:e},t)=>this.props.navigation.emit({type:"transitionStart",data:{closing:t},target:e.key})),mt(this,"handleTransitionEnd",({route:e},t)=>this.props.navigation.emit({type:"transitionEnd",data:{closing:t},target:e.key})),mt(this,"handleGestureStart",({route:e})=>{this.props.navigation.emit({type:"gestureStart",target:e.key})}),mt(this,"handleGestureEnd",({route:e})=>{this.props.navigation.emit({type:"gestureEnd",target:e.key})}),mt(this,"handleGestureCancel",({route:e})=>{this.props.navigation.emit({type:"gestureCancel",target:e.key})})}static getDerivedStateFromProps(e,t){if((e.state.routes===t.previousRoutes||(n=e.state.routes.map(e=>e.key),r=t.previousRoutes.map(e=>e.key),n.length===r.length&&n.every((e,t)=>e===r[t])))&&t.routes.length){let n=t.routes,r=t.previousRoutes,i=e.descriptors,o=t.previousDescriptors;if(e.descriptors!==t.previousDescriptors&&(i=t.routes.reduce((n,r)=>(n[r.key]=e.descriptors[r.key]||t.descriptors[r.key],n),{}),o=e.descriptors),e.state.routes!==t.previousRoutes){const i=e.state.routes.reduce((e,t)=>(e[t.key]=t,e),{});n=t.routes.map(e=>i[e.key]||e),r=e.state.routes}return{routes:n,previousRoutes:r,descriptors:i,previousDescriptors:o}}var n,r;let i=e.state.index<e.state.routes.length-1?e.state.routes.slice(0,e.state.index+1):e.state.routes,{openingRouteKeys:o,closingRouteKeys:a,replacingRouteKeys:s,previousRoutes:l}=t;const u=l[l.length-1],c=i[i.length-1],d=n=>{const r=e.descriptors[n]||t.descriptors[n];return!r||!1!==r.options.animationEnabled};var h,f;if(u&&u.key!==c.key?l.some(e=>e.key===c.key)?i.some(e=>e.key===u.key)||d(u.key)&&!a.includes(u.key)&&(a=[...a,u.key],o=o.filter(e=>e!==u.key),s=s.filter(e=>e!==u.key),i=[...i,u]):d(c.key)&&!o.includes(c.key)&&(o=[...o,c.key],a=a.filter(e=>e!==c.key),s=s.filter(e=>e!==c.key),i.some(e=>e.key===u.key)||(o=o.filter(e=>e!==u.key),"pop"===(h=c.key,null!==(f=(e.descriptors[h]||t.descriptors[h]).options.animationTypeForReplace)&&void 0!==f?f:"push")?(a=[...a,u.key],o=o.filter(e=>e!==c.key),i=[...i,u]):(s=[...s,u.key],a=a.filter(e=>e!==u.key),i=i.slice(),i.splice(i.length-1,0,u)))):(s.length||a.length)&&(i=i.slice(),i.splice(i.length-1,0,...t.routes.filter(({key:e})=>!!d(e)&&(s.includes(e)||a.includes(e))))),!i.length)throw new Error("There should always be at least one route in the navigation state.");const p=i.reduce((n,r)=>(n[r.key]=e.descriptors[r.key]||t.descriptors[r.key],n),{});return{routes:i,previousRoutes:e.state.routes,previousDescriptors:e.descriptors,openingRouteKeys:o,closingRouteKeys:a,replacingRouteKeys:s,descriptors:p}}render(){const{state:e,navigation:t,keyboardHandlingEnabled:n,mode:r="card",headerMode:i=("card"===r&&"ios"===s.Platform.OS?"float":"screen"),descriptors:o,...a}=this.props,{routes:l,descriptors:u,openingRouteKeys:c,closingRouteKeys:d}=this.state;return V.createElement(U.NavigationHelpersContext.Provider,{value:t},V.createElement(gt,{style:yt.container},V.createElement(ft,null,V.createElement(J,null,t=>V.createElement(tt,{enabled:!1!==n},n=>V.createElement(we.Consumer,null,o=>V.createElement(Qe,pt({mode:r,insets:t,isParentHeaderShown:o,getPreviousRoute:this.getPreviousRoute,getGesturesEnabled:this.getGesturesEnabled,routes:l,openingRouteKeys:c,closingRouteKeys:d,onOpenRoute:this.handleOpenRoute,onCloseRoute:this.handleCloseRoute,onTransitionStart:this.handleTransitionStart,onTransitionEnd:this.handleTransitionEnd,renderHeader:this.renderHeader,renderScene:this.renderScene,headerMode:i,state:e,descriptors:u,onGestureStart:this.handleGestureStart,onGestureEnd:this.handleGestureEnd,onGestureCancel:this.handleGestureCancel},a,n))))))))}}const yt=s.StyleSheet.create({container:{flex:1}});function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var bt=Object(U.createNavigatorFactory)((function({initialRouteName:e,children:t,screenOptions:n,...r}){const i={gestureEnabled:"ios"===s.Platform.OS,animationEnabled:"web"!==s.Platform.OS&&"windows"!==s.Platform.OS&&"macos"!==s.Platform.OS},{state:o,descriptors:a,navigation:l}=Object(U.useNavigationBuilder)(U.StackRouter,{initialRouteName:e,children:t,screenOptions:"function"==typeof n?(...e)=>({...i,...n(...e)}):{...i,...n}});return V.useEffect(()=>{var e;return null===(e=l.addListener)||void 0===e?void 0:e.call(l,"tabPress",e=>{const t=l.isFocused();requestAnimationFrame(()=>{o.index>0&&t&&!e.defaultPrevented&&l.dispatch({...U.StackActions.popToTop(),target:o.key})})})},[l,o.index,o.key]),V.createElement(_t,vt({},r,{state:o,descriptors:a,navigation:l}))})),xt=V.createContext(null);function wt(){const e=V.useContext(Ae);if(void 0===e)throw new Error("Couldn't find values for card animation. Are you inside a screen in Stack?");return e}function St(){const e=V.useContext(Ve);if(void 0===e)throw new Error("Couldn't find the header height. Are you inside a screen in Stack?");return e}function Et(){const e=V.useContext(xt);if(void 0===e)throw new Error("Couldn't find a ref for gesture handler. Are you inside a screen in Stack?");return e}const Tt=[n(150),n(151)]},function(e,t,n){"use strict";n.r(t),n.d(t,"PositionError",(function(){return i}));var r={setRNConfiguration:function(){throw new Error("Method not supported by browser")},requestAuthorization:async function(){return Promise.reject("Method not supported by browser")},getCurrentPosition:function(e,t,n){if(!e)throw new Error("Must provide a success callback");if(!navigator||!navigator.geolocation)throw new Error("Navigator is not defined");navigator.geolocation.getCurrentPosition(e,t,n)},watchPosition:function(e,t,n){if(!e)throw new Error("Must provide a success callback");if(!navigator||!navigator.geolocation)throw new Error("Navigator is not defined");return navigator.geolocation.watchPosition(e,t,n)},clearWatch:function(e){if(!navigator||!navigator.geolocation)throw new Error("Navigator is not defined");navigator.geolocation.clearWatch(e)},stopObserving:function(){throw new Error("Method not supported by browser")}};const i=Object.freeze({PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3,PLAY_SERVICE_NOT_AVAILABLE:4,SETTINGS_NOT_SATISFIED:5,INTERNAL_ERROR:-1});t.default=r}]);
//# sourceMappingURL=app.bundle.js.map